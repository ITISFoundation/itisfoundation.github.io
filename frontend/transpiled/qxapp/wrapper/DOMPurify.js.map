{
  "version": 3,
  "sources": [
    "/home/travis/build/ITISFoundation/osparc-simcore/services/web/client/source/class/qxapp/wrapper/DOMPurify.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "statics",
    "NAME",
    "VERSION",
    "URL",
    "construct",
    "properties",
    "libReady",
    "nullable",
    "init",
    "check",
    "members",
    "__diffPatcher",
    "purifyPath",
    "dynLoader",
    "util",
    "DynamicScriptLoader",
    "addListenerOnce",
    "e",
    "console",
    "log",
    "setLibReady",
    "addListener",
    "data",
    "getData",
    "error",
    "script",
    "start",
    "sanitize",
    "html",
    "DOMPurify",
    "qxapp",
    "wrapper"
  ],
  "mappings": ";;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;;;;;;;;;;;;;;;;;AAiBA;;;;AAIA;;AAEA;;;;AAKAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,yBAAhB,EAA2C;AACzCC,IAAAA,MAAM,EAAEN,EAAE,CAACO,IAAH,CAAQC,MADyB;AAEzCC,IAAAA,IAAI,EAAE,WAFmC;AAIzCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAE,WADC;AAEPC,MAAAA,OAAO,EAAE,OAFF;AAGPC,MAAAA,GAAG,EAAE;AAHE,KAJgC;AAUzCC,IAAAA,SAAS,EAAE,qBAAW;AACpB;AACD,KAZwC;AAczCC,IAAAA,UAAU,EAAE;AACVC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE,KADF;AAERC,QAAAA,IAAI,EAAE,KAFE;AAGRC,QAAAA,KAAK,EAAE;AAHC;AADA,KAd6B;AAsBzCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,IADR;AAGPH,MAAAA,IAAI,EAAE,gBAAW;AAAA;;AACf;AACA,YAAII,UAAU,GAAG,yBAAjB;AACA,YAAIC,SAAS,GAAG,IAAIvB,EAAE,CAACwB,IAAH,CAAQC,mBAAZ,CAAgC,CAC9CH,UAD8C,CAAhC,CAAhB;AAIAC,QAAAA,SAAS,CAACG,eAAV,CAA0B,OAA1B,EAAmC,UAAAC,CAAC,EAAI;AACtCC,UAAAA,OAAO,CAACC,GAAR,CAAYP,UAAU,GAAG,SAAzB;;AACA,UAAA,KAAI,CAACQ,WAAL,CAAiB,IAAjB;AACD,SAHD,EAGG,IAHH;AAKAP,QAAAA,SAAS,CAACQ,WAAV,CAAsB,QAAtB,EAAgC,UAAAJ,CAAC,EAAI;AACnC,cAAIK,IAAI,GAAGL,CAAC,CAACM,OAAF,EAAX;AACAL,UAAAA,OAAO,CAACM,KAAR,CAAc,oBAAoBF,IAAI,CAACG,MAAvC;AACD,SAHD,EAGG,IAHH;AAKAZ,QAAAA,SAAS,CAACa,KAAV;AACD,OArBM;AAuBPC,MAAAA,QAAQ,EAAE,kBAASC,IAAT,EAAe;AACvB,eAAOC,SAAS,CAACF,QAAV,CAAmBC,IAAnB,CAAP;AACD;AAzBM;AAtBgC,GAA3C;AA5BAE,EAAAA,KAAK,CAACC,OAAN,CAAcF,SAAd,CAAwBpC,aAAxB,GAAwCA,aAAxC",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qxapp - the simcore frontend\n\n   https://osparc.io\n\n   Copyright:\n     2018 IT'IS Foundation, https://itis.swiss\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n\n   Authors:\n     * Odei Maiz (odeimaiz)\n\n************************************************************************ */\n\n/**\n * @asset(DOMPurify/purify.min.js)\n */\n\n/* global DOMPurify */\n\n/**\n * A qooxdoo wrapper for\n * <a href='https://github.com/benjamine/jsondiffpatch' target='_blank'>JsonDiffPatch</a>\n */\n\nqx.Class.define(\"qxapp.wrapper.DOMPurify\", {\n  extend: qx.core.Object,\n  type: \"singleton\",\n\n  statics: {\n    NAME: \"DOMPurify\",\n    VERSION: \"2.0.0\",\n    URL: \"https://github.com/cure53/DOMPurify\"\n  },\n\n  construct: function() {\n    this.base(arguments);\n  },\n\n  properties: {\n    libReady: {\n      nullable: false,\n      init: false,\n      check: \"Boolean\"\n    }\n  },\n\n  members: {\n    __diffPatcher: null,\n\n    init: function() {\n      // initialize the script loading\n      let purifyPath = \"DOMPurify/purify.min.js\";\n      let dynLoader = new qx.util.DynamicScriptLoader([\n        purifyPath\n      ]);\n\n      dynLoader.addListenerOnce(\"ready\", e => {\n        console.log(purifyPath + \" loaded\");\n        this.setLibReady(true);\n      }, this);\n\n      dynLoader.addListener(\"failed\", e => {\n        let data = e.getData();\n        console.error(\"failed to load \" + data.script);\n      }, this);\n\n      dynLoader.start();\n    },\n\n    sanitize: function(html) {\n      return DOMPurify.sanitize(html);\n    }\n  }\n});\n"
  ]
}