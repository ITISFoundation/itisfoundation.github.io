{
  "version": 3,
  "sources": [
    "/home/travis/build/ITISFoundation/osparc-simcore/services/web/client/source/class/qxapp/component/widget/NodeView.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "splitpane",
    "Pane",
    "construct",
    "inputPanel",
    "__inputPanel",
    "qxapp",
    "desktop",
    "SidePanel",
    "set",
    "minWidth",
    "titleBar",
    "toolbar",
    "ToolBar",
    "titlePart",
    "Part",
    "buttonPart",
    "add",
    "addSpacer",
    "basic",
    "Atom",
    "tr",
    "font",
    "collapseBtn",
    "__collapseBtn",
    "Button",
    "scroll",
    "__scrollContainer",
    "container",
    "Scroll",
    "inputContainer",
    "__inputNodesLayout",
    "Composite",
    "layout",
    "VBox",
    "flex",
    "mainLayout",
    "__mainLayout",
    "__settingsLayout",
    "groupbox",
    "GroupBox",
    "appearance",
    "maxWidth",
    "alignX",
    "setLayout",
    "__mapperLayout",
    "__iFrameLayout",
    "__initToolbar",
    "__attachEventHandlers",
    "properties",
    "workbench",
    "check",
    "nullable",
    "node",
    "apply",
    "members",
    "__toolbar",
    "__title",
    "__buttonContainer",
    "__filesButton",
    "infoPart",
    "buttonsPart",
    "title",
    "infoBtn",
    "filesBtn",
    "addListener",
    "__openNodeDataManager",
    "__openServiceInfo",
    "buildLayout",
    "__addInputPortsUIs",
    "__addSettings",
    "__addMapper",
    "__addIFrame",
    "__addButtons",
    "removeAll",
    "Object",
    "keys",
    "getNode",
    "getInputsDefault",
    "length",
    "__createInputPortsUI",
    "inputNodes",
    "getInputNodes",
    "i",
    "inputNode",
    "getWorkbench",
    "isContainer",
    "exposedInnerNodeId",
    "getExposedInnerNodes",
    "exposedInnerNode",
    "isInputModel",
    "nodePorts",
    "getOutputWidget",
    "getInputsDefaultWidget",
    "setCollapsed",
    "propsWidget",
    "getPropsWidget",
    "getInputs",
    "core",
    "Widget",
    "contains",
    "remove",
    "mapper",
    "getInputsMapper",
    "iFrame",
    "getIFrame",
    "e",
    "__maximizeIFrame",
    "hasState",
    "maximize",
    "othersStatus",
    "setVisibility",
    "hasIFrame",
    "isPropertyInitialized",
    "restoreIFrame",
    "maximizeIFrame",
    "retrieveIFrameButton",
    "getRetrieveIFrameButton",
    "restartIFrameButton",
    "getRestartIFrameButton",
    "nodeDataManager",
    "component",
    "widget",
    "NodeDataManager",
    "win",
    "window",
    "Window",
    "getLabel",
    "Grow",
    "contentPadding",
    "showMinimize",
    "width",
    "height",
    "center",
    "open",
    "metadata",
    "ServiceInfoWindow",
    "getMetaData",
    "__blocker",
    "toggleCollapsed",
    "bind",
    "maximizeIframeCb",
    "msg",
    "setStyles",
    "display",
    "getData",
    "event",
    "message",
    "Bus",
    "getInstance",
    "subscribe",
    "unsubscribe",
    "getChildren",
    "forEach",
    "_applyNode",
    "setLabel",
    "NodeView"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qxapp - the simcore frontend\n\n   https://osparc.io\n\n   Copyright:\n     2018 IT'IS Foundation, https://itis.swiss\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n\n   Authors:\n     * Odei Maiz (odeimaiz)\n\n************************************************************************ */\n\n/**\n * Widget that displays the main view of a node.\n * - On the left side shows the default inputs if any and also what the input nodes offer\n * - In the center the content of the node: settings, mapper, iframe...\n *\n * When a node is set the layout is built\n *\n * *Example*\n *\n * Here is a little example of how to use the widget.\n *\n * <pre class='javascript'>\n *   let nodeView = new qxapp.component.widget.NodeView();\n *   nodeView.setWorkbench(workbench);\n *   nodeView.setNode(workbench.getNode1());\n *   nodeView.buildLayout();\n *   this.getRoot().add(nodeView);\n * </pre>\n */\n\nqx.Class.define(\"qxapp.component.widget.NodeView\", {\n  extend: qx.ui.splitpane.Pane,\n\n  construct: function() {\n    this.base(arguments);\n\n    const inputPanel = this.__inputPanel = new qxapp.desktop.SidePanel().set({\n      minWidth: 300\n    });\n    const titleBar = new qx.ui.toolbar.ToolBar();\n    const titlePart = new qx.ui.toolbar.Part();\n    const buttonPart = new qx.ui.toolbar.Part();\n    titleBar.add(titlePart);\n    titleBar.addSpacer();\n    titleBar.add(buttonPart);\n    this.add(titleBar, 0);\n    titlePart.add(new qx.ui.basic.Atom(this.tr(\"Inputs\")).set({\n      font: \"title-18\"\n    }));\n    const collapseBtn = this.__collapseBtn = new qx.ui.toolbar.Button(this.tr(\"Collapse all\"), \"@FontAwesome5Solid/minus-square/14\");\n    buttonPart.add(collapseBtn);\n    inputPanel.add(titleBar);\n\n    const scroll = this.__scrollContainer = new qx.ui.container.Scroll();\n    const inputContainer = this.__inputNodesLayout = new qx.ui.container.Composite(new qx.ui.layout.VBox());\n    scroll.add(inputContainer);\n    inputPanel.add(scroll, {\n      flex: 1\n    });\n\n    this.add(inputPanel, 0);\n\n    const mainLayout = this.__mainLayout = new qx.ui.container.Composite(new qx.ui.layout.VBox(10));\n    this.add(mainLayout, 1);\n\n    this.__settingsLayout = new qx.ui.groupbox.GroupBox(this.tr(\"Settings\")).set({\n      appearance: \"settings-groupbox\",\n      maxWidth: 500,\n      alignX: \"center\"\n    });\n    this.__settingsLayout.setLayout(new qx.ui.layout.VBox());\n    this.__mapperLayout = new qx.ui.container.Composite(new qx.ui.layout.VBox(10));\n    this.__iFrameLayout = new qx.ui.container.Composite(new qx.ui.layout.VBox());\n\n    mainLayout.add(this.__initToolbar());\n\n    this.__attachEventHandlers();\n  },\n\n  properties: {\n    workbench: {\n      check: \"qxapp.data.model.Workbench\",\n      nullable: false\n    },\n\n    node: {\n      check: \"qxapp.data.model.Node\",\n      apply: \"_applyNode\"\n    }\n  },\n\n  members: {\n    __mainLayout: null,\n    __scrollContainer: null,\n    __inputPanel: null,\n    __inputNodesLayout: null,\n    __settingsLayout: null,\n    __mapperLayout: null,\n    __iFrameLayout: null,\n    __toolbar: null,\n    __title: null,\n    __buttonContainer: null,\n    __filesButton: null,\n    __collapseBtn: null,\n\n    __initToolbar: function() {\n      const toolbar = this.__toolbar = new qx.ui.toolbar.ToolBar();\n      const titlePart = new qx.ui.toolbar.Part();\n      const infoPart = new qx.ui.toolbar.Part();\n      const buttonsPart = this.__buttonContainer = new qx.ui.toolbar.Part();\n      toolbar.add(titlePart);\n      toolbar.add(infoPart);\n      toolbar.addSpacer();\n\n      const title = this.__title = new qx.ui.basic.Atom().set({\n        font: \"title-18\"\n      });\n      titlePart.add(title);\n\n      const infoBtn = new qx.ui.toolbar.Button(this.tr(\"Info\"), \"@FontAwesome5Solid/info-circle/14\");\n      infoPart.add(infoBtn);\n\n      const filesBtn = this.__filesButton = new qx.ui.toolbar.Button(this.tr(\"Files\"), \"@FontAwesome5Solid/folder-open/14\");\n      buttonsPart.add(filesBtn);\n\n      filesBtn.addListener(\"execute\", () => this.__openNodeDataManager(), this);\n\n      infoBtn.addListener(\"execute\", () => this.__openServiceInfo(), this);\n\n      return toolbar;\n    },\n\n    buildLayout: function() {\n      this.__addInputPortsUIs();\n      this.__addSettings();\n      this.__addMapper();\n      this.__addIFrame();\n      this.__addButtons();\n    },\n\n    __addInputPortsUIs: function() {\n      this.__inputNodesLayout.removeAll();\n\n      // Add the default inputs if any\n      if (Object.keys(this.getNode().getInputsDefault()).length > 0) {\n        this.__createInputPortsUI(this.getNode(), false);\n      }\n\n      // Add the representations for the inputs\n      const inputNodes = this.getNode().getInputNodes();\n      for (let i=0; i<inputNodes.length; i++) {\n        let inputNode = this.getWorkbench().getNode(inputNodes[i]);\n        if (inputNode.isContainer()) {\n          for (const exposedInnerNodeId in inputNode.getExposedInnerNodes()) {\n            const exposedInnerNode = inputNode.getExposedInnerNodes()[exposedInnerNodeId];\n            this.__createInputPortsUI(exposedInnerNode);\n          }\n        } else {\n          this.__createInputPortsUI(inputNode);\n        }\n      }\n    },\n\n    __createInputPortsUI: function(inputNode, isInputModel = true) {\n      let nodePorts = null;\n      if (isInputModel) {\n        nodePorts = inputNode.getOutputWidget();\n      } else {\n        nodePorts = inputNode.getInputsDefaultWidget();\n      }\n      if (nodePorts) {\n        this.__inputNodesLayout.add(nodePorts, {\n          flex: 1\n        });\n      }\n      nodePorts.setCollapsed(false);\n      return nodePorts;\n    },\n\n    __addSettings: function() {\n      const propsWidget = this.getNode().getPropsWidget();\n      this.__settingsLayout.removeAll();\n      if (propsWidget && Object.keys(this.getNode().getInputs()).length) {\n        this.__settingsLayout.add(propsWidget);\n        this.__mainLayout.add(this.__settingsLayout);\n      } else if (qx.ui.core.Widget.contains(this.__mainLayout, this.__settingsLayout)) {\n        this.__mainLayout.remove(this.__settingsLayout);\n      }\n    },\n\n    __addMapper: function() {\n      const mapper = this.getNode().getInputsMapper();\n      this.__mapperLayout.removeAll();\n      if (mapper) {\n        this.__mapperLayout.add(mapper, {\n          flex: 1\n        });\n        this.__mainLayout.add(this.__mapperLayout, {\n          flex: 1\n        });\n      } else if (qx.ui.core.Widget.contains(this.__mainLayout, this.__mapperLayout)) {\n        this.__mainLayout.remove(this.__mapperLayout);\n      }\n    },\n\n    __addIFrame: function() {\n      const iFrame = this.getNode().getIFrame();\n      this.__iFrameLayout.removeAll();\n      if (iFrame) {\n        iFrame.addListener(\"maximize\", e => {\n          this.__maximizeIFrame(true);\n        }, this);\n        iFrame.addListener(\"restore\", e => {\n          this.__maximizeIFrame(false);\n        }, this);\n        this.__maximizeIFrame(iFrame.hasState(\"maximized\"));\n        this.__iFrameLayout.add(iFrame, {\n          flex: 1\n        });\n        this.__mainLayout.add(this.__iFrameLayout, {\n          flex: 1\n        });\n      } else if (qx.ui.core.Widget.contains(this.__mainLayout, this.__iFrameLayout)) {\n        this.__mainLayout.remove(this.__iFrameLayout);\n      }\n    },\n\n    __maximizeIFrame: function(maximize) {\n      const othersStatus = maximize ? \"excluded\" : \"visible\";\n      this.__inputNodesLayout.setVisibility(othersStatus);\n      this.__settingsLayout.setVisibility(othersStatus);\n      this.__mapperLayout.setVisibility(othersStatus);\n      this.__toolbar.setVisibility(othersStatus);\n    },\n\n    hasIFrame: function() {\n      return (this.isPropertyInitialized(\"node\") && this.getNode().getIFrame());\n    },\n\n    restoreIFrame: function() {\n      if (this.hasIFrame()) {\n        const iFrame = this.getNode().getIFrame();\n        if (iFrame) {\n          iFrame.maximizeIFrame(false);\n        }\n      }\n    },\n\n    __addButtons: function() {\n      this.__buttonContainer.removeAll();\n      let retrieveIFrameButton = this.getNode().getRetrieveIFrameButton();\n      if (retrieveIFrameButton) {\n        this.__buttonContainer.add(retrieveIFrameButton);\n      }\n      let restartIFrameButton = this.getNode().getRestartIFrameButton();\n      if (restartIFrameButton) {\n        this.__buttonContainer.add(restartIFrameButton);\n      }\n      this.__buttonContainer.add(this.__filesButton);\n      this.__toolbar.add(this.__buttonContainer);\n    },\n\n    __openNodeDataManager: function() {\n      const nodeDataManager = new qxapp.component.widget.NodeDataManager(this.getNode());\n\n      const win = new qx.ui.window.Window(this.getNode().getLabel()).set({\n        layout: new qx.ui.layout.Grow(),\n        contentPadding: 0,\n        showMinimize: false,\n        width: 900,\n        height: 600,\n        appearance: \"service-window\"\n      });\n      win.add(nodeDataManager);\n\n      win.center();\n      win.open();\n    },\n\n    __openServiceInfo: function() {\n      const win = new qxapp.component.metadata.ServiceInfoWindow(this.getNode().getMetaData());\n      win.center();\n      win.open();\n    },\n\n    __attachEventHandlers: function() {\n      this.__blocker.addListener(\"tap\", this.__inputPanel.toggleCollapsed.bind(this.__inputPanel));\n\n      const maximizeIframeCb = msg => {\n        this.__blocker.setStyles({\n          display: msg.getData() ? \"none\" : \"block\"\n        });\n        this.__inputPanel.setVisibility(msg.getData() ? \"excluded\" : \"visible\");\n      };\n\n      this.addListener(\"appear\", () => {\n        qx.event.message.Bus.getInstance().subscribe(\"maximizeIframe\", maximizeIframeCb, this);\n      }, this);\n\n      this.addListener(\"disappear\", () => {\n        qx.event.message.Bus.getInstance().unsubscribe(\"maximizeIframe\", maximizeIframeCb, this);\n      }, this);\n\n      this.__collapseBtn.addListener(\"execute\", () => {\n        this.__inputNodesLayout.getChildren().forEach(node => {\n          node.setCollapsed(true);\n        });\n      }, this);\n    },\n\n    _applyNode: function(node) {\n      this.__title.setLabel(node.getLabel());\n    }\n  }\n});\n"
  ]
}