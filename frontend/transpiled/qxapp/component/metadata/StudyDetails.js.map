{
  "version": 3,
  "sources": [
    "/home/travis/build/ITISFoundation/osparc-simcore/services/web/client/source/class/qxapp/component/metadata/StudyDetails.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "construct",
    "study",
    "maxHeight",
    "_setLayout",
    "layout",
    "VBox",
    "qxapp",
    "data",
    "model",
    "Study",
    "__study",
    "__populateLayout",
    "members",
    "hBox",
    "container",
    "Composite",
    "HBox",
    "vBox",
    "add",
    "__createTitle",
    "__createExtraInfo",
    "__createThumbnail",
    "flex",
    "_add",
    "__createDescription",
    "image",
    "basic",
    "Image",
    "set",
    "scale",
    "allowStretchX",
    "allowStretchY",
    "parseInt",
    "bind",
    "converter",
    "thumbnail",
    "grid",
    "Grid",
    "setColumnAlign",
    "setColumnFlex",
    "moreInfo",
    "maxWidth",
    "alignY",
    "creationDate",
    "Label",
    "lastChangeDate",
    "owner",
    "dateFormat",
    "util",
    "format",
    "DateFormat",
    "locale",
    "Date",
    "getDateFormat",
    "getTimeFormat",
    "dateOptions",
    "date",
    "tr",
    "font",
    "row",
    "column",
    "title",
    "rich",
    "description",
    "markdown",
    "Markdown",
    "component",
    "metadata",
    "StudyDetails"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/*\n * oSPARC - The SIMCORE frontend - https://osparc.io\n * Copyright: 2019 IT'IS Foundation - https://itis.swiss\n * License: MIT - https://opensource.org/licenses/MIT\n * Authors: Ignacio Pascual (ignapas)\n *          Odei Maiz (odeimaiz)\n */\n\n/**\n * Widget that displays the available information of the given study metadata.\n *\n * *Example*\n *\n * Here is a little example of how to use the widget.\n *\n * <pre class='javascript'>\n *    const studyDetails = new qxapp.component.metadata.StudyDetails(study);\n *    this.add(studyDetails);\n * </pre>\n */\n\nqx.Class.define(\"qxapp.component.metadata.StudyDetails\", {\n  extend: qx.ui.core.Widget,\n\n  /**\n    * @param study {Object|qxapp.data.model.Study} Study (metadata)\n    * @param maxHeight {Integer} Max Height of the thumbnail\n    */\n  construct: function(study, maxHeight) {\n    this.base(arguments);\n    this._setLayout(new qx.ui.layout.VBox(10));\n\n    if (study instanceof qxapp.data.model.Study) {\n      this.__study = study;\n    } else {\n      this.__study = new qxapp.data.model.Study(study);\n    }\n\n    this.__populateLayout(maxHeight);\n  },\n\n  members: {\n    __study: null,\n\n    __populateLayout: function(maxHeight) {\n      const hBox = new qx.ui.container.Composite(new qx.ui.layout.HBox(8));\n      const vBox = new qx.ui.container.Composite(new qx.ui.layout.VBox(8));\n      vBox.add(this.__createTitle());\n      vBox.add(this.__createExtraInfo());\n      hBox.add(vBox);\n      hBox.add(this.__createThumbnail(maxHeight), {\n        flex: 1\n      });\n      this._add(hBox);\n      this._add(this.__createDescription());\n    },\n\n    __createThumbnail: function(maxHeight) {\n      const image = new qx.ui.basic.Image().set({\n        scale: true,\n        allowStretchX: true,\n        allowStretchY: true,\n        maxHeight: maxHeight ? parseInt(maxHeight) : 200\n      });\n\n      this.__study.bind(\"thumbnail\", image, \"source\");\n      this.__study.bind(\"thumbnail\", image, \"visibility\", {\n        converter: thumbnail => {\n          if (thumbnail) {\n            return \"visible\";\n          }\n          return \"excluded\";\n        }\n      });\n\n      return image;\n    },\n\n    __createExtraInfo: function() {\n      const grid = new qx.ui.layout.Grid(5, 3);\n      grid.setColumnAlign(0, \"right\", \"middle\");\n      grid.setColumnAlign(1, \"left\", \"middle\");\n      grid.setColumnFlex(0, 1);\n      grid.setColumnFlex(1, 1);\n      const moreInfo = new qx.ui.container.Composite(grid).set({\n        maxWidth: 220,\n        alignY: \"middle\"\n      });\n\n      const creationDate = new qx.ui.basic.Label();\n      const lastChangeDate = new qx.ui.basic.Label();\n      const owner = new qx.ui.basic.Label();\n\n      // create a date format like \"Oct. 19, 2018 11:31 AM\"\n      const dateFormat = new qx.util.format.DateFormat(\n        qx.locale.Date.getDateFormat(\"medium\") + \" \" +\n        qx.locale.Date.getTimeFormat(\"short\")\n      );\n      const dateOptions = {\n        converter: date => dateFormat.format(date)\n      };\n      this.__study.bind(\"creationDate\", creationDate, \"value\", dateOptions);\n      this.__study.bind(\"lastChangeDate\", lastChangeDate, \"value\", dateOptions);\n      this.__study.bind(\"prjOwner\", owner, \"value\");\n\n      moreInfo.add(new qx.ui.basic.Label(this.tr(\"Owner\")).set({\n        font: \"title-12\"\n      }), {\n        row: 0,\n        column: 0\n      });\n      moreInfo.add(owner, {\n        row: 0,\n        column: 1\n      });\n      moreInfo.add(new qx.ui.basic.Label(this.tr(\"Creation date\")).set({\n        font: \"title-12\"\n      }), {\n        row: 1,\n        column: 0\n      });\n      moreInfo.add(creationDate, {\n        row: 1,\n        column: 1\n      });\n      moreInfo.add(new qx.ui.basic.Label(this.tr(\"Last modified\")).set({\n        font: \"title-12\"\n      }), {\n        row: 2,\n        column: 0\n      });\n      moreInfo.add(lastChangeDate, {\n        row: 2,\n        column: 1\n      });\n\n      return moreInfo;\n    },\n\n    __createTitle: function() {\n      const title = new qx.ui.basic.Label().set({\n        font: \"nav-bar-label\",\n        allowStretchX: true,\n        rich: true\n      });\n\n      this.__study.bind(\"name\", title, \"value\");\n\n      return title;\n    },\n\n    __createDescription: function() {\n      const description = new qxapp.ui.markdown.Markdown();\n      this.__study.bind(\"description\", description, \"markdown\");\n      return description;\n    }\n  }\n});\n"
  ]
}