{
  "version": 3,
  "sources": [
    "/home/travis/build/ITISFoundation/osparc-simcore/services/web/client/source/class/qxapp/desktop/PanelView.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "construct",
    "title",
    "content",
    "_setLayout",
    "layout",
    "VBox",
    "__titleBar",
    "container",
    "Composite",
    "HBox",
    "set",
    "alignY",
    "appearance",
    "_add",
    "__caret",
    "getChildControl",
    "setTitle",
    "setContent",
    "__attachEventHandlers",
    "statics",
    "MORE_CARET",
    "LESS_CARET",
    "properties",
    "check",
    "nullable",
    "apply",
    "collapsed",
    "init",
    "sideCollapsed",
    "refine",
    "caretSize",
    "members",
    "__titleLabel",
    "__innerContainer",
    "__containerHeight",
    "__layoutFlex",
    "__minHeight",
    "__contentMinHeight",
    "_createChildControlImpl",
    "id",
    "control",
    "basic",
    "Atom",
    "getTitle",
    "addAt",
    "Image",
    "__getCaretId",
    "getCollapsed",
    "visibility",
    "toggleCollapsed",
    "setCollapsed",
    "toggleSideCollapsed",
    "setSideCollapsed",
    "getSideCollapsed",
    "_applyCollapsed",
    "getContent",
    "setSource",
    "getMinHeight",
    "setMinHeight",
    "getLayoutProperties",
    "flex",
    "setLayoutProperties",
    "setHeight",
    "_applyContent",
    "oldContent",
    "Grow",
    "padding",
    "_addAt",
    "addListener",
    "e",
    "height",
    "getOldData",
    "addListenerOnce",
    "getContentElement",
    "getDomElement",
    "style",
    "transform",
    "removeAll",
    "add",
    "show",
    "exclude",
    "_applyTitle",
    "setLabel",
    "_applySideCollapsed",
    "sideCollapse",
    "old",
    "_applyCaretSize",
    "size",
    "getCaretSize",
    "moreCaret",
    "lessCaret",
    "qxapp",
    "desktop",
    "PanelView"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qxapp - the simcore frontend\n\n   https://osparc.io\n\n   Copyright:\n     2018 IT'IS Foundation, https://itis.swiss\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n\n   Authors:\n     * Ignacio Pascual (ignapas)\n\n************************************************************************ */\n/* eslint-disable no-use-before-define */\n\n/**\n * Display widget with a title bar and collapsible content.\n */\nqx.Class.define(\"qxapp.desktop.PanelView\", {\n\n  extend: qx.ui.core.Widget,\n\n  construct: function(title, content) {\n    this.base(arguments);\n\n    // Layout\n    this._setLayout(new qx.ui.layout.VBox());\n\n    // Title bar\n    this.__titleBar = new qx.ui.container.Composite(new qx.ui.layout.HBox(5).set({\n      alignY: \"middle\"\n    })).set({\n      appearance: \"panelview-titlebar\"\n    });\n    this._add(this.__titleBar);\n\n    this.__caret = this.getChildControl(\"caret\");\n\n    // Set if coming in the constructor arguments\n    if (title) {\n      this.setTitle(title);\n    }\n    if (content) {\n      this.setContent(content);\n    }\n\n    // Attach handlers\n    this.__attachEventHandlers();\n  },\n\n  statics: {\n    MORE_CARET: \"@MaterialIcons/expand_more/\",\n    LESS_CARET: \"@MaterialIcons/expand_less/\"\n  },\n\n  properties: {\n    title: {\n      check: \"String\",\n      nullable: true,\n      apply: \"_applyTitle\"\n    },\n\n    content: {\n      check: \"qx.ui.core.Widget\",\n      nullable: true,\n      apply: \"_applyContent\"\n    },\n\n    collapsed: {\n      init: false,\n      check: \"Boolean\",\n      apply: \"_applyCollapsed\"\n    },\n\n    sideCollapsed: {\n      init: false,\n      check: \"Boolean\",\n      apply: \"_applySideCollapsed\"\n    },\n\n    appearance: {\n      init: \"panelview\",\n      refine: true\n    },\n\n    caretSize: {\n      init: 20,\n      nullable: false,\n      check: \"Integer\",\n      apply: \"_applyCaretSize\"\n    }\n  },\n\n  members: {\n    __titleBar: null,\n    __titleLabel: null,\n    __caret: null,\n    __innerContainer: null,\n    __containerHeight: null,\n    __layoutFlex: null,\n    __minHeight: null,\n    __contentMinHeight: null,\n\n    _createChildControlImpl: function(id) {\n      let control;\n      switch (id) {\n        case \"title\":\n          control = new qx.ui.basic.Atom(this.getTitle());\n          this.__titleBar.addAt(control, 0);\n          break;\n        case \"caret\":\n          control = new qx.ui.basic.Image(this.__getCaretId(this.getCollapsed())).set({\n            visibility: \"excluded\"\n          });\n          this.__titleBar.addAt(control, 1);\n          break;\n      }\n      return control || this.base(arguments, id);\n    },\n\n    toggleCollapsed: function() {\n      this.setCollapsed(!this.getCollapsed());\n    },\n\n    toggleSideCollapsed: function() {\n      this.setSideCollapsed(!this.getSideCollapsed());\n    },\n\n    _applyCollapsed: function(collapsed) {\n      if (this.getContent()) {\n        this.__caret.setSource(this.__getCaretId(collapsed));\n        if (collapsed) {\n          this.__minHeight = this.getMinHeight();\n          if (this.getContent()) {\n            this.__contentMinHeight = this.getContent().getMinHeight();\n            this.getContent().setMinHeight(0);\n          }\n          this.setMinHeight(0);\n          if (this.getLayoutProperties().flex) {\n            this.__layoutFlex = this.getLayoutProperties().flex;\n            this.setLayoutProperties({\n              flex: 0\n            });\n          }\n        } else {\n          this.setMinHeight(this.__minHeight);\n          if (this.getContent()) {\n            this.getContent().setMinHeight(this.__contentMinHeight);\n          }\n          if (this.__layoutFlex) {\n            this.setLayoutProperties({\n              flex: this.__layoutFlex\n            });\n          }\n        }\n        this.__innerContainer.setHeight(collapsed ? 0 : this.__containerHeight);\n      }\n    },\n\n    _applyContent: function(content, oldContent) {\n      if (this.__innerContainer === null) {\n        this.__innerContainer = new qx.ui.container.Composite(new qx.ui.layout.Grow()).set({\n          appearance: \"panelview-content\",\n          padding: 0\n        });\n        this._addAt(this.__innerContainer, 1, {\n          flex: 1\n        });\n\n        this.__innerContainer.addListener(\"changeHeight\", e => {\n          const height = e.getOldData();\n          if (height != 0) {\n            this.__containerHeight = height;\n          }\n        }, this);\n\n        content.addListenerOnce(\"appear\", () => {\n          content.getContentElement().getDomElement().style.transform = \"translateZ(0)\";\n        });\n      }\n\n      this.__innerContainer.removeAll();\n      this.__innerContainer.add(content);\n      this.__innerContainer.setHeight(this.getCollapsed() ? 0 : this.__containerHeight);\n\n      if (content) {\n        this.__caret.show();\n      } else {\n        this.__caret.exclude();\n      }\n    },\n\n    _applyTitle: function(title) {\n      this.__titleLabel = this.getChildControl(\"title\");\n      this.__titleLabel.setLabel(title);\n    },\n\n    _applySideCollapsed: function(sideCollapse, old) {\n      this.setCollapsed(sideCollapse);\n    },\n\n    _applyCaretSize: function(size) {\n      this.__caret.setSource(this.__getCaretId(this.getCollapsed()));\n    },\n\n    __getCaretId: function(collapsed) {\n      const caretSize = this.getCaretSize();\n      const moreCaret = this.self().MORE_CARET;\n      const lessCaret = this.self().LESS_CARET;\n      return collapsed ? moreCaret + caretSize : lessCaret + caretSize;\n    },\n\n    __attachEventHandlers: function() {\n      this.__titleBar.addListener(\"tap\", () => {\n        this.toggleCollapsed();\n      }, this);\n    }\n  }\n\n});\n"
  ]
}