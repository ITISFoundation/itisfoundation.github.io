{
  "version": 3,
  "sources": [
    "/home/travis/build/ITISFoundation/osparc-simcore/services/web/client/source/class/qxapp/desktop/NavigationBar.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "NAVIGATION_BUTTON_HEIGHT",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "construct",
    "_setLayout",
    "layout",
    "HBox",
    "set",
    "alignY",
    "paddingLeft",
    "paddingRight",
    "maxHeight",
    "backgroundColor",
    "commonBtnSettings",
    "allowGrowY",
    "minWidth",
    "minHeight",
    "logo",
    "qxapp",
    "component",
    "widget",
    "LogoOnOff",
    "getInstance",
    "_add",
    "toolbar",
    "Separator",
    "dashboardBtn",
    "__dashboardBtn",
    "form",
    "Button",
    "rich",
    "utils",
    "Utils",
    "setIdToWidget",
    "addListener",
    "fireEvent",
    "__highlightDashboard",
    "hBox",
    "mainViewCaptionLayout",
    "__mainViewCaptionLayout",
    "container",
    "Composite",
    "Spacer",
    "flex",
    "LinkButton",
    "tr",
    "appearance",
    "FEEDBACK_FORM_URL",
    "userEmail",
    "auth",
    "Data",
    "getEmail",
    "userName",
    "getUserName",
    "userBtn",
    "__createUserBtn",
    "icon",
    "Avatar",
    "getUrl",
    "label",
    "events",
    "properties",
    "study",
    "check",
    "nullable",
    "statics",
    "members",
    "setPathButtons",
    "nodeIds",
    "removeAll",
    "navBarLabelFont",
    "bom",
    "Font",
    "fromConfig",
    "theme",
    "fonts",
    "length",
    "i",
    "btn",
    "nodeId",
    "getStudy",
    "bind",
    "node",
    "getWorkbench",
    "getNode",
    "fireDataEvent",
    "add",
    "mainViewCaption",
    "__mainViewCaption",
    "basic",
    "Label",
    "font",
    "setLabel",
    "getLabel",
    "highlight",
    "studySaved",
    "getChildren",
    "waitFor",
    "event",
    "Timer",
    "once",
    "ev",
    "removeState",
    "addState",
    "menu",
    "Menu",
    "preferences",
    "__onOpenAccountSettings",
    "addSeparator",
    "helpBtn",
    "window",
    "open",
    "newIssueBtn",
    "NewGHIssue",
    "getNewIssueUrl",
    "aboutBtn",
    "About",
    "logout",
    "e",
    "Init",
    "getApplication",
    "MenuButton",
    "getChildControl",
    "getContentElement",
    "setStyles",
    "__preferencesWin",
    "desktop",
    "Preferences",
    "win",
    "center",
    "NavigationBar"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qxapp - the simcore frontend\n\n   https://osparc.io\n\n   Copyright:\n     2018 IT'IS Foundation, https://itis.swiss\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n\n   Authors:\n     * Odei Maiz (odeimaiz)\n\n************************************************************************ */\n\n/**\n * Widget containing:\n * - LogoOnOff\n * - Dashboard button\n * - List of buttons for node navigation (only study editing)\n * - User menu\n *   - Preferences\n *   - Help\n *   - About\n *   - Logout\n *\n * *Example*\n *\n * Here is a little example of how to use the widget.\n *\n * <pre class='javascript'>\n *   let navBar = new qxapp.desktop.NavigationBar();\n *   this.getRoot().add(navBar);\n * </pre>\n */\n\nconst NAVIGATION_BUTTON_HEIGHT = 32;\n\nqx.Class.define(\"qxapp.desktop.NavigationBar\", {\n  extend: qx.ui.core.Widget,\n\n  construct: function() {\n    this.base(arguments);\n\n    this._setLayout(new qx.ui.layout.HBox(10).set({\n      alignY: \"middle\"\n    }));\n\n    this.set({\n      paddingLeft: 10,\n      paddingRight: 10,\n      maxHeight: 50,\n      backgroundColor: \"background-main-lighter\"\n    });\n\n    const commonBtnSettings = {\n      allowGrowY: false,\n      minWidth: 32,\n      minHeight: NAVIGATION_BUTTON_HEIGHT\n    };\n\n    let logo = qxapp.component.widget.LogoOnOff.getInstance();\n    this._add(logo);\n    this._add(new qx.ui.toolbar.Separator());\n\n    let dashboardBtn = this.__dashboardBtn = new qx.ui.form.Button().set({\n      rich: true\n    });\n    qxapp.utils.Utils.setIdToWidget(dashboardBtn, \"dashboardBtn\");\n    dashboardBtn.set(commonBtnSettings);\n    dashboardBtn.addListener(\"execute\", () => {\n      this.fireEvent(\"dashboardPressed\");\n    }, this);\n    this.__highlightDashboard();\n    this._add(dashboardBtn);\n\n    this._add(new qx.ui.toolbar.Separator());\n\n    let hBox = new qx.ui.layout.HBox(5).set({\n      alignY: \"middle\"\n    });\n    let mainViewCaptionLayout = this.__mainViewCaptionLayout = new qx.ui.container.Composite(hBox);\n    this._add(mainViewCaptionLayout);\n\n    this._add(new qx.ui.core.Spacer(5), {\n      flex: 1\n    });\n\n    this._add(new qxapp.ui.form.LinkButton(this.tr(\"User manual\"), \"https://docs.osparc.io\").set({\n      appearance: \"link-button\"\n    }));\n\n    this._add(new qxapp.ui.form.LinkButton(this.tr(\"Give us feedback\"), this.self().FEEDBACK_FORM_URL).set({\n      appearance: \"link-button\"\n    }));\n\n    const userEmail = qxapp.auth.Data.getInstance().getEmail() || \"bizzy@itis.ethz.ch\";\n    const userName = qxapp.auth.Data.getInstance().getUserName() || \"bizzy\";\n\n    const userBtn = this.__createUserBtn();\n    userBtn.set({\n      ...commonBtnSettings,\n      icon: qxapp.utils.Avatar.getUrl(userEmail, NAVIGATION_BUTTON_HEIGHT),\n      label: userName\n    });\n\n    this._add(userBtn);\n  },\n\n  events: {\n    \"nodeDoubleClicked\": \"qx.event.type.Data\",\n    \"dashboardPressed\": \"qx.event.type.Event\"\n  },\n\n  properties: {\n    study: {\n      check: \"qxapp.data.model.Study\",\n      nullable: true\n    }\n  },\n\n  statics: {\n    FEEDBACK_FORM_URL: \"https://docs.google.com/forms/d/e/1FAIpQLSe232bTigsM2zV97Kjp2OhCenl6o9gNGcDFt2kO_dfkIjtQAQ/viewform?usp=sf_link\"\n  },\n\n  members: {\n    __dashboardBtn: null,\n    __mainViewCaptionLayout: null,\n\n    setPathButtons: function(nodeIds) {\n      this.__mainViewCaptionLayout.removeAll();\n      const navBarLabelFont = qx.bom.Font.fromConfig(qxapp.theme.Font.fonts[\"nav-bar-label\"]);\n      if (nodeIds.length === 0) {\n        this.__highlightDashboard(true);\n      }\n      for (let i=0; i<nodeIds.length; i++) {\n        let btn = new qx.ui.form.Button().set({\n          rich: true,\n          maxHeight: NAVIGATION_BUTTON_HEIGHT\n        });\n        const nodeId = nodeIds[i];\n        if (nodeId === \"root\") {\n          this.getStudy().bind(\"name\", btn, \"label\");\n        } else {\n          const node = this.getStudy().getWorkbench()\n            .getNode(nodeId);\n          if (node) {\n            node.bind(\"label\", btn, \"label\");\n          }\n        }\n        btn.addListener(\"execute\", function() {\n          this.fireDataEvent(\"nodeDoubleClicked\", nodeId);\n        }, this);\n        this.__mainViewCaptionLayout.add(btn);\n\n        if (i<nodeIds.length-1) {\n          let mainViewCaption = this.__mainViewCaption = new qx.ui.basic.Label(\">\").set({\n            font: navBarLabelFont\n          });\n          this.__mainViewCaptionLayout.add(mainViewCaption);\n        }\n        if (i === nodeIds.length-1) {\n          this.__highlightDashboard(false);\n          btn.setLabel(\"<b>\" + btn.getLabel() + \"</b>\");\n        }\n      }\n    },\n\n    __highlightDashboard: function(highlight = true) {\n      const label = this.tr(\"Dashboard\");\n      highlight ? this.__dashboardBtn.setLabel(\"<b>\"+label+\"</b>\") : this.__dashboardBtn.setLabel(label);\n    },\n\n    studySaved: function() {\n      for (let i=0; i<this.__mainViewCaptionLayout.getChildren().length; i++) {\n        let widget = this.__mainViewCaptionLayout.getChildren()[i];\n        if (widget instanceof qx.ui.form.Button) {\n          const waitFor = 500;\n          qx.event.Timer.once(ev => {\n            widget.removeState(\"hovered\");\n          }, this, waitFor);\n          widget.addState(\"hovered\");\n          return;\n        }\n      }\n    },\n\n    __createUserBtn: function() {\n      const menu = new qx.ui.menu.Menu();\n\n      const preferences = new qx.ui.menu.Button(this.tr(\"Preferences\"));\n      preferences.addListener(\"execute\", this.__onOpenAccountSettings, this);\n      qxapp.utils.Utils.setIdToWidget(preferences, \"userMenuPreferencesBtn\");\n      menu.add(preferences);\n\n      menu.addSeparator();\n\n      const helpBtn = new qx.ui.menu.Button(this.tr(\"Help\"));\n      helpBtn.addListener(\"execute\", () => window.open(\"https://docs.osparc.io\"));\n      qxapp.utils.Utils.setIdToWidget(helpBtn, \"userMenuHelpBtn\");\n      menu.add(helpBtn);\n\n      const newIssueBtn = new qx.ui.menu.Button(this.tr(\"Open issue in GitHub\"));\n      newIssueBtn.addListener(\"execute\", () => window.open(qxapp.component.widget.NewGHIssue.getNewIssueUrl()));\n      qxapp.utils.Utils.setIdToWidget(newIssueBtn, \"userMenuGithubBtn\");\n      menu.add(newIssueBtn);\n\n      const aboutBtn = new qx.ui.menu.Button(this.tr(\"About\"));\n      aboutBtn.addListener(\"execute\", () => qxapp.About.getInstance().open());\n      qxapp.utils.Utils.setIdToWidget(aboutBtn, \"userMenuAboutBtn\");\n      menu.add(aboutBtn);\n\n      menu.addSeparator();\n\n      const logout = new qx.ui.menu.Button(this.tr(\"Logout\"));\n      logout.addListener(\"execute\", e => {\n        qx.core.Init.getApplication().logout();\n      });\n      qxapp.utils.Utils.setIdToWidget(logout, \"userMenuLogoutBtn\");\n      menu.add(logout);\n\n      const userBtn = new qx.ui.form.MenuButton(null, null, menu);\n      userBtn.getChildControl(\"icon\").getContentElement()\n        .setStyles({\n          \"border-radius\": \"16px\"\n        });\n      qxapp.utils.Utils.setIdToWidget(userBtn, \"userMenuMainBtn\");\n\n      return userBtn;\n    },\n\n    __onOpenAccountSettings: function() {\n      if (!this.__preferencesWin) {\n        this.__preferencesWin = new qxapp.desktop.preferences.Preferences();\n      }\n\n      let win = this.__preferencesWin;\n      if (win) {\n        win.center();\n        win.open();\n      }\n    }\n  }\n});\n"
  ]
}