{
  "version": 3,
  "sources": [
    "/home/travis/build/ITISFoundation/osparc-simcore/services/web/client/source/class/qxapp/desktop/DataBrowser.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "construct",
    "prjBrowserLayout",
    "layout",
    "VBox",
    "_setLayout",
    "__createDataManagerLayout",
    "addListener",
    "__initResources",
    "members",
    "__filesTree",
    "__selectedFileLayout",
    "__pieChart",
    "locationId",
    "populateTree",
    "__resetCache",
    "resetCache",
    "dataManagerMainLayout",
    "__createVBoxWLabel",
    "tr",
    "dataManagerLayout",
    "container",
    "Composite",
    "HBox",
    "add",
    "flex",
    "treeLayout",
    "__createTreeLayout",
    "showPieChart",
    "chartLayout",
    "__createChartLayout",
    "_add",
    "text",
    "vBoxLayout",
    "set",
    "marginTop",
    "label",
    "basic",
    "Label",
    "font",
    "bom",
    "Font",
    "fromConfig",
    "qxapp",
    "theme",
    "fonts",
    "minWidth",
    "reloadBtn",
    "form",
    "Button",
    "icon",
    "allowGrowX",
    "filesTree",
    "file",
    "FilesTree",
    "dragMechnism",
    "dropMechnism",
    "__selectionChanged",
    "e",
    "actionsToolbar",
    "__createActionsToolbar",
    "toolbar",
    "ToolBar",
    "fileActions",
    "Part",
    "addFile",
    "addSpacer",
    "addBtn",
    "FilesAdd",
    "fileMetadata",
    "getData",
    "selectedFileLayout",
    "FileLabelWithActions",
    "plotlyDivId",
    "plotly",
    "component",
    "widget",
    "PlotlyWidget",
    "myPlot",
    "document",
    "getElementById",
    "on",
    "data",
    "__reloadChartData",
    "resetSelection",
    "selectionData",
    "getSelectedFile",
    "itemSelected",
    "pathId",
    "dataInfo",
    "__getDataInfo",
    "ids",
    "labels",
    "values",
    "tooltips",
    "title",
    "setData",
    "context",
    "children",
    "getModel",
    "getChildren",
    "undefined",
    "push",
    "value",
    "Math",
    "floor",
    "random",
    "utils",
    "Utils",
    "bytesToSize",
    "i",
    "length",
    "child",
    "toArray",
    "getLabel",
    "value2",
    "desktop",
    "DataBrowser"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qxapp - the simcore frontend\n\n   https://osparc.io\n\n   Copyright:\n     2019 IT'IS Foundation, https://itis.swiss\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n\n   Authors:\n     * Odei Maiz (odeimaiz)\n\n************************************************************************ */\n\n/**\n * Widget that provides access to the data belonging to the active user.\n * - On the left side: myData FilesTree with the FileLabelWithActions\n * - On the right side: a pie chart reflecting the data resources consumed (hidden until there is real info)\n *\n * *Example*\n *\n * Here is a little example of how to use the widget.\n *\n * <pre class='javascript'>\n *   let dataManager = new qxapp.desktop.DataBrowser();\n *   this.getRoot().add(dataManager);\n * </pre>\n */\n\n/* global document */\n\nqx.Class.define(\"qxapp.desktop.DataBrowser\", {\n  extend: qx.ui.core.Widget,\n\n  construct: function() {\n    this.base(arguments);\n\n    const prjBrowserLayout = new qx.ui.layout.VBox(10);\n    this._setLayout(prjBrowserLayout);\n\n    this.__createDataManagerLayout();\n\n    this.addListener(\"appear\", () => {\n      this.__initResources(null);\n    }, this);\n  },\n\n  members: {\n    __filesTree: null,\n    __selectedFileLayout: null,\n    __pieChart: null,\n\n    __initResources: function(locationId) {\n      this.__filesTree.populateTree(null, locationId);\n    },\n\n    __resetCache: function() {\n      this.__filesTree.resetCache();\n    },\n\n    __createDataManagerLayout: function() {\n      const dataManagerMainLayout = this.__createVBoxWLabel(this.tr(\"Data Manager\"));\n\n      const dataManagerLayout = new qx.ui.container.Composite(new qx.ui.layout.HBox(20));\n      dataManagerMainLayout.add(dataManagerLayout, {\n        flex: 1\n      });\n\n      const treeLayout = this.__createTreeLayout();\n      dataManagerLayout.add(treeLayout, {\n        flex: 1\n      });\n\n      const showPieChart = false;\n      if (showPieChart) {\n        const chartLayout = this.__createChartLayout();\n        dataManagerLayout.add(chartLayout);\n      }\n\n      this._add(dataManagerMainLayout, {\n        flex: 1\n      });\n    },\n\n    __createVBoxWLabel: function(text) {\n      const vBoxLayout = new qx.ui.container.Composite(new qx.ui.layout.VBox(10)).set({\n        marginTop: 20\n      });\n\n      const label = new qx.ui.basic.Label(text).set({\n        font: qx.bom.Font.fromConfig(qxapp.theme.Font.fonts[\"nav-bar-label\"]),\n        minWidth: 150\n      });\n      vBoxLayout.add(label);\n\n      return vBoxLayout;\n    },\n\n    __createTreeLayout: function() {\n      const treeLayout = new qx.ui.container.Composite(new qx.ui.layout.VBox(10));\n\n      // button for refetching data\n      const reloadBtn = new qx.ui.form.Button().set({\n        label: this.tr(\"Reload\"),\n        icon: \"@FontAwesome5Solid/sync-alt/16\",\n        allowGrowX: false\n      });\n      reloadBtn.addListener(\"execute\", function() {\n        this.__resetCache();\n        this.__initResources(null);\n      }, this);\n      treeLayout.add(reloadBtn);\n\n      const filesTree = this.__filesTree = new qxapp.file.FilesTree().set({\n        dragMechnism: true,\n        dropMechnism: true\n      });\n      filesTree.addListener(\"selectionChanged\", () => {\n        this.__selectionChanged();\n      }, this);\n      filesTree.addListener(\"fileCopied\", e => {\n        if (e) {\n          this.__initResources(null);\n        }\n      }, this);\n      treeLayout.add(filesTree, {\n        flex: 1\n      });\n\n      const actionsToolbar = this.__createActionsToolbar();\n      treeLayout.add(actionsToolbar);\n\n      return treeLayout;\n    },\n\n    __createActionsToolbar: function() {\n      const actionsToolbar = new qx.ui.toolbar.ToolBar();\n      const fileActions = new qx.ui.toolbar.Part();\n      const addFile = new qx.ui.toolbar.Part();\n      actionsToolbar.add(fileActions);\n      actionsToolbar.addSpacer();\n      actionsToolbar.add(addFile);\n\n      const addBtn = new qxapp.file.FilesAdd();\n      addBtn.addListener(\"fileAdded\", e => {\n        const fileMetadata = e.getData();\n        this.__initResources(fileMetadata[\"locationId\"]);\n      }, this);\n      addFile.add(addBtn);\n\n      const selectedFileLayout = this.__selectedFileLayout = new qxapp.file.FileLabelWithActions();\n      selectedFileLayout.addListener(\"fileDeleted\", e => {\n        const fileMetadata = e.getData();\n        this.__initResources(fileMetadata[\"locationId\"]);\n      }, this);\n      fileActions.add(selectedFileLayout);\n\n      return actionsToolbar;\n    },\n\n    __createChartLayout: function() {\n      let chartLayout = new qx.ui.container.Composite(new qx.ui.layout.VBox(10));\n\n      const label = new qx.ui.basic.Label(this.tr(\"Data Resources\")).set({\n        font: qx.bom.Font.fromConfig(qxapp.theme.Font.fonts[\"nav-bar-label\"]),\n        minWidth: 500\n      });\n      chartLayout.add(label);\n\n      const plotlyDivId = \"DataResources\";\n      const plotly = new qxapp.component.widget.PlotlyWidget(plotlyDivId);\n      plotly.addListener(\"plotlyWidgetReady\", e => {\n        if (e.getData()) {\n          this.__pieChart = plotly;\n          const myPlot = document.getElementById(plotlyDivId);\n          myPlot.on(\"plotly_click\", data => {\n            this.__reloadChartData(data[\"points\"][0][\"id\"][0]);\n          }, this);\n          this.__reloadChartData();\n        }\n      }, this);\n      chartLayout.add(plotly, {\n        flex: 1\n      });\n\n      return chartLayout;\n    },\n\n    __selectionChanged: function() {\n      this.__filesTree.resetSelection();\n      const selectionData = this.__filesTree.getSelectedFile();\n      if (selectionData) {\n        this.__selectedFileLayout.itemSelected(selectionData[\"selectedItem\"], selectionData[\"isFile\"]);\n      }\n    },\n\n    __reloadChartData: function(pathId) {\n      if (this.__pieChart) {\n        const dataInfo = this.__getDataInfo(pathId);\n        const ids = dataInfo[\"ids\"];\n        const labels = dataInfo[\"labels\"];\n        const values = dataInfo[\"values\"];\n        const tooltips = dataInfo[\"tooltips\"];\n        const title = dataInfo[\"title\"];\n        this.__pieChart.setData(ids, labels, values, tooltips, title);\n      }\n    },\n\n    __getDataInfo: function(pathId) {\n      const context = pathId || \"/\";\n      const children = this.__filesTree.getModel().getChildren();\n\n      let data = {\n        \"ids\": [],\n        \"labels\": [],\n        \"values\": [],\n        \"tooltips\": [],\n        \"title\": context\n      };\n      if (pathId === undefined) {\n        data[\"ids\"].push(\"FreeSpaceId\");\n        data[\"labels\"].push(\"Free space\");\n        const value = (Math.floor(Math.random()*1000000)+1);\n        data[\"values\"].push(value);\n        data[\"tooltips\"].push(qxapp.utils.Utils.bytesToSize(value));\n      }\n      for (let i=0; i<children.length; i++) {\n        const child = children.toArray()[i];\n        data[\"ids\"].push(child.getLabel());\n        data[\"labels\"].push(child.getLabel());\n        const value2 = (Math.floor(Math.random()*1000000)+1);\n        data[\"values\"].push(value2);\n        data[\"tooltips\"].push(qxapp.utils.Utils.bytesToSize(value2));\n      }\n      return data;\n    }\n  }\n});\n"
  ]
}