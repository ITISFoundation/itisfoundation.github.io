{
  "version": 3,
  "sources": [
    "../transpiled/qx/dev/unit/AsyncWrapper.js",
    "../transpiled/qx/dev/unit/RequirementError.js",
    "../transpiled/qx/ui/core/LayoutItem.js",
    "../transpiled/qx/locale/MTranslation.js",
    "../transpiled/qx/theme/manager/Meta.js",
    "../transpiled/qx/ui/core/Widget.js",
    "../transpiled/qx/bom/client/Transport.js",
    "../transpiled/qx/util/ResourceManager.js",
    "../transpiled/qx/util/LibraryManager.js",
    "../transpiled/qx/bom/request/Xhr.js",
    "../transpiled/qx/event/handler/Application.js",
    "../transpiled/qx/event/type/Native.js",
    "../transpiled/qx/event/handler/Window.js",
    "../transpiled/qx/core/BaseInit.js",
    "../transpiled/qx/core/Init.js",
    "../transpiled/qx/dev/unit/Sinon.js",
    "../transpiled/qx/ui/core/EventHandler.js",
    "../transpiled/qx/event/dispatch/AbstractBubbling.js",
    "../transpiled/qx/event/dispatch/DomBubbling.js",
    "../transpiled/qx/event/type/Dom.js",
    "../transpiled/qx/event/type/Mouse.js",
    "../transpiled/qx/event/type/Pointer.js",
    "../transpiled/qx/event/type/dom/Custom.js",
    "../transpiled/qx/event/type/dom/Pointer.js",
    "../transpiled/qx/bom/client/Event.js",
    "../transpiled/qx/bom/client/Device.js",
    "../transpiled/qx/event/handler/PointerCore.js",
    "../transpiled/qx/event/handler/Pointer.js",
    "../transpiled/qx/event/handler/GestureCore.js",
    "../transpiled/qx/event/type/Tap.js",
    "../transpiled/qx/event/type/Swipe.js",
    "../transpiled/qx/event/type/Rotate.js",
    "../transpiled/qx/event/type/Pinch.js",
    "../transpiled/qx/event/type/Track.js",
    "../transpiled/qx/event/type/Roll.js",
    "../transpiled/qx/event/handler/Gesture.js",
    "../transpiled/qx/event/handler/UserAction.js",
    "../transpiled/qx/event/handler/Keyboard.js",
    "../transpiled/qx/event/handler/Capture.js",
    "../transpiled/qx/event/handler/DragDrop.js",
    "../transpiled/qx/util/PropertyUtil.js",
    "../transpiled/qx/ui/core/queue/Layout.js",
    "../transpiled/qx/ui/core/queue/Visibility.js",
    "../transpiled/qx/ui/layout/Abstract.js",
    "../transpiled/qx/theme/manager/Decoration.js",
    "../transpiled/qx/ui/core/queue/Manager.js",
    "../transpiled/qx/module/Css.js",
    "../transpiled/qx/type/BaseArray.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "build-output/testtapper/part-boot-bundle-3.js.map",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Daniel Wagner (d_wagner)\n\n************************************************************************ */\n\n/**\n *  This class stores the information needed to instruct a running test to wait.\n *  It is thrown as an exception to be caught by the method executing the test.\n */\nqx.Class.define(\"qx.dev.unit.AsyncWrapper\",\n{\n  extend : qx.core.Object,\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param delay {Integer?} The amount of time in milliseconds to wait\n   * @param deferredFunction {Function?} The function to run after the timeout\n   * has expired.\n   * @param context {Object?window} Optional execution context for deferredFunction\n   */\n  construct : function(delay, deferredFunction, context)\n  {\n    for (var i=0; i<2; i++) {\n      if (qx.lang.Type.isFunction(arguments[i])) {\n        this.setDeferredFunction(arguments[i]);\n      } else if (qx.lang.Type.isNumber(arguments[i])) {\n        if (qx.core.Environment.get(\"qx.test.delay.scale\")) {\n          this.setDelay(arguments[i] * parseInt(qx.core.Environment.get(\"qx.test.delay.scale\"), 10));\n        } else {\n          this.setDelay(arguments[i]);\n        }\n      }\n    }\n\n    if (context) {\n      this.setContext(context);\n    }\n  },\n\n  properties :\n  {\n    /** The function to run after the timeout has expired */\n    deferredFunction :\n    {\n      check : \"Function\",\n      init : false\n    },\n\n    /** The context in which the timeout function should be executed  */\n    context :\n    {\n      check : \"Object\",\n      init : null\n    },\n\n    /** The amount of time in milliseconds to wait */\n    delay :\n    {\n      check: \"Integer\",\n      nullable : false,\n      init : 10000\n    }\n  }\n\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Daniel Wagner (d_wagner)\n\n************************************************************************ */\n\n/**\n * This error is thrown by the unit test class if an infrastructure requirement\n * is not met. The unit testing framework should skip the test and visually mark\n * the test as not having been executed.\n */\nqx.Class.define(\"qx.dev.unit.RequirementError\", {\n\n  extend : Error,\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param requirement {String?} The requirement ID, e.g. \"SSL\"\n   * @param message {String?} Optional error message\n   */\n  construct : function(requirement, message) {\n\n    this.__message = message || \"Requirement not met\";\n    this.__requirement = requirement;\n\n    var inst = Error.call(this, this.__message);\n    // map stack trace properties since they're not added by Error's constructor\n    if (inst.stack) {\n      this.stack = inst.stack;\n    }\n    if (inst.stacktrace) {\n      this.stacktrace = inst.stacktrace;\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n  members :\n  {\n    __message : null,\n    __requirement : null,\n\n\n    /**\n     * Returns the ID of the requirement that was not satisfied.\n     *\n     * @return {String} The requirement ID\n     */\n    getRequirement : function()\n    {\n      return this.__requirement;\n    },\n\n\n    /**\n     * Returns a string representation of the error.\n     *\n     * @return {String} Error message\n     */\n    toString : function()\n    {\n      var msg = this.__message;\n      if (this.__requirement) {\n        msg += \": \" + this.__requirement;\n      }\n      return msg;\n    }\n  }\n});",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * The base class of all items, which should be laid out using a layout manager\n * {@link qx.ui.layout.Abstract}.\n */\nqx.Class.define(\"qx.ui.core.LayoutItem\",\n{\n  type : \"abstract\",\n  extend : qx.core.Object,\n\n  construct : function() {\n    this.base(arguments);\n\n    // dynamic theme switch\n    if (qx.core.Environment.get(\"qx.dyntheme\")) {\n      qx.theme.manager.Meta.getInstance().addListener(\"changeTheme\", this._onChangeTheme, this);\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      DIMENSION\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * The user provided minimal width.\n     *\n     * Also take a look at the related properties {@link #width} and {@link #maxWidth}.\n     */\n    minWidth :\n    {\n      check : \"Integer\",\n      nullable : true,\n      apply : \"_applyDimension\",\n      init : null,\n      themeable : true\n    },\n\n\n    /**\n     * The <code>LayoutItem</code>'s preferred width.\n     *\n     * The computed width may differ from the given width due to\n     * stretching. Also take a look at the related properties\n     * {@link #minWidth} and {@link #maxWidth}.\n     */\n    width :\n    {\n      check : \"Integer\",\n      event : \"changeWidth\",\n      nullable : true,\n      apply : \"_applyDimension\",\n      init : null,\n      themeable : true\n    },\n\n\n    /**\n     * The user provided maximal width.\n     *\n     * Also take a look at the related properties {@link #width} and {@link #minWidth}.\n     */\n    maxWidth :\n    {\n      check : \"Integer\",\n      nullable : true,\n      apply : \"_applyDimension\",\n      init : null,\n      themeable : true\n    },\n\n\n    /**\n     * The user provided minimal height.\n     *\n     * Also take a look at the related properties {@link #height} and {@link #maxHeight}.\n     */\n    minHeight :\n    {\n      check : \"Integer\",\n      nullable : true,\n      apply : \"_applyDimension\",\n      init : null,\n      themeable : true\n    },\n\n\n    /**\n     * The item's preferred height.\n     *\n     * The computed height may differ from the given height due to\n     * stretching. Also take a look at the related properties\n     * {@link #minHeight} and {@link #maxHeight}.\n     */\n    height :\n    {\n      check : \"Integer\",\n      event : \"changeHeight\",\n      nullable : true,\n      apply : \"_applyDimension\",\n      init : null,\n      themeable : true\n    },\n\n\n    /**\n     * The user provided maximum height.\n     *\n     * Also take a look at the related properties {@link #height} and {@link #minHeight}.\n     */\n    maxHeight :\n    {\n      check : \"Integer\",\n      nullable : true,\n      apply : \"_applyDimension\",\n      init : null,\n      themeable : true\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      STRETCHING\n    ---------------------------------------------------------------------------\n    */\n\n    /** Whether the item can grow horizontally. */\n    allowGrowX :\n    {\n      check : \"Boolean\",\n      apply : \"_applyStretching\",\n      init : true,\n      themeable : true\n    },\n\n\n    /** Whether the item can shrink horizontally. */\n    allowShrinkX :\n    {\n      check : \"Boolean\",\n      apply : \"_applyStretching\",\n      init : true,\n      themeable : true\n    },\n\n\n    /** Whether the item can grow vertically. */\n    allowGrowY :\n    {\n      check : \"Boolean\",\n      apply : \"_applyStretching\",\n      init : true,\n      themeable : true\n    },\n\n\n    /** Whether the item can shrink vertically. */\n    allowShrinkY :\n    {\n      check : \"Boolean\",\n      apply : \"_applyStretching\",\n      init : true,\n      themeable : true\n    },\n\n\n    /** Growing and shrinking in the horizontal direction */\n    allowStretchX :\n    {\n      group : [ \"allowGrowX\", \"allowShrinkX\" ],\n      mode : \"shorthand\",\n      themeable: true\n    },\n\n\n    /** Growing and shrinking in the vertical direction */\n    allowStretchY :\n    {\n      group : [ \"allowGrowY\", \"allowShrinkY\" ],\n      mode : \"shorthand\",\n      themeable: true\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MARGIN\n    ---------------------------------------------------------------------------\n    */\n\n    /** Margin of the widget (top) */\n    marginTop :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyMargin\",\n      themeable : true\n    },\n\n\n    /** Margin of the widget (right) */\n    marginRight :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyMargin\",\n      themeable : true\n    },\n\n\n    /** Margin of the widget (bottom) */\n    marginBottom :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyMargin\",\n      themeable : true\n    },\n\n\n    /** Margin of the widget (left) */\n    marginLeft :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyMargin\",\n      themeable : true\n    },\n\n\n    /**\n     * The 'margin' property is a shorthand property for setting 'marginTop',\n     * 'marginRight', 'marginBottom' and 'marginLeft' at the same time.\n     *\n     * If four values are specified they apply to top, right, bottom and left respectively.\n     * If there is only one value, it applies to all sides, if there are two or three,\n     * the missing values are taken from the opposite side.\n     */\n    margin :\n    {\n      group : [ \"marginTop\", \"marginRight\", \"marginBottom\", \"marginLeft\" ],\n      mode  : \"shorthand\",\n      themeable : true\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      ALIGN\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Horizontal alignment of the item in the parent layout.\n     *\n     * Note: Item alignment is only supported by {@link LayoutItem} layouts where\n     * it would have a visual effect. Except for {@link Spacer}, which provides\n     * blank space for layouts, all classes that inherit {@link LayoutItem} support alignment.\n     */\n    alignX :\n    {\n      check : [ \"left\", \"center\", \"right\" ],\n      nullable : true,\n      apply : \"_applyAlign\",\n      themeable: true\n    },\n\n\n    /**\n     * Vertical alignment of the item in the parent layout.\n     *\n     * Note: Item alignment is only supported by {@link LayoutItem} layouts where\n     * it would have a visual effect. Except for {@link Spacer}, which provides\n     * blank space for layouts, all classes that inherit {@link LayoutItem} support alignment.\n     */\n    alignY :\n    {\n      check : [ \"top\", \"middle\", \"bottom\", \"baseline\" ],\n      nullable : true,\n      apply : \"_applyAlign\",\n      themeable: true\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      DYNAMIC THEME SWITCH SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Handler for the dynamic theme change.\n     * @signature function()\n     */\n    _onChangeTheme : qx.core.Environment.select(\"qx.dyntheme\",\n    {\n      \"true\" : function() {\n        // reset all themeable properties\n        var props = qx.util.PropertyUtil.getAllProperties(this.constructor);\n        for (var name in props) {\n          var desc = props[name];\n          // only themeable properties not having a user value\n          if (desc.themeable) {\n            var userValue = qx.util.PropertyUtil.getUserValue(this, name);\n            if (userValue == null) {\n              qx.util.PropertyUtil.resetThemed(this, name);\n            }\n          }\n        }\n      },\n      \"false\" : null\n    }),\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LAYOUT PROCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Integer} The computed height */\n    __computedHeightForWidth : null,\n\n    /** @type {Map} The computed size of the layout item */\n    __computedLayout : null,\n\n    /** @type {Boolean} Whether the current layout is valid */\n    __hasInvalidLayout : null,\n\n    /** @type {Map} Cached size hint */\n    __sizeHint : null,\n\n    /** @type {Boolean} Whether the margins have changed and must be updated */\n    __updateMargin : null,\n\n    /** @type {Map} user provided bounds of the widget, which override the layout manager */\n    __userBounds : null,\n\n    /** @type {Map} The item's layout properties */\n    __layoutProperties : null,\n\n\n    /**\n     * Get the computed location and dimension as computed by\n     * the layout manager.\n     *\n     * @return {Map|null} The location and dimensions in pixel\n     *    (if the layout is valid). Contains the keys\n     *    <code>width</code>, <code>height</code>, <code>left</code> and\n     *    <code>top</code>.\n     */\n    getBounds : function() {\n      return this.__userBounds || this.__computedLayout || null;\n    },\n\n\n    /**\n     * Reconfigure number of separators\n     */\n    clearSeparators : function() {\n      // empty template\n    },\n\n\n    /**\n     * Renders a separator between two children\n     *\n     * @param separator {String|qx.ui.decoration.IDecorator} The separator to render\n     * @param bounds {Map} Contains the left and top coordinate and the width and height\n     *    of the separator to render.\n     */\n    renderSeparator : function(separator, bounds) {\n      // empty template\n    },\n\n\n    /**\n     * Used by the layout engine to apply coordinates and dimensions.\n     *\n     * @param left {Integer} Any integer value for the left position,\n     *   always in pixels\n     * @param top {Integer} Any integer value for the top position,\n     *   always in pixels\n     * @param width {Integer} Any positive integer value for the width,\n     *   always in pixels\n     * @param height {Integer} Any positive integer value for the height,\n     *   always in pixels\n     * @return {Map} A map of which layout sizes changed.\n     */\n    renderLayout : function(left, top, width, height)\n    {\n      // do not render if the layout item is already disposed\n      if (this.isDisposed()) {\n        return null;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var msg = \"Something went wrong with the layout of \" + this.toString() + \"!\";\n        this.assertInteger(left, \"Wrong 'left' argument. \" + msg);\n        this.assertInteger(top, \"Wrong 'top' argument. \" + msg);\n        this.assertInteger(width, \"Wrong 'width' argument. \" + msg);\n        this.assertInteger(height, \"Wrong 'height' argument. \" + msg);\n\n        // this.assertInRange(width, this.getMinWidth() || -1, this.getMaxWidth() || 32000);\n        // this.assertInRange(height, this.getMinHeight() || -1, this.getMaxHeight() || 32000);\n      }\n\n\n\n      // Height for width support\n      // Results into a relayout which means that width/height is applied in the next iteration.\n      var flowHeight = null;\n      if (this.getHeight() == null && this._hasHeightForWidth()) {\n        var flowHeight = this._getHeightForWidth(width);\n      }\n\n      if (flowHeight != null && flowHeight !== this.__computedHeightForWidth)\n      {\n        // This variable is used in the next computation of the size hint\n        this.__computedHeightForWidth = flowHeight;\n\n        // Re-add to layout queue\n        qx.ui.core.queue.Layout.add(this);\n\n        return null;\n      }\n\n      // Detect size changes\n\n      // Dynamically create data structure for computed layout\n      var computed = this.__computedLayout;\n      if (!computed) {\n        computed = this.__computedLayout = {};\n      }\n\n      // Detect changes\n      var changes = {};\n\n      if (left !== computed.left || top !== computed.top)\n      {\n        changes.position = true;\n\n        computed.left = left;\n        computed.top = top;\n      }\n\n      if (width !== computed.width || height !== computed.height)\n      {\n        changes.size = true;\n\n        computed.width = width;\n        computed.height = height;\n      }\n\n      // Clear invalidation marker\n      if (this.__hasInvalidLayout)\n      {\n        changes.local = true;\n        delete this.__hasInvalidLayout;\n      }\n\n      if (this.__updateMargin)\n      {\n        changes.margin = true;\n        delete this.__updateMargin;\n      }\n\n      // Returns changes, especially for deriving classes\n      return changes;\n    },\n\n\n    /**\n     * Whether the item should be excluded from the layout\n     *\n     * @return {Boolean} Should the item be excluded by the layout\n     */\n    isExcluded : function() {\n      return false;\n    },\n\n\n    /**\n     * Whether the layout of this item (to layout the children)\n     * is valid.\n     *\n     * @return {Boolean} Returns <code>true</code>\n     */\n    hasValidLayout : function() {\n      return !this.__hasInvalidLayout;\n    },\n\n\n    /**\n     * Indicate that the item has layout changes and propagate this information\n     * up the item hierarchy.\n     *\n     */\n    scheduleLayoutUpdate : function() {\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    /**\n     * Called by the layout manager to mark this item's layout as invalid.\n     * This function should clear all layout relevant caches.\n     */\n    invalidateLayoutCache : function()\n    {\n      // this.debug(\"Mark layout invalid!\");\n\n      this.__hasInvalidLayout = true;\n      this.__sizeHint = null;\n    },\n\n\n    /**\n     * A size hint computes the dimensions of a widget. It returns\n     * the recommended dimensions as well as the min and max dimensions.\n     * The min and max values already respect the stretching properties.\n     *\n     * <h3>Wording</h3>\n     * <ul>\n     * <li>User value: Value defined by the widget user, using the size properties</li>\n     *\n     * <li>Layout value: The value computed by {@link qx.ui.core.Widget#_getContentHint}</li>\n     * </ul>\n     *\n     * <h3>Algorithm</h3>\n     * <ul>\n     * <li>minSize: If the user min size is not null, the user value is taken,\n     *     otherwise the layout value is used.</li>\n     *\n     * <li>(preferred) size: If the user value is not null the user value is used,\n     *     otherwise the layout value is used.</li>\n     *\n     * <li>max size: Same as the preferred size.</li>\n     * </ul>\n     *\n     * @param compute {Boolean?true} Automatically compute size hint if currently not\n     *   cached?\n     * @return {Map} The map with the preferred width/height and the allowed\n     *   minimum and maximum values in cases where shrinking or growing\n     *   is required.\n     */\n    getSizeHint : function(compute)\n    {\n      var hint = this.__sizeHint;\n      if (hint) {\n        return hint;\n      }\n\n      if (compute === false) {\n        return null;\n      }\n\n      // Compute as defined\n      hint = this.__sizeHint = this._computeSizeHint();\n\n      // Respect height for width\n      if (this._hasHeightForWidth() && this.__computedHeightForWidth && this.getHeight() == null) {\n        hint.height = this.__computedHeightForWidth;\n      }\n\n\n      // normalize width\n      if (hint.minWidth > hint.width) {\n        hint.width = hint.minWidth;\n      }\n      if (hint.maxWidth < hint.width) {\n        hint.width = hint.maxWidth;\n      }\n\n      if (!this.getAllowGrowX()) {\n        hint.maxWidth = hint.width;\n      }\n      if (!this.getAllowShrinkX()) {\n        hint.minWidth = hint.width;\n      }\n\n\n      // normalize height\n      if (hint.minHeight > hint.height) {\n        hint.height = hint.minHeight;\n      }\n      if (hint.maxHeight < hint.height) {\n        hint.height = hint.maxHeight;\n      }\n\n      if (!this.getAllowGrowY()) {\n        hint.maxHeight = hint.height;\n      }\n      if (!this.getAllowShrinkY()) {\n        hint.minHeight = hint.height;\n      }\n\n\n      // Finally return\n      return hint;\n    },\n\n\n    /**\n     * Computes the size hint of the layout item.\n     *\n     * @return {Map} The map with the preferred width/height and the allowed\n     *   minimum and maximum values.\n     */\n    _computeSizeHint : function()\n    {\n      var minWidth = this.getMinWidth() || 0;\n      var minHeight = this.getMinHeight() || 0;\n\n      var width = this.getWidth() || minWidth;\n      var height = this.getHeight() || minHeight;\n\n      var maxWidth = this.getMaxWidth() || Infinity;\n      var maxHeight = this.getMaxHeight() || Infinity;\n\n      return {\n        minWidth : minWidth,\n        width : width,\n        maxWidth : maxWidth,\n        minHeight : minHeight,\n        height : height,\n        maxHeight : maxHeight\n      };\n    },\n\n\n    /**\n     * Whether the item supports height for width.\n     *\n     * @return {Boolean} Whether the item supports height for width\n     */\n    _hasHeightForWidth : function()\n    {\n      var layout = this._getLayout();\n      if (layout) {\n        return layout.hasHeightForWidth();\n      }\n      return false;\n    },\n\n\n    /**\n     * If an item wants to trade height for width it has to implement this\n     * method and return the preferred height of the item if it is resized to\n     * the given width. This function returns <code>null</code> if the item\n     * do not support height for width.\n     *\n     * @param width {Integer} The computed width\n     * @return {Integer} The desired height\n     */\n    _getHeightForWidth : function(width)\n    {\n      var layout = this._getLayout();\n      if (layout && layout.hasHeightForWidth()) {\n        return layout.getHeightForWidth(width);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Get the widget's layout manager.\n     *\n     * @return {qx.ui.layout.Abstract} The widget's layout manager\n     */\n    _getLayout : function() {\n      return null;\n    },\n\n\n    // property apply\n    _applyMargin : function()\n    {\n      this.__updateMargin = true;\n\n      var parent = this.$$parent;\n      if (parent) {\n        parent.updateLayoutProperties();\n      }\n    },\n\n\n    // property apply\n    _applyAlign : function()\n    {\n      var parent = this.$$parent;\n      if (parent) {\n        parent.updateLayoutProperties();\n      }\n    },\n\n\n    // property apply\n    _applyDimension : function() {\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    // property apply\n    _applyStretching : function() {\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SUPPORT FOR USER BOUNDARIES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Whether user bounds are set on this layout item\n     *\n     * @return {Boolean} Whether user bounds are set on this layout item\n     */\n    hasUserBounds : function() {\n      return !!this.__userBounds;\n    },\n\n\n    /**\n     * Set user bounds of the widget. Widgets with user bounds are sized and\n     * positioned manually and are ignored by any layout manager.\n     *\n     * @param left {Integer} left position (relative to the parent)\n     * @param top {Integer} top position (relative to the parent)\n     * @param width {Integer} width of the layout item\n     * @param height {Integer} height of the layout item\n     */\n    setUserBounds : function(left, top, width, height)\n    {\n      this.__userBounds = {\n        left: left,\n        top: top,\n        width: width,\n        height: height\n      };\n\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    /**\n     * Clear the user bounds. After this call the layout item is laid out by\n     * the layout manager again.\n     *\n     */\n    resetUserBounds : function()\n    {\n      delete this.__userBounds;\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LAYOUT PROPERTIES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * @type {Map} Empty storage pool\n     *\n     * @lint ignoreReferenceField(__emptyProperties)\n     */\n    __emptyProperties : {},\n\n\n    /**\n     * Stores the given layout properties\n     *\n     * @param props {Map} Incoming layout property data\n     */\n    setLayoutProperties : function(props)\n    {\n      if (props == null) {\n        return;\n      }\n\n      var storage = this.__layoutProperties;\n      if (!storage) {\n        storage = this.__layoutProperties = {};\n      }\n\n      // Check values through parent\n      var parent = this.getLayoutParent();\n      if (parent) {\n        parent.updateLayoutProperties(props);\n      }\n\n      // Copy over values\n      for (var key in props)\n      {\n        if (props[key] == null) {\n          delete storage[key];\n        } else {\n          storage[key] = props[key];\n        }\n      }\n    },\n\n\n    /**\n     * Returns currently stored layout properties\n     *\n     * @return {Map} Returns a map of layout properties\n     */\n    getLayoutProperties : function() {\n      return this.__layoutProperties || this.__emptyProperties;\n    },\n\n\n    /**\n     * Removes all stored layout properties.\n     *\n     */\n    clearLayoutProperties : function() {\n      delete this.__layoutProperties;\n    },\n\n\n    /**\n     * Should be executed on every change of layout properties.\n     *\n     * This also includes \"virtual\" layout properties like margin or align\n     * when they have an effect on the parent and not on the widget itself.\n     *\n     * This method is always executed on the parent not on the\n     * modified widget itself.\n     *\n     * @param props {Map?null} Optional map of known layout properties\n     */\n    updateLayoutProperties : function(props)\n    {\n      var layout = this._getLayout();\n      if (layout)\n      {\n        // Verify values through underlying layout\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (props)\n          {\n            for (var key in props) {\n              if (props[key] !== null) {\n                layout.verifyLayoutProperty(this, key, props[key]);\n              }\n            }\n          }\n        }\n\n        // Precomputed and cached children data need to be\n        // rebuild on upcoming (re-)layout.\n        layout.invalidateChildrenCache();\n      }\n\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      HIERARCHY SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the application root\n     *\n     * @return {qx.ui.root.Abstract} The currently used root\n     */\n    getApplicationRoot : function() {\n      return qx.core.Init.getApplication().getRoot();\n    },\n\n\n    /**\n     * Get the items parent. Even if the item has been added to a\n     * layout, the parent is always a child of the containing item. The parent\n     * item may be <code>null</code>.\n     *\n     * @return {qx.ui.core.Widget|null} The parent.\n     */\n    getLayoutParent : function() {\n      return this.$$parent || null;\n    },\n\n\n    /**\n     * Set the parent\n     *\n     * @param parent {qx.ui.core.Widget|null} The new parent.\n     */\n    setLayoutParent : function(parent)\n    {\n      if (this.$$parent === parent) {\n        return;\n      }\n\n      this.$$parent = parent || null;\n      qx.ui.core.queue.Visibility.add(this);\n    },\n\n\n    /**\n     * Whether the item is a root item and directly connected to\n     * the DOM.\n     *\n     * @return {Boolean} Whether the item a root item\n     */\n    isRootWidget : function() {\n      return false;\n    },\n\n\n    /**\n     * Returns the root item. The root item is the item which\n     * is directly inserted into an existing DOM node at HTML level.\n     * This is often the BODY element of a typical web page.\n     *\n     * @return {qx.ui.core.Widget} The root item (if available)\n     */\n    _getRoot : function()\n    {\n      var parent = this;\n\n      while (parent)\n      {\n        if (parent.isRootWidget()) {\n          return parent;\n        }\n\n        parent = parent.$$parent;\n      }\n\n      return null;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CLONE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    clone : function()\n    {\n      var clone = this.base(arguments);\n\n      var props = this.__layoutProperties;\n      if (props) {\n        clone.__layoutProperties = qx.lang.Object.clone(props);\n      }\n\n      return clone;\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    // remove dynamic theme listener\n    if (qx.core.Environment.get(\"qx.dyntheme\")) {\n      qx.theme.manager.Meta.getInstance().removeListener(\n        \"changeTheme\", this._onChangeTheme, this\n      );\n    }\n    this.$$parent = this.$$subparent = this.__layoutProperties =\n      this.__computedLayout = this.__userBounds = this.__sizeHint = null;\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This mixin contains the methods needed to use the translation features\n * of qooxdoo.\n *\n * @ignore(qx.locale.Manager)\n */\nqx.Mixin.define(\"qx.locale.MTranslation\",\n{\n  members:\n  {\n    /**\n     * Translate a message\n     * Mark the message for translation.\n     *\n     * @param messageId {String} message id (may contain format strings)\n     * @param varargs {Object?} variable number of arguments applied to the format string\n     * @return {String | LocalizedString} The translated message or localized string\n     */\n    tr : function(messageId, varargs)\n    {\n      var nlsManager = qx.locale.Manager;\n      if (nlsManager) {\n        return nlsManager.tr.apply(nlsManager, arguments);\n      }\n\n      throw new Error(\"To enable localization please include qx.locale.Manager into your build!\");\n    },\n\n\n    /**\n     * Translate a plural message\n     * Mark the messages for translation.\n     *\n     * Depending on the third argument the plural or the singular form is chosen.\n     *\n     * @param singularMessageId {String} message id of the singular form (may contain format strings)\n     * @param pluralMessageId {String} message id of the plural form (may contain format strings)\n     * @param count {Integer} if greater than 1 the plural form otherwise the singular form is returned.\n     * @param varargs {Object?} variable number of arguments applied to the format string\n     * @return {String | LocalizedString} The translated message or localized string\n     */\n    trn : function(singularMessageId, pluralMessageId, count, varargs)\n    {\n      var nlsManager = qx.locale.Manager;\n      if (nlsManager) {\n        return nlsManager.trn.apply(nlsManager, arguments);\n      }\n\n      throw new Error(\"To enable localization please include qx.locale.Manager into your build!\");\n    },\n\n\n    /**\n     * Translate a message with translation hint\n     * Mark the messages for translation.\n     *\n     * @param hint {String} hint for the translator of the message. Will be included in the .po file.\n     * @param messageId {String} message id (may contain format strings)\n     * @param varargs {Object?} variable number of arguments applied to the format string\n     * @return {String | LocalizedString} The translated message or localized string\n     */\n    trc : function(hint, messageId, varargs)\n    {\n      var nlsManager = qx.locale.Manager;\n      if (nlsManager) {\n        return nlsManager.trc.apply(nlsManager, arguments);\n      }\n\n      throw new Error(\"To enable localization please include qx.locale.Manager into your build!\");\n    },\n\n\n    /**\n     * Translate a plural message with translation hint\n     * Mark the messages for translation.\n     *\n     * Depending on the third argument the plural or the singular form is chosen.\n     *\n     * @param hint {String} hint for the translator of the message. Will be included in the .po file.\n     * @param singularMessageId {String} message id of the singular form (may contain format strings)\n     * @param pluralMessageId {String} message id of the plural form (may contain format strings)\n     * @param count {Integer} if greater than 1 the plural form otherwise the singular form is returned.\n     * @param varargs {Object?} variable number of arguments applied to the format string\n     * @return {String | LocalizedString} The translated message or localized string\n     */\n    trnc : function(hint, singularMessageId, pluralMessageId, count, varargs)\n    {\n      var nlsManager = qx.locale.Manager;\n      if (nlsManager) {\n        return nlsManager.trnc.apply(nlsManager, arguments);\n      }\n\n      throw new Error(\"To enable localization please include qx.locale.Manager into your build!\");\n    },\n\n\n    /**\n     * Mark the message for translation but return the original message.\n     *\n     * @param messageId {String} the message ID\n     * @return {String} messageId\n     */\n    marktr : function(messageId)\n    {\n      var nlsManager = qx.locale.Manager;\n      if (nlsManager) {\n        return nlsManager.marktr.apply(nlsManager, arguments);\n      }\n\n      throw new Error(\"To enable localization please include qx.locale.Manager into your build!\");\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Manager for meta themes\n */\nqx.Class.define(\"qx.theme.manager.Meta\",\n{\n  type : \"singleton\",\n  extend : qx.core.Object,\n\n  events :\n  {\n    /** Fires if any theme manager has been changed. */\n    \"changeTheme\" : \"qx.event.type.Event\"\n  },\n\n\n  properties :\n  {\n    /**\n     * Meta theme. Applies the defined color, decoration, ... themes to\n     * the corresponding managers.\n     */\n    theme :\n    {\n      check : \"Theme\",\n      nullable : false,\n      apply : \"_applyTheme\"\n    }\n  },\n\n\n  members :\n  {\n    // property apply\n    _applyTheme : function(value, old)\n    {\n      // collect changes\n      var colorChanged = true;\n      var decorationChanged = true;\n      var fontChanged = true;\n      var iconChanged = true;\n      var appearanceChanged = true;\n\n      if (old) {\n        colorChanged = value.meta.color !== old.meta.color;\n        decorationChanged = value.meta.decoration !== old.meta.decoration;\n        fontChanged = value.meta.font !== old.meta.font;\n        iconChanged = value.meta.icon !== old.meta.icon;\n        appearanceChanged = value.meta.appearance !== old.meta.appearance;\n      }\n\n\n      var colorMgr = qx.theme.manager.Color.getInstance();\n      var decorationMgr = qx.theme.manager.Decoration.getInstance();\n      var fontMgr = qx.theme.manager.Font.getInstance();\n      var iconMgr = qx.theme.manager.Icon.getInstance();\n      var appearanceMgr = qx.theme.manager.Appearance.getInstance();\n\n      // suspend listeners\n      this._suspendEvents();\n\n\n      // apply meta changes\n      if (colorChanged) {\n        // color theme changed, but decorator not? force decorator\n        if (!decorationChanged) {\n          var dec = decorationMgr.getTheme();\n          decorationMgr._applyTheme(dec);\n        }\n        colorMgr.setTheme(value.meta.color);\n      }\n      decorationMgr.setTheme(value.meta.decoration);\n      fontMgr.setTheme(value.meta.font);\n      iconMgr.setTheme(value.meta.icon);\n      appearanceMgr.setTheme(value.meta.appearance);\n\n      // fire change event only if at least one theme manager changed\n      if (colorChanged || decorationChanged || fontChanged || iconChanged || appearanceChanged) {\n        this.fireEvent(\"changeTheme\");\n      }\n\n      // re add listener\n      this._activateEvents();\n    },\n\n\n    __timer : null,\n\n\n    /**\n     * Fires <code>changeTheme</code> event.\n     *\n     * @param e {qx.event.type.Data} Data event.\n     */\n    _fireEvent : function(e)\n    {\n      if (e.getTarget() === qx.theme.manager.Color.getInstance()) {\n        // force clearing all previously created CSS rules, to be able to\n        // re-create decorator rules with changed color theme\n        qx.theme.manager.Decoration.getInstance().refresh();\n      }\n\n      this.fireEvent(\"changeTheme\");\n    },\n\n\n    /**\n     * Removes listeners for <code>changeTheme</code> event of all\n     * related theme managers.\n     */\n    _suspendEvents : function()\n    {\n      var colorMgr = qx.theme.manager.Color.getInstance();\n      var decorationMgr = qx.theme.manager.Decoration.getInstance();\n      var fontMgr = qx.theme.manager.Font.getInstance();\n      var iconMgr = qx.theme.manager.Icon.getInstance();\n      var appearanceMgr = qx.theme.manager.Appearance.getInstance();\n\n      // suspend listeners\n      if (colorMgr.hasListener(\"changeTheme\")) {\n        colorMgr.removeListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (decorationMgr.hasListener(\"changeTheme\")) {\n        decorationMgr.removeListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (fontMgr.hasListener(\"changeTheme\")) {\n        fontMgr.removeListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (iconMgr.hasListener(\"changeTheme\")) {\n        iconMgr.removeListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (appearanceMgr.hasListener(\"changeTheme\")) {\n        appearanceMgr.removeListener(\"changeTheme\", this._fireEvent, this);\n      }\n    },\n\n\n    /**\n     * Activates listeners for <code>changeTheme</code> event of all related\n     * theme managers, to forwards the event to this meta manager instance.\n     */\n    _activateEvents : function()\n    {\n      var colorMgr = qx.theme.manager.Color.getInstance();\n      var decorationMgr = qx.theme.manager.Decoration.getInstance();\n      var fontMgr = qx.theme.manager.Font.getInstance();\n      var iconMgr = qx.theme.manager.Icon.getInstance();\n      var appearanceMgr = qx.theme.manager.Appearance.getInstance();\n\n      // add listeners to check changes\n      if (!colorMgr.hasListener(\"changeTheme\")) {\n        colorMgr.addListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (!decorationMgr.hasListener(\"changeTheme\")) {\n        decorationMgr.addListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (!fontMgr.hasListener(\"changeTheme\")) {\n        fontMgr.addListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (!iconMgr.hasListener(\"changeTheme\")) {\n        iconMgr.addListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (!appearanceMgr.hasListener(\"changeTheme\")) {\n        appearanceMgr.addListener(\"changeTheme\", this._fireEvent, this);\n      }\n    },\n\n\n    /**\n     * Initialize the themes which were selected using the settings. Should only\n     * be called from qooxdoo based application.\n     */\n    initialize : function()\n    {\n      var env = qx.core.Environment;\n      var theme, obj;\n\n      theme = env.get(\"qx.theme\");\n      if (theme)\n      {\n        obj = qx.Theme.getByName(theme);\n        if (!obj) {\n          throw new Error(\"The theme to use is not available: \" + theme);\n        }\n\n        this.setTheme(obj);\n      }\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     ENVIRONMENT SETTINGS\n  *****************************************************************************\n  */\n\n  environment : {\n    \"qx.theme\" : \"qx.theme.Modern\"\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/* ************************************************************************\n\n\n\n************************************************************************ */\n\n/**\n * This is the base class for all widgets.\n *\n * *External Documentation*\n *\n * <a href='http://manual.qooxdoo.org/${qxversion}/pages/widget.html' target='_blank'>\n * Documentation of this widget in the qooxdoo manual.</a>\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @use(qx.ui.core.EventHandler)\n * @use(qx.event.handler.DragDrop)\n * @asset(qx/static/blank.gif)\n *\n * @ignore(qx.ui.root.Inline)\n */\nqx.Class.define(\"qx.ui.core.Widget\",\n{\n  extend : qx.ui.core.LayoutItem,\n  include : [qx.locale.MTranslation],\n  implement: [ qx.core.IDisposable ],\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    // Create basic element\n    this.__contentElement = this.__createContentElement();\n\n    // Initialize properties\n    this.initFocusable();\n    this.initSelectable();\n    this.initNativeContextMenu();\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /**\n     * Fired after the widget appears on the screen.\n     */\n    appear : \"qx.event.type.Event\",\n\n    /**\n     * Fired after the widget disappears from the screen.\n     */\n    disappear : \"qx.event.type.Event\",\n\n    /**\n     * Fired after the creation of a child control. The passed data is the\n     * newly created child widget.\n     */\n    createChildControl : \"qx.event.type.Data\",\n\n\n    /**\n     * Fired on resize (after layout) of the widget.\n     * The data property of the event contains the widget's computed location\n     * and dimension as returned by {@link qx.ui.core.LayoutItem#getBounds}\n     */\n    resize : \"qx.event.type.Data\",\n\n    /**\n     * Fired on move (after layout) of the widget.\n     * The data property of the event contains the widget's computed location\n     * and dimension as returned by {@link qx.ui.core.LayoutItem#getBounds}\n     */\n    move : \"qx.event.type.Data\",\n\n    /**\n     * Fired after the appearance has been applied. This happens before the\n     * widget becomes visible, on state and appearance changes. The data field\n     * contains the state map. This can be used to react on state changes or to\n     * read properties set by the appearance.\n     */\n    syncAppearance : \"qx.event.type.Data\",\n\n\n\n    /** Fired if the mouse cursor moves over the widget.\n     *  The data property of the event contains the widget's computed location\n     *  and dimension as returned by {@link qx.ui.core.LayoutItem#getBounds}\n     */\n    mousemove : \"qx.event.type.Mouse\",\n\n    /**\n     * Fired if the mouse cursor enters the widget.\n     *\n     * Note: This event is also dispatched if the widget is disabled!\n     */\n    mouseover : \"qx.event.type.Mouse\",\n\n    /**\n     * Fired if the mouse cursor leaves widget.\n     *\n     * Note: This event is also dispatched if the widget is disabled!\n     */\n    mouseout : \"qx.event.type.Mouse\",\n\n    /** Mouse button is pressed on the widget. */\n    mousedown : \"qx.event.type.Mouse\",\n\n    /** Mouse button is released on the widget. */\n    mouseup : \"qx.event.type.Mouse\",\n\n    /** Widget is clicked using left or middle button.\n        {@link qx.event.type.Mouse#getButton} for more details.*/\n    click : \"qx.event.type.Mouse\",\n\n    /** Widget is clicked using a non primary button.\n        {@link qx.event.type.Mouse#getButton} for more details.*/\n    auxclick : \"qx.event.type.Mouse\",\n\n    /** Widget is double clicked using left or middle button.\n        {@link qx.event.type.Mouse#getButton} for more details.*/\n    dblclick : \"qx.event.type.Mouse\",\n\n    /** Widget is clicked using the right mouse button. */\n    contextmenu : \"qx.event.type.Mouse\",\n\n    /** Fired before the context menu is opened. */\n    beforeContextmenuOpen : \"qx.event.type.Data\",\n\n    /** Fired if the mouse wheel is used over the widget. */\n    mousewheel : \"qx.event.type.MouseWheel\",\n\n    /** Fired if a touch at the screen is started. */\n    touchstart : \"qx.event.type.Touch\",\n\n    /** Fired if a touch at the screen has ended. */\n    touchend : \"qx.event.type.Touch\",\n\n    /** Fired during a touch at the screen. */\n    touchmove : \"qx.event.type.Touch\",\n\n    /** Fired if a touch at the screen is canceled. */\n    touchcancel : \"qx.event.type.Touch\",\n\n    /** Fired when a pointer taps on the screen. */\n    tap : \"qx.event.type.Tap\",\n\n    /** Fired when a pointer holds on the screen. */\n    longtap : \"qx.event.type.Tap\",\n\n    /** Fired when a pointer taps twice on the screen. */\n    dbltap : \"qx.event.type.Tap\",\n\n    /** Fired when a pointer swipes over the screen. */\n    swipe : \"qx.event.type.Touch\",\n\n    /** Fired when two pointers performing a rotate gesture on the screen. */\n    rotate : \"qx.event.type.Rotate\",\n\n    /** Fired when two pointers performing a pinch in/out gesture on the screen. */\n    pinch : \"qx.event.type.Pinch\",\n\n    /** Fired when an active pointer moves on the screen (after pointerdown till pointerup). */\n    track : \"qx.event.type.Track\",\n\n    /** Fired when an active pointer moves on the screen or the mouse wheel is used. */\n    roll : \"qx.event.type.Roll\",\n\n    /** Fired if a pointer (mouse/touch/pen) moves or changes any of it's values. */\n    pointermove : \"qx.event.type.Pointer\",\n\n    /** Fired if a pointer (mouse/touch/pen) hovers the widget. */\n    pointerover : \"qx.event.type.Pointer\",\n\n    /** Fired if a pointer (mouse/touch/pen) leaves this widget. */\n    pointerout : \"qx.event.type.Pointer\",\n\n    /**\n     * Fired if a pointer (mouse/touch/pen) button is pressed or\n     * a finger touches the widget.\n     */\n    pointerdown : \"qx.event.type.Pointer\",\n\n    /**\n     * Fired if all pointer (mouse/touch/pen) buttons are released or\n     * the finger is lifted from the widget.\n     */\n    pointerup : \"qx.event.type.Pointer\",\n\n    /** Fired if a pointer (mouse/touch/pen) action is canceled. */\n    pointercancel : \"qx.event.type.Pointer\",\n\n    /** This event if fired if a keyboard key is released. */\n    keyup : \"qx.event.type.KeySequence\",\n\n    /**\n     * This event if fired if a keyboard key is pressed down. This event is\n     * only fired once if the user keeps the key pressed for a while.\n     */\n    keydown : \"qx.event.type.KeySequence\",\n\n    /**\n     * This event is fired any time a key is pressed. It will be repeated if\n     * the user keeps the key pressed. The pressed key can be determined using\n     * {@link qx.event.type.KeySequence#getKeyIdentifier}.\n     */\n    keypress : \"qx.event.type.KeySequence\",\n\n    /**\n     * This event is fired if the pressed key or keys result in a printable\n     * character. Since the character is not necessarily associated with a\n     * single physical key press, the event does not have a key identifier\n     * getter. This event gets repeated if the user keeps pressing the key(s).\n     *\n     * The unicode code of the pressed key can be read using\n     * {@link qx.event.type.KeyInput#getCharCode}.\n     */\n    keyinput : \"qx.event.type.KeyInput\",\n\n\n\n    /**\n     * The event is fired when the widget gets focused. Only widgets which are\n     * {@link #focusable} receive this event.\n     */\n    focus : \"qx.event.type.Focus\",\n\n    /**\n     * The event is fired when the widget gets blurred. Only widgets which are\n     * {@link #focusable} receive this event.\n     */\n    blur : \"qx.event.type.Focus\",\n\n    /**\n     * When the widget itself or any child of the widget receive the focus.\n     */\n    focusin : \"qx.event.type.Focus\",\n\n    /**\n     * When the widget itself or any child of the widget lost the focus.\n     */\n    focusout : \"qx.event.type.Focus\",\n\n    /**\n     * When the widget gets active (receives keyboard events etc.)\n     */\n    activate : \"qx.event.type.Focus\",\n\n    /**\n     * When the widget gets inactive\n     */\n    deactivate : \"qx.event.type.Focus\",\n\n\n\n    /**\n     * Fired if the widget becomes the capturing widget by a call to {@link #capture}.\n     */\n    capture : \"qx.event.type.Event\",\n\n    /**\n     * Fired if the widget looses the capturing mode by a call to\n     * {@link #releaseCapture} or a mouse click.\n     */\n    losecapture : \"qx.event.type.Event\",\n\n\n\n    /**\n     * Fired on the drop target when the drag&drop action is finished\n     * successfully. This event is normally used to transfer the data\n     * from the drag to the drop target.\n     *\n     * Modeled after the WHATWG specification of Drag&Drop:\n     * http://www.whatwg.org/specs/web-apps/current-work/#dnd\n     */\n    drop : \"qx.event.type.Drag\",\n\n    /**\n     * Fired on a potential drop target when leaving it.\n     *\n     * Modeled after the WHATWG specification of Drag&Drop:\n     * http://www.whatwg.org/specs/web-apps/current-work/#dnd\n     */\n    dragleave : \"qx.event.type.Drag\",\n\n    /**\n     * Fired on a potential drop target when reaching it via the pointer.\n     * This event can be canceled if none of the incoming data types\n     * are supported.\n     *\n     * Modeled after the WHATWG specification of Drag&Drop:\n     * http://www.whatwg.org/specs/web-apps/current-work/#dnd\n     */\n    dragover : \"qx.event.type.Drag\",\n\n    /**\n     * Fired during the drag. Contains the current pointer coordinates\n     * using {@link qx.event.type.Drag#getDocumentLeft} and\n     * {@link qx.event.type.Drag#getDocumentTop}\n     *\n     * Modeled after the WHATWG specification of Drag&Drop:\n     * http://www.whatwg.org/specs/web-apps/current-work/#dnd\n     */\n    drag : \"qx.event.type.Drag\",\n\n    /**\n     * Initiate the drag-and-drop operation. This event is cancelable\n     * when the drag operation is currently not allowed/possible.\n     *\n     * Modeled after the WHATWG specification of Drag&Drop:\n     * http://www.whatwg.org/specs/web-apps/current-work/#dnd\n     */\n    dragstart : \"qx.event.type.Drag\",\n\n    /**\n     * Fired on the source (drag) target every time a drag session was ended.\n     */\n    dragend : \"qx.event.type.Drag\",\n\n    /**\n     * Fired when the drag configuration has been modified e.g. the user\n     * pressed a key which changed the selected action. This event will be\n     * fired on the draggable and the droppable element. In case of the\n     * droppable element, you can cancel the event and prevent a drop based on\n     * e.g. the current action.\n     */\n    dragchange : \"qx.event.type.Drag\",\n\n    /**\n     * Fired when the drop was successfully done and the target widget\n     * is now asking for data. The listener should transfer the data,\n     * respecting the selected action, to the event. This can be done using\n     * the event's {@link qx.event.type.Drag#addData} method.\n     */\n    droprequest : \"qx.event.type.Drag\"\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      PADDING\n    ---------------------------------------------------------------------------\n    */\n\n    /** Padding of the widget (top) */\n    paddingTop :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyPadding\",\n      themeable : true\n    },\n\n\n    /** Padding of the widget (right) */\n    paddingRight :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyPadding\",\n      themeable : true\n    },\n\n\n    /** Padding of the widget (bottom) */\n    paddingBottom :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyPadding\",\n      themeable : true\n    },\n\n\n    /** Padding of the widget (left) */\n    paddingLeft :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyPadding\",\n      themeable : true\n    },\n\n\n    /**\n     * The 'padding' property is a shorthand property for setting 'paddingTop',\n     * 'paddingRight', 'paddingBottom' and 'paddingLeft' at the same time.\n     *\n     * If four values are specified they apply to top, right, bottom and left respectively.\n     * If there is only one value, it applies to all sides, if there are two or three,\n     * the missing values are taken from the opposite side.\n     */\n    padding :\n    {\n      group : [ \"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\" ],\n      mode  : \"shorthand\",\n      themeable : true\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      STYLING PROPERTIES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * The z-index property sets the stack order of an element. An element with\n     * greater stack order is always in front of another element with lower stack order.\n     */\n    zIndex :\n    {\n      nullable : true,\n      init : 10,\n      apply : \"_applyZIndex\",\n      event : \"changeZIndex\",\n      check : \"Integer\",\n      themeable : true\n    },\n\n\n    /**\n     * The decorator property points to an object, which is responsible\n     * for drawing the widget's decoration, e.g. border, background or shadow.\n     *\n     * This can be a decorator object or a string pointing to a decorator\n     * defined in the decoration theme.\n     */\n    decorator :\n    {\n      nullable : true,\n      init : null,\n      apply : \"_applyDecorator\",\n      event : \"changeDecorator\",\n      check : \"Decorator\",\n      themeable : true\n    },\n\n\n    /**\n     * The background color the rendered widget.\n     */\n    backgroundColor :\n    {\n      nullable : true,\n      check : \"Color\",\n      apply : \"_applyBackgroundColor\",\n      event : \"changeBackgroundColor\",\n      themeable : true\n    },\n\n\n    /**\n     * The text color the rendered widget.\n     */\n    textColor :\n    {\n      nullable : true,\n      check : \"Color\",\n      apply : \"_applyTextColor\",\n      event : \"changeTextColor\",\n      themeable : true,\n      inheritable : true\n    },\n\n\n    /**\n     * The widget's font. The value is either a font name defined in the font\n     * theme or an instance of {@link qx.bom.Font}.\n     */\n    font :\n    {\n      nullable : true,\n      apply : \"_applyFont\",\n      check : \"Font\",\n      event : \"changeFont\",\n      themeable : true,\n      inheritable : true,\n      dereference : true\n    },\n\n\n    /**\n     * Mapping to native style property opacity.\n     *\n     * The uniform opacity setting to be applied across an entire object.\n     * Behaves like the new CSS-3 Property.\n     * Any values outside the range 0.0 (fully transparent) to 1.0\n     * (fully opaque) will be clamped to this range.\n     */\n    opacity :\n    {\n      check : \"Number\",\n      apply : \"_applyOpacity\",\n      themeable : true,\n      nullable : true,\n      init : null\n    },\n\n\n    /**\n     * Mapping to native style property cursor.\n     *\n     * The name of the cursor to show when the pointer is over the widget.\n     * This is any valid CSS2 cursor name defined by W3C.\n     *\n     * The following values are possible crossbrowser:\n     * <ul><li>default</li>\n     * <li>crosshair</li>\n     * <li>pointer</li>\n     * <li>move</li>\n     * <li>n-resize</li>\n     * <li>ne-resize</li>\n     * <li>e-resize</li>\n     * <li>se-resize</li>\n     * <li>s-resize</li>\n     * <li>sw-resize</li>\n     * <li>w-resize</li>\n     * <li>nw-resize</li>\n     * <li>nesw-resize</li>\n     * <li>nwse-resize</li>\n     * <li>text</li>\n     * <li>wait</li>\n     * <li>help </li>\n     * </ul>\n     */\n    cursor :\n    {\n      check : \"String\",\n      apply : \"_applyCursor\",\n      themeable : true,\n      inheritable : true,\n      nullable : true,\n      init : null\n    },\n\n\n    /**\n     * Sets the tooltip instance to use for this widget. If only the tooltip\n     * text and icon have to be set its better to use the {@link #toolTipText}\n     * and {@link #toolTipIcon} properties since they use a shared tooltip\n     * instance.\n     *\n     * If this property is set the {@link #toolTipText} and {@link #toolTipIcon}\n     * properties are ignored.\n     */\n    toolTip :\n    {\n      check : \"qx.ui.tooltip.ToolTip\",\n      nullable : true\n    },\n\n\n    /**\n     * The text of the widget's tooltip. This text can contain HTML markup.\n     * The text is displayed using a shared tooltip instance. If the tooltip\n     * must be customized beyond the text and an icon {@link #toolTipIcon}, the\n     * {@link #toolTip} property has to be used\n     */\n    toolTipText :\n    {\n      check : \"String\",\n      nullable : true,\n      event : \"changeToolTipText\",\n      apply : \"_applyToolTipText\"\n    },\n\n\n    /**\n    * The icon URI of the widget's tooltip. This icon is displayed using a shared\n    * tooltip instance. If the tooltip must be customized beyond the tooltip text\n    * {@link #toolTipText} and the icon, the {@link #toolTip} property has to be\n    * used.\n    */\n    toolTipIcon :\n    {\n      check : \"String\",\n      nullable : true,\n      event : \"changeToolTipText\"\n    },\n\n    /**\n     * Controls if a tooltip should shown or not.\n     */\n    blockToolTip :\n    {\n      check : \"Boolean\",\n      init : false\n    },\n\n    /**\n     * Forces to show tooltip when widget is disabled.\n     */\n    showToolTipWhenDisabled:\n    {\n      check : \"Boolean\",\n      init : false\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MANAGEMENT PROPERTIES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Controls the visibility. Valid values are:\n     *\n     * <ul>\n     *   <li><b>visible</b>: Render the widget</li>\n     *   <li><b>hidden</b>: Hide the widget but don't relayout the widget's parent.</li>\n     *   <li><b>excluded</b>: Hide the widget and relayout the parent as if the\n     *     widget was not a child of its parent.</li>\n     * </ul>\n     */\n    visibility :\n    {\n      check : [\"visible\", \"hidden\", \"excluded\"],\n      init : \"visible\",\n      apply : \"_applyVisibility\",\n      event : \"changeVisibility\"\n    },\n\n\n    /**\n     * Whether the widget is enabled. Disabled widgets are usually grayed out\n     * and do not process user created events. While in the disabled state most\n     * user input events are blocked. Only the {@link #pointerover} and\n     * {@link #pointerout} events will be dispatched.\n     */\n    enabled :\n    {\n      init : true,\n      check : \"Boolean\",\n      inheritable : true,\n      apply : \"_applyEnabled\",\n      event : \"changeEnabled\"\n    },\n\n\n    /**\n     * Whether the widget is anonymous.\n     *\n     * Anonymous widgets are ignored in the event hierarchy. This is useful\n     * for combined widgets where the internal structure do not have a custom\n     * appearance with a different styling from the element around. This is\n     * especially true for widgets like checkboxes or buttons where the text\n     * or icon are handled synchronously for state changes to the outer widget.\n     */\n    anonymous :\n    {\n      init : false,\n      check : \"Boolean\",\n      apply : \"_applyAnonymous\"\n    },\n\n\n    /**\n     * Defines the tab index of an widget. If widgets with tab indexes are part\n     * of the current focus root these elements are sorted in first priority. Afterwards\n     * the sorting continues by rendered position, zIndex and other criteria.\n     *\n     * Please note: The value must be between 1 and 32000.\n     */\n    tabIndex :\n    {\n      check : \"Integer\",\n      nullable : true,\n      apply : \"_applyTabIndex\"\n    },\n\n\n    /**\n     * Whether the widget is focusable e.g. rendering a focus border and visualize\n     * as active element.\n     *\n     * See also {@link #isTabable} which allows runtime checks for\n     * <code>isChecked</code> or other stuff to test whether the widget is\n     * reachable via the TAB key.\n     */\n    focusable :\n    {\n      check : \"Boolean\",\n      init : false,\n      apply : \"_applyFocusable\"\n    },\n\n\n    /**\n     * If this property is enabled, the widget and all of its child widgets\n     * will never get focused. The focus keeps at the currently\n     * focused widget.\n     *\n     * This only works for widgets which are not {@link #focusable}.\n     *\n     * This is mainly useful for widget authors. Please use with caution!\n     */\n    keepFocus :\n    {\n      check : \"Boolean\",\n      init : false,\n      apply : \"_applyKeepFocus\"\n    },\n\n\n    /**\n     * If this property if enabled, the widget and all of its child widgets\n     * will never get activated. The activation keeps at the currently\n     * activated widget.\n     *\n     * This is mainly useful for widget authors. Please use with caution!\n     */\n    keepActive :\n    {\n      check : \"Boolean\",\n      init : false,\n      apply : \"_applyKeepActive\"\n    },\n\n\n    /** Whether the widget acts as a source for drag&drop operations */\n    draggable :\n    {\n      check : \"Boolean\",\n      init : false,\n      apply : \"_applyDraggable\"\n    },\n\n\n    /** Whether the widget acts as a target for drag&drop operations */\n    droppable :\n    {\n      check : \"Boolean\",\n      init : false,\n      apply : \"_applyDroppable\"\n    },\n\n\n    /**\n     * Whether the widget contains content which may be selected by the user.\n     *\n     * If the value set to <code>true</code> the native browser selection can\n     * be used for text selection. But it is normally useful for\n     * forms fields, longer texts/documents, editors, etc.\n     */\n    selectable :\n    {\n      check : \"Boolean\",\n      init : false,\n      event : \"changeSelectable\",\n      apply : \"_applySelectable\"\n    },\n\n\n    /**\n     * Whether to show a context menu and which one\n     */\n    contextMenu :\n    {\n      check : \"qx.ui.menu.Menu\",\n      apply : \"_applyContextMenu\",\n      nullable : true,\n      event : \"changeContextMenu\"\n    },\n\n\n    /**\n     * Whether the native context menu should be enabled for this widget. To\n     * globally enable the native context menu set the {@link #nativeContextMenu}\n     * property of the root widget ({@link qx.ui.root.Abstract}) to\n     * <code>true</code>.\n     */\n    nativeContextMenu :\n    {\n      check : \"Boolean\",\n      init : false,\n      themeable : true,\n      event : \"changeNativeContextMenu\",\n      apply : \"_applyNativeContextMenu\"\n    },\n\n\n    /**\n     * The appearance ID. This ID is used to identify the appearance theme\n     * entry to use for this widget. This controls the styling of the element.\n     */\n    appearance :\n    {\n      check : \"String\",\n      init : \"widget\",\n      apply : \"_applyAppearance\",\n      event : \"changeAppearance\"\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** Whether the widget should print out hints and debug messages */\n    DEBUG : false,\n\n    /** Whether to throw an error on focus/blur if the widget is unfocusable */\n    UNFOCUSABLE_WIDGET_FOCUS_BLUR_ERROR : true,\n\n    /**\n     * Returns the widget, which contains the given DOM element.\n     *\n     * @param element {Element} The DOM element to search the widget for.\n     * @param considerAnonymousState {Boolean?false} If true, anonymous widget\n     *   will not be returned.\n     * @return {qx.ui.core.Widget} The widget containing the element.\n     */\n    getWidgetByElement : function(element, considerAnonymousState)\n    {\n      while(element)\n      {\n      \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \t\tqx.core.Assert.assertTrue((!element.$$widget && !element.$$widgetObject) ||\n      \t\t\t\t(element.$$widgetObject && element.$$widget && element.$$widgetObject.toHashCode() === element.$$widget));\n      \t}\n        var widget = element.$$widgetObject;\n\n        // check for anonymous widgets\n        if (widget) {\n\t        if (!considerAnonymousState || !widget.getAnonymous()) {\n\t          return widget;\n\t        }\n        }\n\n        // Fix for FF, which occasionally breaks (BUG#3525)\n        try {\n          element = element.parentNode;\n        } catch (e) {\n          return null;\n        }\n      }\n      return null;\n    },\n\n\n    /**\n     * Whether the \"parent\" widget contains the \"child\" widget.\n     *\n     * @param parent {qx.ui.core.Widget} The parent widget\n     * @param child {qx.ui.core.Widget} The child widget\n     * @return {Boolean} Whether one of the \"child\"'s parents is \"parent\"\n     */\n    contains : function(parent, child)\n    {\n      while (child)\n      {\n        child = child.getLayoutParent();\n\n        if (parent == child) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /** @type {Map} Contains all pooled separators for reuse */\n    __separatorPool : new qx.util.ObjectPool()\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __contentElement : null,\n    __initialAppearanceApplied : null,\n    __toolTipTextListenerId : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LAYOUT INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * @type {qx.ui.layout.Abstract} The connected layout manager\n     */\n    __layoutManager : null,\n\n\n    // overridden\n    _getLayout : function() {\n      return this.__layoutManager;\n    },\n\n\n    /**\n     * Set a layout manager for the widget. A a layout manager can only be connected\n     * with one widget. Reset the connection with a previous widget first, if you\n     * like to use it in another widget instead.\n     *\n     * @param layout {qx.ui.layout.Abstract} The new layout or\n     *     <code>null</code> to reset the layout.\n     */\n    _setLayout : function(layout)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (layout) {\n          this.assertInstance(layout, qx.ui.layout.Abstract);\n        }\n      }\n\n      if (this.__layoutManager) {\n        this.__layoutManager.connectToWidget(null);\n      }\n\n      if (layout) {\n        layout.connectToWidget(this);\n      }\n\n      this.__layoutManager = layout;\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    // overridden\n    setLayoutParent : function(parent)\n    {\n      if (this.$$parent === parent) {\n        return;\n      }\n\n      var content = this.getContentElement();\n\n      if (this.$$parent && !this.$$parent.$$disposed) {\n        this.$$parent.getContentElement().remove(content);\n      }\n\n      this.$$parent = parent || null;\n\n      if (parent && !parent.$$disposed) {\n        this.$$parent.getContentElement().add(content);\n      }\n\n      // Update inheritable properties\n      this.$$refreshInheritables();\n\n      // Update visibility cache\n      qx.ui.core.queue.Visibility.add(this);\n    },\n\n\n    /** @type {Boolean} Whether insets have changed and must be updated */\n    _updateInsets : null,\n\n\n    // overridden\n    renderLayout : function(left, top, width, height)\n    {\n      var changes = this.base(arguments, left, top, width, height);\n\n      // Directly return if superclass has detected that no\n      // changes needs to be applied\n      if (!changes) {\n        return null;\n      }\n\n      if (qx.lang.Object.isEmpty(changes) && !this._updateInsets) {\n        return null;\n      }\n\n      var content = this.getContentElement();\n      var inner = changes.size || this._updateInsets;\n      var pixel = \"px\";\n\n      var contentStyles = {};\n      // Move content to new position\n      if (changes.position)\n      {\n        contentStyles.left = left + pixel;\n        contentStyles.top = top + pixel;\n      }\n\n      if (inner || changes.margin)\n      {\n        contentStyles.width = width + pixel;\n        contentStyles.height = height + pixel;\n      }\n\n      if (Object.keys(contentStyles).length > 0) {\n        content.setStyles(contentStyles);\n      }\n\n      if (inner || changes.local || changes.margin)\n      {\n        if (this.__layoutManager && this.hasLayoutChildren()) {\n          var inset = this.getInsets();\n          var innerWidth = width - inset.left - inset.right;\n          var innerHeight = height - inset.top - inset.bottom;\n\n          var decorator = this.getDecorator();\n          var decoratorPadding = {left: 0, right: 0, top: 0, bottom: 0};\n          if (decorator) {\n            decorator = qx.theme.manager.Decoration.getInstance().resolve(decorator);\n            decoratorPadding = decorator.getPadding();\n          }\n\n          var padding = {\n            top: this.getPaddingTop() + decoratorPadding.top,\n            right: this.getPaddingRight() + decoratorPadding.right,\n            bottom: this.getPaddingBottom() + decoratorPadding.bottom,\n            left : this.getPaddingLeft() + decoratorPadding.left\n          };\n\n          this.__layoutManager.renderLayout(innerWidth, innerHeight, padding);\n        } else if (this.hasLayoutChildren()) {\n          throw new Error(\"At least one child in control \" +\n            this._findTopControl() +\n            \" requires a layout, but no one was defined!\");\n        }\n      }\n\n      // Fire events\n      if (changes.position && this.hasListener(\"move\")) {\n        this.fireDataEvent(\"move\", this.getBounds());\n      }\n\n      if (changes.size && this.hasListener(\"resize\")) {\n        this.fireDataEvent(\"resize\", this.getBounds());\n      }\n\n      // Cleanup flags\n      delete this._updateInsets;\n\n      return changes;\n    },\n\n\n\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SEPARATOR SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    __separators : null,\n\n    // overridden\n    clearSeparators : function()\n    {\n      var reg = this.__separators;\n      if (!reg) {\n        return;\n      }\n\n      var pool = qx.ui.core.Widget.__separatorPool;\n      var content = this.getContentElement();\n      var widget;\n\n      for (var i=0, l=reg.length; i<l; i++)\n      {\n        widget = reg[i];\n        pool.poolObject(widget);\n        content.remove(widget.getContentElement());\n      }\n\n      // Clear registry\n      reg.length = 0;\n    },\n\n\n    // overridden\n    renderSeparator : function(separator, bounds)\n    {\n      // Insert\n      var widget = qx.ui.core.Widget.__separatorPool.getObject(qx.ui.core.Widget);\n      widget.set({\n        decorator: separator\n      });\n      var elem = widget.getContentElement();\n      this.getContentElement().add(elem);\n\n      // Move\n      var domEl = elem.getDomElement();\n      // use the DOM element because the cache of the qx.html.Element could be\n      // wrong due to changes made by the decorators which work on the DOM element too\n      if (domEl) {\n        domEl.style.top = bounds.top + \"px\";\n        domEl.style.left = bounds.left + \"px\";\n        domEl.style.width = bounds.width + \"px\";\n        domEl.style.height = bounds.height + \"px\";\n      } else {\n        elem.setStyles({\n          left : bounds.left + \"px\",\n          top : bounds.top + \"px\",\n          width : bounds.width + \"px\",\n          height : bounds.height + \"px\"\n        });\n      }\n\n      // Remember element\n      if (!this.__separators) {\n        this.__separators = [];\n      }\n      this.__separators.push(widget);\n    },\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SIZE HINTS\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _computeSizeHint : function()\n    {\n      // Start with the user defined values\n      var width = this.getWidth();\n      var minWidth = this.getMinWidth();\n      var maxWidth = this.getMaxWidth();\n\n      var height = this.getHeight();\n      var minHeight = this.getMinHeight();\n      var maxHeight = this.getMaxHeight();\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (minWidth !== null && maxWidth !== null) {\n          this.assert(minWidth <= maxWidth, \"minWidth is larger than maxWidth!\");\n        }\n        if (minHeight !== null && maxHeight !== null) {\n          this.assert(minHeight <= maxHeight, \"minHeight is larger than maxHeight!\");\n        }\n      }\n\n      // Ask content\n      var contentHint = this._getContentHint();\n\n      var insets = this.getInsets();\n      var insetX = insets.left + insets.right;\n      var insetY = insets.top + insets.bottom;\n\n      if (width == null) {\n        width = contentHint.width + insetX;\n      }\n\n      if (height == null) {\n        height = contentHint.height + insetY;\n      }\n\n      if (minWidth == null)\n      {\n        minWidth = insetX;\n\n        if (contentHint.minWidth != null) {\n          minWidth += contentHint.minWidth;\n          // do not apply bigger min width than max width [BUG #5008]\n          if (minWidth > maxWidth && maxWidth != null) {\n            minWidth = maxWidth;\n          }\n        }\n      }\n\n      if (minHeight == null)\n      {\n        minHeight = insetY;\n\n        if (contentHint.minHeight != null) {\n          minHeight += contentHint.minHeight;\n          // do not apply bigger min height than max height [BUG #5008]\n          if (minHeight > maxHeight && maxHeight != null) {\n            minHeight = maxHeight;\n          }\n        }\n      }\n\n      if (maxWidth == null)\n      {\n        if (contentHint.maxWidth == null) {\n          maxWidth = Infinity;\n        } else {\n          maxWidth = contentHint.maxWidth + insetX;\n          // do not apply bigger min width than max width [BUG #5008]\n          if (maxWidth < minWidth && minWidth != null) {\n            maxWidth = minWidth;\n          }\n        }\n      }\n\n      if (maxHeight == null)\n      {\n        if (contentHint.maxHeight == null) {\n          maxHeight = Infinity;\n        } else {\n          maxHeight = contentHint.maxHeight + insetY;\n          // do not apply bigger min width than max width [BUG #5008]\n          if (maxHeight < minHeight && minHeight != null) {\n            maxHeight = minHeight;\n          }\n        }\n      }\n\n      // Build size hint and return\n      return {\n        width : width,\n        minWidth : minWidth,\n        maxWidth : maxWidth,\n        height : height,\n        minHeight : minHeight,\n        maxHeight : maxHeight\n      };\n    },\n\n\n    // overridden\n    invalidateLayoutCache : function()\n    {\n      this.base(arguments);\n\n      if (this.__layoutManager) {\n        this.__layoutManager.invalidateLayoutCache();\n      }\n    },\n\n\n    /**\n     * Returns the recommended/natural dimensions of the widget's content.\n     *\n     * For labels and images this may be their natural size when defined without\n     * any dimensions. For containers this may be the recommended size of the\n     * underlying layout manager.\n     *\n     * Developer note: This can be overwritten by the derived classes to allow\n     * a custom handling here.\n     *\n     * @return {Map}\n     */\n    _getContentHint : function()\n    {\n      var layout = this.__layoutManager;\n      if (layout)\n      {\n        if (this.hasLayoutChildren())\n        {\n          var hint = layout.getSizeHint();\n\n          if (qx.core.Environment.get(\"qx.debug\"))\n          {\n            var msg = \"The layout of the widget\" + this.toString() +\n              \" returned an invalid size hint!\";\n            this.assertInteger(hint.width, \"Wrong 'left' argument. \" + msg);\n            this.assertInteger(hint.height, \"Wrong 'top' argument. \" + msg);\n          }\n\n          return hint;\n        }\n        else\n        {\n          return {\n            width : 0,\n            height : 0\n          };\n        }\n      }\n      else\n      {\n        return {\n          width : 100,\n          height : 50\n        };\n      }\n    },\n\n\n    // overridden\n    _getHeightForWidth : function(width)\n    {\n      // Prepare insets\n      var insets = this.getInsets();\n\n      var insetX = insets.left + insets.right;\n      var insetY = insets.top + insets.bottom;\n\n      // Compute content width\n      var contentWidth = width - insetX;\n\n      // Compute height\n      var layout = this._getLayout();\n      if (layout && layout.hasHeightForWidth()) {\n        var contentHeight =  layout.getHeightForWidth(contentWidth);\n      } else {\n        contentHeight = this._getContentHeightForWidth(contentWidth);\n      }\n\n      // Computed box height\n      var height = contentHeight + insetY;\n\n      return height;\n    },\n\n\n    /**\n     * Returns the computed height for the given width.\n     *\n     * @abstract\n     * @param width {Integer} Incoming width (as limitation)\n     * @return {Integer} Computed height while respecting the given width.\n     */\n    _getContentHeightForWidth : function(width) {\n      throw new Error(\"Abstract method call: _getContentHeightForWidth()!\");\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      INSET CALCULATION SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the sum of the widget's padding and border width.\n     *\n     * @return {Map} Contains the keys <code>top</code>, <code>right</code>,\n     *   <code>bottom</code> and <code>left</code>. All values are integers.\n     */\n    getInsets : function()\n    {\n      var top = this.getPaddingTop();\n      var right = this.getPaddingRight();\n      var bottom = this.getPaddingBottom();\n      var left = this.getPaddingLeft();\n      if (this.getDecorator()) {\n        var decorator = qx.theme.manager.Decoration.getInstance().resolve(this.getDecorator());\n        var inset = decorator.getInsets();\n\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          this.assertNumber(\n            inset.top,\n            \"Invalid top decorator inset detected: \" + inset.top\n          );\n          this.assertNumber(\n            inset.right,\n            \"Invalid right decorator inset detected: \" + inset.right\n          );\n          this.assertNumber(\n            inset.bottom,\n            \"Invalid bottom decorator inset detected: \" + inset.bottom\n          );\n          this.assertNumber(\n            inset.left,\n            \"Invalid left decorator inset detected: \" + inset.left\n          );\n        }\n\n        top += inset.top;\n        right += inset.right;\n        bottom += inset.bottom;\n        left += inset.left;\n      }\n\n      return {\n        \"top\" : top,\n        \"right\" : right,\n        \"bottom\" : bottom,\n        \"left\" : left\n      };\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COMPUTED LAYOUT SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the widget's computed inner size as available\n     * through the layout process.\n     *\n     * This function is guaranteed to return a correct value\n     * during a {@link #resize} or {@link #move} event dispatch.\n     *\n     * @return {Map} The widget inner dimension in pixel (if the layout is\n     *    valid). Contains the keys <code>width</code> and <code>height</code>.\n     */\n    getInnerSize : function()\n    {\n      var computed = this.getBounds();\n      if (!computed) {\n        return null;\n      }\n\n      // Return map data\n      var insets = this.getInsets();\n      return {\n        width : computed.width - insets.left - insets.right,\n        height : computed.height - insets.top - insets.bottom\n      };\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      ANIMATION SUPPORT: USER API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Fade out this widget.\n     * @param duration {Number} Time in ms.\n     * @return {qx.bom.element.AnimationHandle} The animation handle to react for\n     *   the fade animation.\n     */\n    fadeOut : function(duration) {\n      return this.getContentElement().fadeOut(duration);\n    },\n\n    /**\n     * Fade in the widget.\n     * @param duration {Number} Time in ms.\n     * @return {qx.bom.element.AnimationHandle} The animation handle to react for\n     *   the fade animation.\n     */\n    fadeIn : function(duration) {\n      return this.getContentElement().fadeIn(duration);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      VISIBILITY SUPPORT: USER API\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyAnonymous : function(value) {\n      if (value) {\n        this.getContentElement().setAttribute(\"qxanonymous\", \"true\");\n      } else {\n        this.getContentElement().removeAttribute(\"qxanonymous\");\n      }\n    },\n\n\n    /**\n     * Make this widget visible.\n     *\n     */\n    show : function() {\n      this.setVisibility(\"visible\");\n    },\n\n\n    /**\n     * Hide this widget.\n     *\n     */\n    hide : function() {\n      this.setVisibility(\"hidden\");\n    },\n\n\n    /**\n     * Hide this widget and exclude it from the underlying layout.\n     *\n     */\n    exclude : function() {\n      this.setVisibility(\"excluded\");\n    },\n\n\n    /**\n     * Whether the widget is locally visible.\n     *\n     * Note: This method does not respect the hierarchy.\n     *\n     * @return {Boolean} Returns <code>true</code> when the widget is visible\n     */\n    isVisible : function() {\n      return this.getVisibility() === \"visible\";\n    },\n\n\n    /**\n     * Whether the widget is locally hidden.\n     *\n     * Note: This method does not respect the hierarchy.\n     *\n     * @return {Boolean} Returns <code>true</code> when the widget is hidden\n     */\n    isHidden : function() {\n      return this.getVisibility() !== \"visible\";\n    },\n\n\n    /**\n     * Whether the widget is locally excluded.\n     *\n     * Note: This method does not respect the hierarchy.\n     *\n     * @return {Boolean} Returns <code>true</code> when the widget is excluded\n     */\n    isExcluded : function() {\n      return this.getVisibility() === \"excluded\";\n    },\n\n\n    /**\n     * Detects if the widget and all its parents are visible.\n     *\n     * WARNING: Please use this method with caution because it flushes the\n     * internal queues which might be an expensive operation.\n     *\n     * @return {Boolean} true, if the widget is currently on the screen\n     */\n    isSeeable : function()\n    {\n      // Flush the queues because to detect if the widget ins visible, the\n      // queues need to be flushed (see bug #5254)\n      qx.ui.core.queue.Manager.flush();\n      // if the element is already rendered, a check for the offsetWidth is enough\n      var element = this.getContentElement().getDomElement();\n      if (element) {\n        // will also be 0 if the parents are not visible\n        return element.offsetWidth > 0;\n      }\n      // if no element is available, it can not be visible\n      return false;\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CREATION OF HTML ELEMENTS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Create the widget's content HTML element.\n     *\n     * @return {qx.html.Element} The content HTML element\n     */\n    __createContentElement : function()\n    {\n      var el = this._createContentElement();\n      el.connectWidget(this);\n\n      // make sure to allow all pointer events\n      el.setStyles({\"touch-action\": \"none\", \"-ms-touch-action\" : \"none\"});\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        el.setAttribute(\"qxClass\", this.classname);\n      }\n\n      var styles = {\n        \"zIndex\": 10,\n        \"boxSizing\": \"border-box\"\n      };\n\n      if (!qx.ui.root.Inline ||\n        !(this instanceof qx.ui.root.Inline))\n      {\n        styles.position = \"absolute\";\n      }\n\n      el.setStyles(styles);\n\n      return el;\n    },\n\n\n    /**\n     * Creates the content element. The style properties\n     * position and zIndex are modified from the Widget\n     * core.\n     *\n     * This function may be overridden to customize a class\n     * content.\n     *\n     * @return {qx.html.Element} The widget's content element\n     */\n    _createContentElement : function()\n    {\n      return new qx.html.Element(\"div\", {\n        overflowX: \"hidden\",\n        overflowY: \"hidden\"\n      });\n    },\n\n\n    /**\n     * Returns the element wrapper of the widget's content element.\n     * This method exposes widget internal and must be used with caution!\n     *\n     * @return {qx.html.Element} The widget's content element\n     */\n    getContentElement : function() {\n      return this.__contentElement;\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILDREN HANDLING\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {qx.ui.core.LayoutItem[]} List of all child widgets */\n    __widgetChildren : null,\n\n\n    /**\n     * Returns all children, which are layout relevant. This excludes all widgets,\n     * which have a {@link qx.ui.core.Widget#visibility} value of <code>exclude</code>.\n     *\n     * @internal\n     * @return {qx.ui.core.Widget[]} All layout relevant children.\n     */\n    getLayoutChildren : function()\n    {\n      var children = this.__widgetChildren;\n      if (!children) {\n        return this.__emptyChildren;\n      }\n\n      var layoutChildren;\n      for (var i=0, l=children.length; i<l; i++)\n      {\n        var child = children[i];\n        if (child.hasUserBounds() || child.isExcluded())\n        {\n          if (layoutChildren == null) {\n            layoutChildren = children.concat();\n          }\n\n          qx.lang.Array.remove(layoutChildren, child);\n        }\n      }\n\n      return layoutChildren || children;\n    },\n\n\n    /**\n     * Marks the layout of this widget as invalid and triggers a layout update.\n     * This is a shortcut for <code>qx.ui.core.queue.Layout.add(this);</code>.\n     */\n    scheduleLayoutUpdate : function() {\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    /**\n     * Resets the cache for children which should be laid out.\n     */\n    invalidateLayoutChildren : function()\n    {\n      var layout = this.__layoutManager;\n      if (layout) {\n        layout.invalidateChildrenCache();\n      }\n\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    /**\n     * Returns whether the layout has children, which are layout relevant. This\n     * excludes all widgets, which have a {@link qx.ui.core.Widget#visibility}\n     * value of <code>exclude</code>.\n     *\n     * @return {Boolean} Whether the layout has layout relevant children\n     */\n    hasLayoutChildren : function()\n    {\n      var children = this.__widgetChildren;\n      if (!children) {\n        return false;\n      }\n\n      var child;\n      for (var i=0, l=children.length; i<l; i++)\n      {\n        child = children[i];\n        if (!child.hasUserBounds() && !child.isExcluded()) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Returns the widget which contains the children and\n     * is relevant for laying them out. This is from the user point of\n     * view and may not be identical to the technical structure.\n     *\n     * @return {qx.ui.core.Widget} Widget which contains the children.\n     */\n    getChildrenContainer : function() {\n      return this;\n    },\n\n\n    /**\n     * @type {Array} Placeholder for children list in empty widgets.\n     *     Mainly to keep instance number low.\n     *\n     * @lint ignoreReferenceField(__emptyChildren)\n     */\n    __emptyChildren : [],\n\n\n    /**\n     * Returns the children list\n     *\n     * @return {qx.ui.core.LayoutItem[]} The children array (Arrays are\n     *   reference types, so please do not modify it in-place).\n     */\n    _getChildren : function() {\n      return this.__widgetChildren || this.__emptyChildren;\n    },\n\n\n    /**\n     * Returns the index position of the given widget if it is\n     * a child widget. Otherwise it returns <code>-1</code>.\n     *\n     * @param child {qx.ui.core.Widget} the widget to query for\n     * @return {Integer} The index position or <code>-1</code> when\n     *   the given widget is no child of this layout.\n     */\n    _indexOf : function(child)\n    {\n      var children = this.__widgetChildren;\n      if (!children) {\n        return -1;\n      }\n\n      return children.indexOf(child);\n    },\n\n\n    /**\n     * Whether the widget contains children.\n     *\n     * @return {Boolean} Returns <code>true</code> when the widget has children.\n     */\n    _hasChildren : function()\n    {\n      var children = this.__widgetChildren;\n      return children != null && (!!children[0]);\n    },\n\n\n    /**\n     * Recursively adds all children to the given queue\n     *\n     * @param queue {Array} The queue to add widgets to\n     */\n    addChildrenToQueue : function(queue)\n    {\n      var children = this.__widgetChildren;\n      if (!children) {\n        return;\n      }\n\n      var child;\n      for (var i=0, l=children.length; i<l; i++)\n      {\n        child = children[i];\n        queue.push(child);\n\n        child.addChildrenToQueue(queue);\n      }\n    },\n\n\n    /**\n     * Adds a new child widget.\n     *\n     * The supported keys of the layout options map depend on the layout manager\n     * used to position the widget. The options are documented in the class\n     * documentation of each layout manager {@link qx.ui.layout}.\n     *\n     * @param child {qx.ui.core.LayoutItem} the widget to add.\n     * @param options {Map?null} Optional layout data for widget.\n     */\n    _add : function(child, options)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertInstance(child, qx.ui.core.LayoutItem.constructor, \"'Child' must be an instance of qx.ui.core.LayoutItem!\");\n      }\n\n      // When moving in the same widget, remove widget first\n      if (child.getLayoutParent() == this) {\n        qx.lang.Array.remove(this.__widgetChildren, child);\n      }\n\n      if (this.__widgetChildren) {\n        this.__widgetChildren.push(child);\n      } else {\n        this.__widgetChildren = [ child ];\n      }\n\n      this.__addHelper(child, options);\n    },\n\n\n    /**\n     * Add a child widget at the specified index\n     *\n     * @param child {qx.ui.core.LayoutItem} widget to add\n     * @param index {Integer} Index, at which the widget will be inserted. If no\n     *   widget exists at the given index, the new widget gets appended to the\n     *   current list of children.\n     * @param options {Map?null} Optional layout data for widget.\n     */\n    _addAt : function(child, index, options)\n    {\n      if (!this.__widgetChildren) {\n        this.__widgetChildren = [];\n      }\n\n      // When moving in the same widget, remove widget first\n      if (child.getLayoutParent() == this) {\n        qx.lang.Array.remove(this.__widgetChildren, child);\n      }\n\n      var ref = this.__widgetChildren[index];\n\n      if (ref === child) {\n        child.setLayoutProperties(options);\n      }\n\n      if (ref) {\n        qx.lang.Array.insertBefore(this.__widgetChildren, child, ref);\n      } else {\n        this.__widgetChildren.push(child);\n      }\n\n      this.__addHelper(child, options);\n    },\n\n\n    /**\n     * Add a widget before another already inserted widget\n     *\n     * @param child {qx.ui.core.LayoutItem} widget to add\n     * @param before {qx.ui.core.LayoutItem} widget before the new widget will be inserted.\n     * @param options {Map?null} Optional layout data for widget.\n     */\n    _addBefore : function(child, before, options)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertInArray(before, this._getChildren(),\n          \"The 'before' widget is not a child of this widget!\");\n      }\n\n      if (child == before) {\n        return;\n      }\n\n      if (!this.__widgetChildren) {\n        this.__widgetChildren = [];\n      }\n\n      // When moving in the same widget, remove widget first\n      if (child.getLayoutParent() == this) {\n        qx.lang.Array.remove(this.__widgetChildren, child);\n      }\n\n      qx.lang.Array.insertBefore(this.__widgetChildren, child, before);\n\n      this.__addHelper(child, options);\n    },\n\n\n    /**\n     * Add a widget after another already inserted widget\n     *\n     * @param child {qx.ui.core.LayoutItem} widget to add\n     * @param after {qx.ui.core.LayoutItem} widget, after which the new widget will\n     *   be inserted\n     * @param options {Map?null} Optional layout data for widget.\n     */\n    _addAfter : function(child, after, options)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertInArray(after, this._getChildren(),\n          \"The 'after' widget is not a child of this widget!\");\n      }\n\n      if (child == after) {\n        return;\n      }\n\n      if (!this.__widgetChildren) {\n        this.__widgetChildren = [];\n      }\n\n      // When moving in the same widget, remove widget first\n      if (child.getLayoutParent() == this) {\n        qx.lang.Array.remove(this.__widgetChildren, child);\n      }\n\n      qx.lang.Array.insertAfter(this.__widgetChildren, child, after);\n\n      this.__addHelper(child, options);\n    },\n\n\n    /**\n     * Remove the given child widget.\n     *\n     * @param child {qx.ui.core.LayoutItem} the widget to remove\n     */\n    _remove : function(child)\n    {\n      if (!this.__widgetChildren) {\n        throw new Error(\"This widget has no children!\");\n      }\n\n      qx.lang.Array.remove(this.__widgetChildren, child);\n      this.__removeHelper(child);\n    },\n\n\n    /**\n     * Remove the widget at the specified index.\n     *\n     * @param index {Integer} Index of the widget to remove.\n     * @return {qx.ui.core.LayoutItem} The removed item.\n     */\n    _removeAt : function(index)\n    {\n      if (!this.__widgetChildren) {\n        throw new Error(\"This widget has no children!\");\n      }\n\n      var child = this.__widgetChildren[index];\n\n      qx.lang.Array.removeAt(this.__widgetChildren, index);\n      this.__removeHelper(child);\n\n      return child;\n    },\n\n\n    /**\n     * Remove all children.\n     *\n     * @return {Array} An array containing the removed children.\n     */\n    _removeAll : function()\n    {\n      if (!this.__widgetChildren) {\n        return [];\n      }\n\n      // Working on a copy to make it possible to clear the\n      // internal array before calling setLayoutParent()\n      var children = this.__widgetChildren.concat();\n      this.__widgetChildren.length = 0;\n\n      for (var i=children.length-1; i>=0; i--) {\n        this.__removeHelper(children[i]);\n      }\n\n      qx.ui.core.queue.Layout.add(this);\n\n      return children;\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILDREN HANDLING - TEMPLATE METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * This method gets called each time after a child widget was added and can\n     * be overridden to get notified about child adds.\n     *\n     * @signature function(child)\n     * @param child {qx.ui.core.LayoutItem} The added child.\n     */\n    _afterAddChild : null,\n\n\n    /**\n     * This method gets called each time after a child widget was removed and\n     * can be overridden to get notified about child removes.\n     *\n     * @signature function(child)\n     * @param child {qx.ui.core.LayoutItem} The removed child.\n     */\n    _afterRemoveChild : null,\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILDREN HANDLING - IMPLEMENTATION\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Convenience function to add a child widget. It will insert the child to\n     * the parent widget and schedule a layout update.\n     *\n     * @param child {qx.ui.core.LayoutItem} The child to add.\n     * @param options {Map|null} Optional layout data for the widget.\n     */\n    __addHelper : function(child, options)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        this.assertInstance(child, qx.ui.core.LayoutItem, \"Invalid widget to add: \" + child);\n        this.assertNotIdentical(child, this, \"Could not add widget to itself: \" + child);\n\n        if (options != null) {\n          this.assertType(options, \"object\", \"Invalid layout data: \" + options);\n        }\n      }\n\n      // Remove from old parent\n      var parent = child.getLayoutParent();\n      if (parent && parent != this) {\n        parent._remove(child);\n      }\n\n      // Remember parent\n      child.setLayoutParent(this);\n\n      // Import options: This call will\n      //  - clear the layout's children cache as well and\n      //  - add its parent (this widget) to the layout queue\n      if (options) {\n        child.setLayoutProperties(options);\n      } else {\n        this.updateLayoutProperties();\n      }\n\n      // call the template method\n      if (this._afterAddChild) {\n        this._afterAddChild(child);\n      }\n    },\n\n\n    /**\n     * Convenience function to remove a child widget. It will remove it\n     * from the parent widget and schedule a layout update.\n     *\n     * @param child {qx.ui.core.LayoutItem} The child to remove.\n     */\n    __removeHelper : function(child)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertNotUndefined(child);\n      }\n\n      if (child.getLayoutParent() !== this) {\n        throw new Error(\"Remove Error: \" + child + \" is not a child of this widget!\");\n      }\n\n      // Clear parent connection\n      child.setLayoutParent(null);\n\n      // clear the layout's children cache\n      if (this.__layoutManager) {\n        this.__layoutManager.invalidateChildrenCache();\n      }\n\n      // Add to layout queue\n      qx.ui.core.queue.Layout.add(this);\n\n      // call the template method\n      if (this._afterRemoveChild) {\n        this._afterRemoveChild(child);\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENTS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Enables pointer event capturing. All pointer events will dispatched on this\n     * widget until capturing is disabled using {@link #releaseCapture} or a\n     * pointer button is clicked. If the widgets becomes the capturing widget the\n     * {@link #capture} event is fired. Once it loses capture mode the\n     * {@link #losecapture} event is fired.\n     *\n     * @param capture {Boolean?true} If true all events originating in\n     *   the container are captured. If false events originating in the container\n     *   are not captured.\n     */\n    capture : function(capture) {\n      this.getContentElement().capture(capture);\n    },\n\n\n    /**\n     * Disables pointer capture mode enabled by {@link #capture}.\n     */\n    releaseCapture : function() {\n      this.getContentElement().releaseCapture();\n    },\n\n\n    /**\n     * Checks if pointer event capturing is enabled for this widget.\n     *\n     * @return {Boolean} <code>true</code> if capturing is active\n     */\n    isCapturing : function() {\n      var el = this.getContentElement().getDomElement();\n      if (!el) {\n        return false;\n      }\n      var manager = qx.event.Registration.getManager(el);\n      var dispatcher = manager.getDispatcher(qx.event.dispatch.MouseCapture);\n      return el == dispatcher.getCaptureElement();\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PADDING SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyPadding : function(value, old, name)\n    {\n      this._updateInsets = true;\n      qx.ui.core.queue.Layout.add(this);\n\n      this.__updateContentPadding(name, value);\n    },\n\n\n    /**\n     * Helper to updated the css padding of the content element considering the\n     * padding of the decorator.\n     * @param style {String} The name of the css padding property e.g. <code>paddingTop</code>\n     * @param value {Number} The value to set.\n     */\n    __updateContentPadding : function(style, value) {\n      var content = this.getContentElement();\n      var decorator = this.getDecorator();\n      decorator = qx.theme.manager.Decoration.getInstance().resolve(decorator);\n      if (decorator) {\n        var direction = qx.Bootstrap.firstLow(style.replace(\"padding\", \"\"));\n        value += decorator.getPadding()[direction] || 0;\n      }\n      content.setStyle(style, value + \"px\");\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DECORATION SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyDecorator : function(value, old)\n    {\n      var content = this.getContentElement();\n\n      if (old) {\n        old = qx.theme.manager.Decoration.getInstance().getCssClassName(old);\n        content.removeClass(old);\n      }\n\n      if (value) {\n        value = qx.theme.manager.Decoration.getInstance().addCssClass(value);\n        content.addClass(value);\n      }\n      if (value || old){\n        qx.ui.core.queue.Layout.add(this);\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OTHER PROPERTIES\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyToolTipText : function(value, old)\n    {\n      if (qx.core.Environment.get(\"qx.dynlocale\"))\n      {\n        if (this.__toolTipTextListenerId) {\n          return;\n        }\n        var manager = qx.locale.Manager.getInstance();\n        this.__toolTipTextListenerId = manager.addListener(\"changeLocale\",\n          function() {\n            var toolTipText = this.getToolTipText();\n            if (toolTipText && toolTipText.translate) {\n              this.setToolTipText(toolTipText.translate());\n            }\n          }\n        , this);\n      }\n    },\n\n    // property apply\n    _applyTextColor : function(value, old) {\n      // empty template\n    },\n\n\n    // property apply\n    _applyZIndex : function(value, old) {\n      this.getContentElement().setStyle(\"zIndex\", value == null ? 0 : value);\n    },\n\n\n    // property apply\n    _applyVisibility : function(value, old)\n    {\n      var content = this.getContentElement();\n\n      if (value === \"visible\") {\n        content.show();\n      } else {\n        content.hide();\n      }\n\n      // only force a layout update if visibility change from/to \"exclude\"\n      var parent = this.$$parent;\n      if (parent && (old == null || value == null || old === \"excluded\" || value === \"excluded\")) {\n        parent.invalidateLayoutChildren();\n      }\n\n      // Update visibility cache\n      qx.ui.core.queue.Visibility.add(this);\n    },\n\n\n    // property apply\n    _applyOpacity : function(value, old) {\n      this.getContentElement().setStyle(\"opacity\", value == 1 ? null : value);\n    },\n\n\n    // property apply\n    _applyCursor : function(value, old)\n    {\n      if (value == null && !this.isSelectable()) {\n        value = \"default\";\n      }\n\n      // In Opera the cursor must be set directly.\n      // http://bugzilla.qooxdoo.org/show_bug.cgi?id=1729\n      this.getContentElement().setStyle(\n        \"cursor\", value, qx.core.Environment.get(\"engine.name\") == \"opera\"\n      );\n    },\n\n\n    // property apply\n    _applyBackgroundColor : function(value, old) {\n      var color = this.getBackgroundColor();\n      var content = this.getContentElement();\n\n      var resolved = qx.theme.manager.Color.getInstance().resolve(color);\n      content.setStyle(\"backgroundColor\", resolved);\n    },\n\n\n    // property apply\n    _applyFont : function(value, old) {\n      // empty template\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DYNAMIC THEME SWITCH SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _onChangeTheme : function() {\n      if (this.isDisposed()) {\n        return;\n      }\n\n      this.base(arguments);\n\n      // update the appearance\n      this.updateAppearance();\n\n      // DECORATOR //\n      var value = this.getDecorator();\n      this._applyDecorator(null, value);\n      this._applyDecorator(value);\n\n      // FONT //\n      value = this.getFont();\n      if (qx.lang.Type.isString(value)) {\n        this._applyFont(value, value);\n      }\n\n      // TEXT COLOR //\n      value = this.getTextColor();\n      if (qx.lang.Type.isString(value)) {\n        this._applyTextColor(value, value);\n      }\n\n      // BACKGROUND COLOR //\n      value = this.getBackgroundColor();\n      if (qx.lang.Type.isString(value)) {\n        this._applyBackgroundColor(value, value);\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      STATE HANDLING\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Map} The current widget states */\n    __states : null,\n\n\n    /** @type {Boolean} Whether the widget has state changes which are not yet queued */\n    $$stateChanges : null,\n\n\n    /** @type {Map} Can be overridden to forward states to the child controls. */\n    _forwardStates : null,\n\n\n    /**\n     * Returns whether a state is set.\n     *\n     * @param state {String} the state to check.\n     * @return {Boolean} whether the state is set.\n     */\n    hasState : function(state)\n    {\n      var states = this.__states;\n      return !!states && !!states[state];\n    },\n\n\n    /**\n     * Sets a state.\n     *\n     * @param state {String} The state to add\n     */\n    addState : function(state)\n    {\n      // Dynamically create state map\n      var states = this.__states;\n      if (!states) {\n        states = this.__states = {};\n      }\n\n      if (states[state]) {\n        return;\n      }\n\n      // Add state and queue\n      this.__states[state] = true;\n\n      // Fast path for hovered state\n      if (state === \"hovered\") {\n        this.syncAppearance();\n      } else if (!qx.ui.core.queue.Visibility.isVisible(this)) {\n        this.$$stateChanges = true;\n      } else {\n        qx.ui.core.queue.Appearance.add(this);\n      }\n\n      // Forward state change to child controls\n      var forward = this._forwardStates;\n      var controls = this.__childControls;\n\n      if (forward && forward[state] && controls)\n      {\n        var control;\n        for (var id in controls)\n        {\n          control = controls[id];\n          if (control instanceof qx.ui.core.Widget) {\n            controls[id].addState(state);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Clears a state.\n     *\n     * @param state {String} the state to clear.\n     */\n    removeState : function(state)\n    {\n      // Check for existing state\n      var states = this.__states;\n      if (!states || !states[state]) {\n        return;\n      }\n\n      // Clear state and queue\n      delete this.__states[state];\n\n      // Fast path for hovered state\n      if (state === \"hovered\") {\n        this.syncAppearance();\n      } else if (!qx.ui.core.queue.Visibility.isVisible(this)) {\n        this.$$stateChanges = true;\n      } else {\n        qx.ui.core.queue.Appearance.add(this);\n      }\n\n      // Forward state change to child controls\n      var forward = this._forwardStates;\n      var controls = this.__childControls;\n\n      if (forward && forward[state] && controls)\n      {\n        for (var id in controls)\n        {\n          var control = controls[id];\n          if (control instanceof qx.ui.core.Widget) {\n            control.removeState(state);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Replaces the first state with the second one.\n     *\n     * This method is ideal for state transitions e.g. normal => selected.\n     *\n     * @param old {String} Previous state\n     * @param value {String} New state\n     */\n    replaceState : function(old, value)\n    {\n      var states = this.__states;\n      if (!states) {\n        states = this.__states = {};\n      }\n\n      if (!states[value]) {\n        states[value] = true;\n      }\n\n      if (states[old]) {\n        delete states[old];\n      }\n\n      if (!qx.ui.core.queue.Visibility.isVisible(this)) {\n        this.$$stateChanges = true;\n      } else {\n        qx.ui.core.queue.Appearance.add(this);\n      }\n\n      // Forward state change to child controls\n      var forward = this._forwardStates;\n      var controls = this.__childControls;\n\n      if (forward && forward[value] && controls)\n      {\n        for (var id in controls)\n        {\n          var control = controls[id];\n          if (control instanceof qx.ui.core.Widget) {\n            control.replaceState(old, value);\n          }\n        }\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      APPEARANCE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {String} The currently compiled selector to lookup the matching appearance */\n    __appearanceSelector : null,\n\n\n    /** @type {Boolean} Whether the selectors needs to be recomputed before updating appearance */\n    __updateSelector : null,\n\n\n    /**\n     * Renders the appearance using the current widget states.\n     *\n     * Used exclusively by {qx.ui.core.queue.Appearance}.\n     */\n    syncAppearance : function()\n    {\n      var states = this.__states;\n      var selector = this.__appearanceSelector;\n      var manager = qx.theme.manager.Appearance.getInstance();\n\n      // Cache deep accessor\n      var styler = qx.core.Property.$$method.setThemed;\n      var unstyler = qx.core.Property.$$method.resetThemed;\n\n      // Check for requested selector update\n      if (this.__updateSelector)\n      {\n        // Clear flag\n        delete this.__updateSelector;\n\n        // Check if the selector was created previously\n        if (selector)\n        {\n          // Query old selector\n          var oldData = manager.styleFrom(selector, states, null, this.getAppearance());\n\n          // Clear current selector (to force recompute)\n          selector = null;\n        }\n      }\n\n      // Build selector\n      if (!selector)\n      {\n        var obj = this;\n        var id = [];\n\n        do {\n          id.push(obj.$$subcontrol||obj.getAppearance());\n        } while (obj = obj.$$subparent);\n\n        // Combine parent control IDs, add top level appearance, filter result\n        // to not include positioning information anymore (e.g. #3)\n        selector = id.reverse().join(\"/\").replace(/#[0-9]+/g, \"\");\n        this.__appearanceSelector = selector;\n      }\n\n      // Query current selector\n      var newData = manager.styleFrom(selector, states, null, this.getAppearance());\n      if (newData)\n      {\n        if (oldData)\n        {\n          for (var prop in oldData)\n          {\n            if (newData[prop] === undefined) {\n              this[unstyler[prop]]();\n            }\n          }\n        }\n\n        // Check property availability of new data\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          for (var prop in newData)\n          {\n            if (!this[styler[prop]]) {\n              throw new Error(this.classname +\n                ' has no themeable property \"' + prop +\n                '\" while styling ' + selector);\n            }\n          }\n        }\n\n        // Apply new data\n        for (var prop in newData) {\n          newData[prop] === undefined ? this[unstyler[prop]]() : this[styler[prop]](newData[prop]);\n        }\n      }\n      else if (oldData)\n      {\n        // Clear old data\n        for (var prop in oldData) {\n          this[unstyler[prop]]();\n        }\n      }\n\n      this.fireDataEvent(\"syncAppearance\", this.__states);\n    },\n\n\n    // property apply\n    _applyAppearance : function(value, old) {\n      this.updateAppearance();\n    },\n\n\n    /**\n     * Helper method called from the visibility queue to detect outstanding changes\n     * to the appearance.\n     *\n     * @internal\n     */\n    checkAppearanceNeeds : function()\n    {\n      // CASE 1: Widget has never got an appearance already because it was never\n      // visible before. Normally add it to the queue is the easiest way to update it.\n      if (!this.__initialAppearanceApplied)\n      {\n        qx.ui.core.queue.Appearance.add(this);\n        this.__initialAppearanceApplied = true;\n      }\n\n      // CASE 2: Widget has got an appearance before, but was hidden for some time\n      // which results into maybe omitted state changes have not been applied.\n      // In this case the widget is already queued in the appearance. This is basically\n      // what all addState/removeState do, but the queue itself may not have been registered\n      // to be flushed\n      else if (this.$$stateChanges)\n      {\n        qx.ui.core.queue.Appearance.add(this);\n        delete this.$$stateChanges;\n      }\n    },\n\n\n    /**\n     * Refreshes the appearance of this widget and all\n     * registered child controls.\n     */\n    updateAppearance : function()\n    {\n      // Clear selector\n      this.__updateSelector = true;\n\n      // Add to appearance queue\n      qx.ui.core.queue.Appearance.add(this);\n\n      // Update child controls\n      var controls = this.__childControls;\n      if (controls)\n      {\n        var obj;\n        for (var id in controls)\n        {\n          obj = controls[id];\n\n          if (obj instanceof qx.ui.core.Widget) {\n            obj.updateAppearance();\n          }\n        }\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET QUEUE\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * This method is called during the flush of the\n     * {@link qx.ui.core.queue.Widget widget queue}.\n     *\n     * @param jobs {Map} A map of jobs.\n     */\n    syncWidget : function(jobs) {\n      // empty implementation\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the next event target in the parent chain. May\n     * also return the widget itself if it is not anonymous.\n     *\n     * @return {qx.ui.core.Widget} A working event target of this widget.\n     *    May be <code>null</code> as well.\n     */\n    getEventTarget : function()\n    {\n      var target = this;\n\n      while (target.getAnonymous())\n      {\n        target = target.getLayoutParent();\n        if (!target) {\n          return null;\n        }\n      }\n\n      return target;\n    },\n\n\n    /**\n     * Returns the next focus target in the parent chain. May\n     * also return the widget itself if it is not anonymous and focusable.\n     *\n     * @return {qx.ui.core.Widget} A working focus target of this widget.\n     *    May be <code>null</code> as well.\n     */\n    getFocusTarget : function()\n    {\n      var target = this;\n\n      if (!target.getEnabled()) {\n        return null;\n      }\n\n      while (target.getAnonymous() || !target.getFocusable())\n      {\n        target = target.getLayoutParent();\n        if (!target || !target.getEnabled()) {\n          return null;\n        }\n      }\n\n      return target;\n    },\n\n\n    /**\n     * Returns the element which should be focused.\n     *\n     * @return {qx.html.Element} The html element to focus.\n     */\n    getFocusElement : function() {\n      return this.getContentElement();\n    },\n\n\n    /**\n     * Whether the widget is reachable by pressing the TAB key.\n     *\n     * Normally tests for both, the focusable property and a positive or\n     * undefined tabIndex property. The widget must have a DOM element\n     * since only visible widgets are tabable.\n     *\n     * @return {Boolean} Whether the element is tabable.\n     */\n    isTabable : function() {\n      return (!!this.getContentElement().getDomElement()) && this.isFocusable();\n    },\n\n\n    // property apply\n    _applyFocusable : function(value, old)\n    {\n      var target = this.getFocusElement();\n\n      // Apply native tabIndex attribute\n      if (value)\n      {\n        var tabIndex = this.getTabIndex();\n        if (tabIndex == null) {\n          tabIndex = 1;\n        }\n\n        target.setAttribute(\"tabIndex\", tabIndex);\n\n        // Omit native dotted outline border\n        target.setStyle(\"outline\", \"none\");\n      }\n      else\n      {\n        if (target.isNativelyFocusable()) {\n          target.setAttribute(\"tabIndex\", -1);\n        } else if (old) {\n          target.setAttribute(\"tabIndex\", null);\n        }\n      }\n    },\n\n\n    // property apply\n    _applyKeepFocus : function(value)\n    {\n      var target = this.getFocusElement();\n      target.setAttribute(\"qxKeepFocus\", value ? \"on\" : null);\n    },\n\n\n    // property apply\n    _applyKeepActive : function(value)\n    {\n      var target = this.getContentElement();\n      target.setAttribute(\"qxKeepActive\", value ? \"on\" : null);\n    },\n\n\n    // property apply\n    _applyTabIndex : function(value)\n    {\n      if (value == null) {\n        value = 1;\n      } else if (value < 1 || value > 32000) {\n        throw new Error(\"TabIndex property must be between 1 and 32000\");\n      }\n\n      if (this.getFocusable() && value != null) {\n        this.getFocusElement().setAttribute(\"tabIndex\", value);\n      }\n    },\n\n\n    // property apply\n    _applySelectable : function(value, old)\n    {\n      // Re-apply cursor if not in \"initSelectable\"\n      if (old !== null) {\n        this._applyCursor(this.getCursor());\n      }\n\n      // Apply qooxdoo attribute\n      this.getContentElement().setSelectable(value);\n    },\n\n\n    // property apply\n    _applyEnabled : function(value, old)\n    {\n      if (value===false)\n      {\n        this.addState(\"disabled\");\n\n        // hovered not configured in widget, but as this is a\n        // standardized name in qooxdoo and we never want a hover\n        // state for disabled widgets, remove this state every time\n        this.removeState(\"hovered\");\n\n        // Blur when focused\n        if (this.isFocusable())\n        {\n          // Remove focused state\n          this.removeState(\"focused\");\n\n          // Remove tabIndex\n          this._applyFocusable(false, true);\n        }\n\n        // Remove draggable\n        if (this.isDraggable()) {\n          this._applyDraggable(false, true);\n        }\n\n        // Remove droppable\n        if (this.isDroppable()) {\n          this._applyDroppable(false, true);\n        }\n      }\n      else\n      {\n        this.removeState(\"disabled\");\n\n        // Re-add tabIndex\n        if (this.isFocusable()) {\n          this._applyFocusable(true, false);\n        }\n\n        // Re-add draggable\n        if (this.isDraggable()) {\n          this._applyDraggable(true, false);\n        }\n\n        // Re-add droppable\n        if (this.isDroppable()) {\n          this._applyDroppable(true, false);\n        }\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CONTEXT MENU\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyNativeContextMenu : function(value, old, name) {\n      // empty body to allow overriding\n    },\n\n\n    // property apply\n    _applyContextMenu : function(value, old)\n    {\n      if (old)\n      {\n        old.removeState(\"contextmenu\");\n\n        if (old.getOpener() == this) {\n          old.resetOpener();\n        }\n\n        if (!value)\n        {\n          this.removeListener(\"contextmenu\", this._onContextMenuOpen);\n          this.removeListener(\"longtap\", this._onContextMenuOpen);\n          old.removeListener(\"changeVisibility\", this._onBeforeContextMenuOpen, this);\n        }\n      }\n\n      if (value)\n      {\n        value.setOpener(this);\n        value.addState(\"contextmenu\");\n\n        if (!old)\n        {\n          this.addListener(\"contextmenu\", this._onContextMenuOpen);\n          this.addListener(\"longtap\", this._onContextMenuOpen);\n          value.addListener(\"changeVisibility\", this._onBeforeContextMenuOpen, this);\n        }\n      }\n    },\n\n\n    /**\n     * Event listener for <code>contextmenu</code> event\n     *\n     * @param e {qx.event.type.Pointer} The event object\n     */\n    _onContextMenuOpen : function(e)\n    {\n      // only allow long tap context menu on touch interactions\n      if (e.getType() == \"longtap\") {\n        if (e.getPointerType() !== \"touch\") {\n          return;\n        }\n      }\n      this.getContextMenu().openAtPointer(e);\n\n      // Do not show native menu\n      // don't open any other contextmenus\n      e.stop();\n    },\n\n\n    /**\n     * Event listener for <code>beforeContextmenuOpen</code> event\n     *\n     * @param e {qx.event.type.Data} The data event\n     */\n    _onBeforeContextMenuOpen : function(e)\n    {\n      if (e.getData() == \"visible\" && this.hasListener(\"beforeContextmenuOpen\")) {\n        this.fireDataEvent(\"beforeContextmenuOpen\", e);\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      USEFUL COMMON EVENT LISTENERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Event listener which stops a bubbling event from\n     * propagates further.\n     *\n     * @param e {qx.event.type.Event} Any bubbling event\n     */\n    _onStopEvent : function(e) {\n      e.stopPropagation();\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DRAG & DROP SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Helper to return a instance of a {@link qx.ui.core.DragDropCursor}.\n     * If you want to use your own DragDropCursor, override this method\n     * and return your custom instance.\n     * @return {qx.ui.core.DragDropCursor} A drag drop cursor implementation.\n     */\n    _getDragDropCursor : function() {\n      return qx.ui.core.DragDropCursor.getInstance();\n    },\n\n    // property apply\n    _applyDraggable : function(value, old)\n    {\n      if (!this.isEnabled() && value === true) {\n        value = false;\n      }\n\n      // Force cursor creation\n      this._getDragDropCursor();\n\n      // Process listeners\n      if (value)\n      {\n        this.addListener(\"dragstart\", this._onDragStart);\n        this.addListener(\"drag\", this._onDrag);\n        this.addListener(\"dragend\", this._onDragEnd);\n        this.addListener(\"dragchange\", this._onDragChange);\n      }\n      else\n      {\n        this.removeListener(\"dragstart\", this._onDragStart);\n        this.removeListener(\"drag\", this._onDrag);\n        this.removeListener(\"dragend\", this._onDragEnd);\n        this.removeListener(\"dragchange\", this._onDragChange);\n      }\n\n      // Sync DOM attribute\n      this.getContentElement().setAttribute(\"qxDraggable\", value ? \"on\" : null);\n    },\n\n\n    // property apply\n    _applyDroppable : function(value, old)\n    {\n      if (!this.isEnabled() && value === true) {\n        value = false;\n      }\n\n      // Sync DOM attribute\n      this.getContentElement().setAttribute(\"qxDroppable\", value ? \"on\" : null);\n    },\n\n\n    /**\n     * Event listener for own <code>dragstart</code> event.\n     *\n     * @param e {qx.event.type.Drag} Drag event\n     */\n    _onDragStart : function(e)\n    {\n      this._getDragDropCursor().placeToPointer(e);\n      this.getApplicationRoot().setGlobalCursor(\"default\");\n    },\n\n\n    /**\n     * Event listener for own <code>drag</code> event.\n     *\n     * @param e {qx.event.type.Drag} Drag event\n     */\n    _onDrag : function(e) {\n      this._getDragDropCursor().placeToPointer(e);\n    },\n\n\n    /**\n     * Event listener for own <code>dragend</code> event.\n     *\n     * @param e {qx.event.type.Drag} Drag event\n     */\n    _onDragEnd : function(e)\n    {\n      this._getDragDropCursor().moveTo(-1000, -1000);\n      this.getApplicationRoot().resetGlobalCursor();\n    },\n\n\n    /**\n     * Event listener for own <code>dragchange</code> event.\n     *\n     * @param e {qx.event.type.Drag} Drag event\n     */\n    _onDragChange : function(e)\n    {\n      var cursor = this._getDragDropCursor();\n      var action = e.getCurrentAction();\n      action ? cursor.setAction(action) : cursor.resetAction();\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      VISUALIZE FOCUS STATES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Event handler which is executed when the widget receives the focus.\n     *\n     * This method is used by the {@link qx.ui.core.FocusHandler} to\n     * apply states etc. to a focused widget.\n     *\n     * @internal\n     */\n    visualizeFocus : function() {\n      this.addState(\"focused\");\n    },\n\n\n    /**\n     * Event handler which is executed when the widget lost the focus.\n     *\n     * This method is used by the {@link qx.ui.core.FocusHandler} to\n     * remove states etc. from a previously focused widget.\n     *\n     * @internal\n     */\n    visualizeBlur : function() {\n      this.removeState(\"focused\");\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLL CHILD INTO VIEW\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * The method scrolls the given item into view.\n     *\n     * @param child {qx.ui.core.Widget} Child to scroll into view\n     * @param alignX {String?null} Alignment of the item. Allowed values:\n     *   <code>left</code> or <code>right</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param alignY {String?null} Alignment of the item. Allowed values:\n     *   <code>top</code> or <code>bottom</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param direct {Boolean?true} Whether the execution should be made\n     *   directly when possible\n     */\n    scrollChildIntoView : function(child, alignX, alignY, direct)\n    {\n      // Scroll directly on default\n      direct = typeof direct == \"undefined\" ? true : direct;\n\n      // Always lazy scroll when either\n      // - the child\n      // - its layout parent\n      // - its siblings\n      // have layout changes scheduled.\n      //\n      // This is to make sure that the scroll position is computed\n      // after layout changes have been applied to the DOM. Note that changes\n      // scheduled for the grand parent (and up) are not tracked and need to\n      // be signaled manually.\n      var Layout = qx.ui.core.queue.Layout;\n      var parent;\n\n      // Child\n      if (direct) {\n        direct = !Layout.isScheduled(child);\n        parent = child.getLayoutParent();\n\n        // Parent\n        if (direct && parent) {\n          direct = !Layout.isScheduled(parent);\n\n          // Siblings\n          if (direct) {\n            parent.getChildren().forEach(function(sibling) {\n              direct = direct && !Layout.isScheduled(sibling);\n            });\n          }\n        }\n      }\n\n      this.scrollChildIntoViewX(child, alignX, direct);\n      this.scrollChildIntoViewY(child, alignY, direct);\n    },\n\n\n    /**\n     * The method scrolls the given item into view (x-axis only).\n     *\n     * @param child {qx.ui.core.Widget} Child to scroll into view\n     * @param align {String?null} Alignment of the item. Allowed values:\n     *   <code>left</code> or <code>right</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param direct {Boolean?true} Whether the execution should be made\n     *   directly when possible\n     */\n    scrollChildIntoViewX : function(child, align, direct) {\n      this.getContentElement().scrollChildIntoViewX(child.getContentElement(), align, direct);\n    },\n\n\n    /**\n     * The method scrolls the given item into view (y-axis only).\n     *\n     * @param child {qx.ui.core.Widget} Child to scroll into view\n     * @param align {String?null} Alignment of the element. Allowed values:\n     *   <code>top</code> or <code>bottom</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param direct {Boolean?true} Whether the execution should be made\n     *   directly when possible\n     */\n    scrollChildIntoViewY : function(child, align, direct) {\n      this.getContentElement().scrollChildIntoViewY(child.getContentElement(), align, direct);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FOCUS SYSTEM USER ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Focus this widget.\n     *\n     */\n    focus : function()\n    {\n      if (this.isFocusable()) {\n        this.getFocusElement().focus();\n      } else if (qx.ui.core.Widget.UNFOCUSABLE_WIDGET_FOCUS_BLUR_ERROR) {\n        throw new Error(\"Widget is not focusable!\");\n      }\n    },\n\n\n    /**\n     * Remove focus from this widget.\n     *\n     */\n    blur : function()\n    {\n      if (this.isFocusable()) {\n        this.getFocusElement().blur();\n      } else if (qx.ui.core.Widget.UNFOCUSABLE_WIDGET_FOCUS_BLUR_ERROR) {\n        throw new Error(\"Widget is not focusable!\");\n      }\n    },\n\n\n    /**\n     * Activate this widget e.g. for keyboard events.\n     *\n     */\n    activate : function() {\n      this.getContentElement().activate();\n    },\n\n\n    /**\n     * Deactivate this widget e.g. for keyboard events.\n     *\n     */\n    deactivate : function() {\n      this.getContentElement().deactivate();\n    },\n\n\n    /**\n     * Focus this widget when using the keyboard. This is\n     * mainly thought for the advanced qooxdoo keyboard handling\n     * and should not be used by the application developer.\n     *\n     * @internal\n     */\n    tabFocus : function() {\n      this.getFocusElement().focus();\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILD CONTROL SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Whether the given ID is assigned to a child control.\n     *\n     * @param id {String} ID of the child control\n     * @return {Boolean} <code>true</code> when the child control is registered.\n     */\n    hasChildControl : function(id)\n    {\n      if (!this.__childControls) {\n        return false;\n      }\n\n      return !!this.__childControls[id];\n    },\n\n\n    /** @type {Map} Map of instantiated child controls */\n    __childControls : null,\n\n\n    /**\n     * Returns a map of all already created child controls\n     *\n     * @return {Map} mapping of child control id to the child widget.\n     */\n    _getCreatedChildControls : function() {\n      return this.__childControls;\n    },\n\n\n    /**\n     * Returns the child control from the given ID. Returns\n     * <code>null</code> when the child control is unknown.\n     *\n     * It is designed for widget authors, who want to access child controls,\n     * which are created by the widget itself.\n     *\n     * <b>Warning</b>: This method exposes widget internals and modifying the\n     * returned sub widget may bring the widget into an inconsistent state.\n     * Accessing child controls defined in a super class or in an foreign class\n     * is not supported. Do not use it if the result can be achieved using public\n     * API or theming.\n     *\n     * @param id {String} ID of the child control\n     * @param notcreate {Boolean?false} Whether the child control\n     *    should not be created dynamically if not yet available.\n     * @return {qx.ui.core.Widget} Child control\n     */\n    getChildControl : function(id, notcreate)\n    {\n      if (!this.__childControls)\n      {\n        if (notcreate) {\n          return null;\n        }\n\n        this.__childControls = {};\n      }\n\n      var control = this.__childControls[id];\n      if (control) {\n        return control;\n      }\n\n      if (notcreate === true) {\n        return null;\n      }\n\n      return this._createChildControl(id);\n    },\n\n\n    /**\n     * Shows the given child control by ID\n     *\n     * @param id {String} ID of the child control\n     * @return {qx.ui.core.Widget} the child control\n     */\n    _showChildControl : function(id)\n    {\n      var control = this.getChildControl(id);\n      control.show();\n      return control;\n    },\n\n\n    /**\n     * Excludes the given child control by ID\n     *\n     * @param id {String} ID of the child control\n     */\n    _excludeChildControl : function(id)\n    {\n      var control = this.getChildControl(id, true);\n      if (control) {\n        control.exclude();\n      }\n    },\n\n\n    /**\n     * Whether the given child control is visible.\n     *\n     * @param id {String} ID of the child control\n     * @return {Boolean} <code>true</code> when the child control is visible.\n     */\n    _isChildControlVisible : function(id)\n    {\n      var control = this.getChildControl(id, true);\n      if (control) {\n        return control.isVisible();\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Release the child control by ID and decouple the\n     * child from the parent. This method does not dispose the child control.\n     *\n     * @param id {String} ID of the child control\n     * @return {qx.ui.core.Widget} The released control\n     */\n    _releaseChildControl : function(id)\n    {\n      var control = this.getChildControl(id, false);\n      if (!control) {\n        throw new Error(\"Unsupported control: \" + id);\n      }\n\n      // remove connection to parent\n      delete control.$$subcontrol;\n      delete control.$$subparent;\n\n      // remove state forwarding\n      var states = this.__states;\n      var forward = this._forwardStates;\n\n      if (states && forward && control instanceof qx.ui.core.Widget) {\n        for (var state in states) {\n          if (forward[state]) {\n            control.removeState(state);\n          }\n        }\n      }\n\n      delete this.__childControls[id];\n\n      return control;\n    },\n\n\n    /**\n     * Force the creation of the given child control by ID.\n     *\n     * Do not override this method! Override {@link #_createChildControlImpl}\n     * instead if you need to support new controls.\n     *\n     * @param id {String} ID of the child control\n     * @return {qx.ui.core.Widget} The created control\n     * @throws {Error} when the control was created before\n     */\n    _createChildControl : function(id)\n    {\n      if (!this.__childControls) {\n        this.__childControls = {};\n      } else if (this.__childControls[id]) {\n        throw new Error(\"Child control '\" + id + \"' already created!\");\n      }\n\n      var pos = id.indexOf(\"#\");\n      try {\n        if (pos == -1) {\n          var control = this._createChildControlImpl(id);\n        } else {\n          var control = this._createChildControlImpl(\n            id.substring(0, pos), id.substring(pos + 1, id.length)\n          );\n        }\n      } catch(exc) {\n        exc.message = \"Exception while creating child control '\" + id +\n        \"' of widget \" + this.toString() + \": \" + exc.message;\n        throw exc;\n      }\n\n      if (!control) {\n        throw new Error(\"Unsupported control: \" + id);\n      }\n\n      // Establish connection to parent\n      control.$$subcontrol = id;\n      control.$$subparent = this;\n\n      // Support for state forwarding\n      var states = this.__states;\n      var forward = this._forwardStates;\n\n      if (states && forward && control instanceof qx.ui.core.Widget)\n      {\n        for (var state in states)\n        {\n          if (forward[state]) {\n            control.addState(state);\n          }\n        }\n      }\n\n      // If the appearance is already synced after the child control\n      // we need to update the appearance now, because the selector\n      // might be not correct in certain cases.\n      if (control.$$resyncNeeded) {\n        delete control.$$resyncNeeded;\n        control.updateAppearance();\n      }\n\n      this.fireDataEvent(\"createChildControl\", control);\n\n      // Register control and return\n      return this.__childControls[id] = control;\n    },\n\n\n    /**\n     * Internal method to create child controls. This method\n     * should be overwritten by classes which extends this one\n     * to support new child control types.\n     *\n     * @param id {String} ID of the child control. If a # is used, the id is\n     *   the part in front of the #.\n     * @param hash {String?undefined} If a child control name contains a #,\n     *   all text following the # will be the hash argument.\n     * @return {qx.ui.core.Widget} The created control or <code>null</code>\n     */\n    _createChildControlImpl : function(id, hash) {\n      return null;\n    },\n\n\n    /**\n     * Dispose all registered controls. This is automatically\n     * executed by the widget.\n     *\n     */\n    _disposeChildControls : function()\n    {\n      var controls = this.__childControls;\n      if (!controls) {\n        return;\n      }\n\n      var Widget = qx.ui.core.Widget;\n\n      for (var id in controls)\n      {\n        var control = controls[id];\n        if (!Widget.contains(this, control)) {\n          control.destroy();\n        } else {\n          control.dispose();\n        }\n      }\n\n      delete this.__childControls;\n    },\n\n\n    /**\n     * Finds and returns the top level control. This is the first\n     * widget which is not a child control of any other widget.\n     *\n     * @return {qx.ui.core.Widget} The top control\n     */\n    _findTopControl : function()\n    {\n      var obj = this;\n      while (obj)\n      {\n        if (!obj.$$subparent) {\n          return obj;\n        }\n\n        obj = obj.$$subparent;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Return the ID (name) if this instance was a created as a child control of another widget.\n     *\n     * See the first parameter id in {@link qx.ui.core.Widget#_createChildControlImpl}\n     *\n     * @return {String|null} ID of the current widget or null if it was not created as a subcontrol\n     */\n    getSubcontrolId : function()\n    {\n      return this.$$subcontrol || null;\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LOWER LEVEL ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Computes the location of the content element in context of the document\n     * dimensions.\n     *\n     * Supported modes:\n     *\n     * * <code>margin</code>: Calculate from the margin box of the element\n     *   (bigger than the visual appearance: including margins of given element)\n     * * <code>box</code>: Calculates the offset box of the element (default,\n     *   uses the same size as visible)\n     * * <code>border</code>: Calculate the border box (useful to align to\n     *   border edges of two elements).\n     * * <code>scroll</code>: Calculate the scroll box (relevant for absolute\n     *   positioned content).\n     * * <code>padding</code>: Calculate the padding box (relevant for\n     *   static/relative positioned content).\n     *\n     * @param mode {String?box} A supported option. See comment above.\n     * @return {Map} Returns a map with <code>left</code>, <code>top</code>,\n     *   <code>right</code> and <code>bottom</code> which contains the distance\n     *   of the element relative to the document.\n     */\n    getContentLocation : function(mode)\n    {\n      var domEl = this.getContentElement().getDomElement();\n      return domEl ? qx.bom.element.Location.get(domEl, mode) : null;\n    },\n\n\n    /**\n     * Directly modifies the relative left position in relation\n     * to the parent element.\n     *\n     * Use with caution! This may be used for animations, drag&drop\n     * or other cases where high performance location manipulation\n     * is important. Otherwise please use {@link qx.ui.core.LayoutItem#setUserBounds} instead.\n     *\n     * @param value {Integer} Left position\n     */\n    setDomLeft : function(value)\n    {\n      var domEl = this.getContentElement().getDomElement();\n      if (domEl) {\n        domEl.style.left = value + \"px\";\n      } else {\n        throw new Error(\"DOM element is not yet created!\");\n      }\n    },\n\n\n    /**\n     * Directly modifies the relative top position in relation\n     * to the parent element.\n     *\n     * Use with caution! This may be used for animations, drag&drop\n     * or other cases where high performance location manipulation\n     * is important. Otherwise please use {@link qx.ui.core.LayoutItem#setUserBounds} instead.\n     *\n     * @param value {Integer} Top position\n     */\n    setDomTop : function(value)\n    {\n      var domEl = this.getContentElement().getDomElement();\n      if (domEl) {\n        domEl.style.top = value + \"px\";\n      } else {\n        throw new Error(\"DOM element is not yet created!\");\n      }\n    },\n\n\n    /**\n     * Directly modifies the relative left and top position in relation\n     * to the parent element.\n     *\n     * Use with caution! This may be used for animations, drag&drop\n     * or other cases where high performance location manipulation\n     * is important. Otherwise please use {@link qx.ui.core.LayoutItem#setUserBounds} instead.\n     *\n     * @param left {Integer} Left position\n     * @param top {Integer} Top position\n     */\n    setDomPosition : function(left, top)\n    {\n      var domEl = this.getContentElement().getDomElement();\n      if (domEl)\n      {\n        domEl.style.left = left + \"px\";\n        domEl.style.top = top + \"px\";\n      }\n      else\n      {\n        throw new Error(\"DOM element is not yet created!\");\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      ENHANCED DISPOSE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Removes this widget from its parent and disposes it.\n     *\n     * Please note that the widget is not disposed synchronously. The\n     * real dispose happens after the next queue flush.\n     *\n     */\n    destroy : function()\n    {\n      if (this.$$disposed) {\n        return;\n      }\n\n      var parent = this.$$parent;\n      if (parent) {\n        parent._remove(this);\n      }\n\n      qx.ui.core.queue.Dispose.add(this);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CLONE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    clone : function()\n    {\n      var clone = this.base(arguments);\n\n      if (this.getChildren)\n      {\n        var children = this.getChildren();\n        for (var i=0, l=children.length; i<l; i++) {\n          clone.add(children[i].clone());\n        }\n      }\n\n      return clone;\n    }\n\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    // Some dispose stuff is not needed in global shutdown, otherwise\n    // it just slows down things a bit, so do not do them.\n    if (!qx.core.ObjectRegistry.inShutDown)\n    {\n      if (qx.core.Environment.get(\"qx.dynlocale\"))\n      {\n        if (this.__toolTipTextListenerId)\n        {\n          qx.locale.Manager.getInstance().removeListenerById(\n            this.__toolTipTextListenerId\n          );\n        }\n      }\n\n      // Remove widget pointer from DOM\n      var contentEl = this.getContentElement();\n      if (contentEl) {\n      \tcontentEl.disconnectWidget(this);\n      }\n\n      // Clean up all child controls\n      this._disposeChildControls();\n\n      // Remove from ui queues\n      qx.ui.core.queue.Appearance.remove(this);\n      qx.ui.core.queue.Layout.remove(this);\n      qx.ui.core.queue.Visibility.remove(this);\n      qx.ui.core.queue.Widget.remove(this);\n    }\n\n    if (this.getContextMenu()) {\n      this.setContextMenu(null);\n    }\n\n    // pool decorators if not in global shutdown\n    if (!qx.core.ObjectRegistry.inShutDown)\n    {\n      this.clearSeparators();\n      this.__separators = null;\n    }\n    else\n    {\n      this._disposeArray(\"__separators\");\n    }\n\n    // Clear children array\n    this._disposeArray(\"__widgetChildren\");\n\n\n    // Cleanup map of appearance states\n    this.__states = this.__childControls = null;\n\n\n    // Dispose layout manager and HTML elements\n    this._disposeObjects(\n      \"__layoutManager\",\n      \"__contentElement\"\n    );\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Carsten Lergenmueller (carstenl)\n     * Fabian Jakobs (fbjakobs)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Determines browser-dependent information about the transport layer.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Transport\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Returns the maximum number of parallel requests the current browser\n     * supports per host addressed.\n     *\n     * Note that this assumes one connection can support one request at a time\n     * only. Technically, this is not correct when pipelining is enabled (which\n     * it currently is only for IE 8 and Opera). In this case, the number\n     * returned will be too low, as one connection supports multiple pipelined\n     * requests. This is accepted for now because pipelining cannot be\n     * detected from JavaScript and because modern browsers have enough\n     * parallel connections already - it's unlikely an app will require more\n     * than 4 parallel XMLHttpRequests to one server at a time.\n     *\n     * @internal\n     * @return {Integer} Maximum number of parallel requests\n     */\n    getMaxConcurrentRequestCount: function()\n    {\n      var maxConcurrentRequestCount;\n\n      // Parse version numbers.\n      var versionParts = qx.bom.client.Engine.getVersion().split(\".\");\n      var versionMain = 0;\n      var versionMajor = 0;\n      var versionMinor = 0;\n\n      // Main number\n      if (versionParts[0]) {\n        versionMain = versionParts[0];\n      }\n\n      // Major number\n      if (versionParts[1]) {\n        versionMajor = versionParts[1];\n      }\n\n      // Minor number\n      if (versionParts[2]) {\n        versionMinor = versionParts[2];\n      }\n\n      // IE 8 gives the max number of connections in a property\n      // see http://msdn.microsoft.com/en-us/library/cc197013(VS.85).aspx\n      if (window.maxConnectionsPerServer){\n        maxConcurrentRequestCount = window.maxConnectionsPerServer;\n\n      } else if (qx.bom.client.Engine.getName() == \"opera\") {\n        // Opera: 8 total\n        // see http://operawiki.info/HttpProtocol\n        maxConcurrentRequestCount = 8;\n\n      } else if (qx.bom.client.Engine.getName() == \"webkit\") {\n        // Safari: 4\n        // http://www.stevesouders.com/blog/2008/03/20/roundup-on-parallel-connections/\n\n        // Bug #6917: Distinguish Chrome from Safari, Chrome has 6 connections\n        //       according to\n        //      http://stackoverflow.com/questions/561046/how-many-concurrent-ajax-xmlhttprequest-requests-are-allowed-in-popular-browser\n\n        maxConcurrentRequestCount = 4;\n\n      } else if (qx.bom.client.Engine.getName() == \"gecko\"\n                 && ( (versionMain >1)\n                      || ((versionMain == 1) && (versionMajor > 9))\n                      || ((versionMain == 1) && (versionMajor == 9) && (versionMinor >= 1)))){\n          // FF 3.5 (== Gecko 1.9.1): 6 Connections.\n          // see  http://gemal.dk/blog/2008/03/18/firefox_3_beta_5_will_have_improved_connection_parallelism/\n          maxConcurrentRequestCount = 6;\n\n      } else {\n        // Default is 2, as demanded by RFC 2616\n        // see http://blogs.msdn.com/ie/archive/2005/04/11/407189.aspx\n        maxConcurrentRequestCount = 2;\n      }\n\n      return maxConcurrentRequestCount;\n    },\n\n\n    /**\n     * Checks whether the app is loaded with SSL enabled which means via https.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code>, if the app runs on https\n     */\n    getSsl : function() {\n      return window.location.protocol === \"https:\";\n    },\n\n    /**\n     * Checks what kind of XMLHttpRequest object the browser supports\n     * for the current protocol, if any.\n     *\n     * The standard XMLHttpRequest is preferred over ActiveX XMLHTTP.\n     *\n     * @internal\n     * @return {String}\n     *  <code>\"xhr\"</code>, if the browser provides standard XMLHttpRequest.<br/>\n     *  <code>\"activex\"</code>, if the browser provides ActiveX XMLHTTP.<br/>\n     *  <code>\"\"</code>, if there is not XHR support at all.\n     */\n    getXmlHttpRequest : function() {\n      // Standard XHR can be disabled in IE's security settings,\n      // therefore provide ActiveX as fallback. Additionally,\n      // standard XHR in IE7 is broken for file protocol.\n      var supports = window.ActiveXObject ?\n        (function() {\n          if ( window.location.protocol !== \"file:\" ) {\n            try {\n              new window.XMLHttpRequest();\n              return \"xhr\";\n            } catch(noXhr) {}\n          }\n\n          try {\n            new window.ActiveXObject(\"Microsoft.XMLHTTP\");\n            return \"activex\";\n          } catch(noActiveX) {}\n        })()\n        :\n        (function() {\n          try {\n            new window.XMLHttpRequest();\n            return \"xhr\";\n          } catch(noXhr) {}\n        })();\n\n      return supports || \"\";\n    }\n  },\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"io.maxrequests\", statics.getMaxConcurrentRequestCount);\n    qx.core.Environment.add(\"io.ssl\", statics.getSsl);\n    qx.core.Environment.add(\"io.xhr\", statics.getXmlHttpRequest);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Contains information about images (size, format, clipping, ...) and\n * other resources like CSS files, local data, ...\n */\nqx.Class.define(\"qx.util.ResourceManager\",\n{\n  extend  : qx.core.Object,\n  type    : \"singleton\",\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n  },\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Map} the shared image registry */\n    __registry : qx.$$resources || {},\n\n    /** @type {Map} prefix per library used in HTTPS mode for IE */\n    __urlPrefix : {}\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /**\n     * Detects whether there is a high-resolution image available.\n     * A high-resolution image is assumed to have the same file name as\n     * the parameter source, but with a pixelRatio identifier before the file\n     * extension, like \"@2x\".\n     * Medium Resolution: \"example.png\", high-resolution: \"example@2x.png\"\n     *\n     * @param lowResImgSrc {String} source of the low resolution image.\n     * @param factor {Number} Factor to find the right image. If not set calculated by getDevicePixelRatio()\n     * @return {String|Boolean} If a high-resolution image source.\n     */\n     findHighResolutionSource: function(lowResImgSrc, factor) {\n      var pixelRatioCandidates = [\"3\", \"2\", \"1.5\"];\n\n      // Calculate the optimal ratio, based on the rem scale factor of the application and the device pixel ratio.\n      if (!factor) {\n        factor = parseFloat(qx.bom.client.Device.getDevicePixelRatio().toFixed(2));\n      }  \n      if (factor <= 1) {\n        return false;\n      }\n\n      var i = pixelRatioCandidates.length;\n      while (i > 0 && factor > pixelRatioCandidates[--i]) {}\n\n      var hiResImgSrc;\n      var k;\n\n      // Search for best img with a higher resolution.\n      for (k = i; k >= 0; k--) {\n        hiResImgSrc = this.getHighResolutionSource(lowResImgSrc, pixelRatioCandidates[k]);\n        if (hiResImgSrc) {\n          return hiResImgSrc;\n        }\n      }\n\n      // Search for best img with a lower resolution.\n      for (k = i + 1; k < pixelRatioCandidates.length; k++) {\n        hiResImgSrc = this.getHighResolutionSource(lowResImgSrc, pixelRatioCandidates[k]);\n        if (hiResImgSrc) {\n          return hiResImgSrc;\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Returns the source name for the high-resolution image based on the passed\n     * parameters.\n     * @param source {String} the source of the medium resolution image.\n     * @param pixelRatio {Number} the pixel ratio of the high-resolution image.\n     * @return {String} the high-resolution source name or null if no source could be found.\n     */\n    getHighResolutionSource : function(source, pixelRatio) {\n      var fileExtIndex = source.lastIndexOf('.');\n      if (fileExtIndex > -1) {\n        var pixelRatioIdentifier = \"@\" + pixelRatio + \"x\";\n        var candidate = source.slice(0, fileExtIndex) + pixelRatioIdentifier + source.slice(fileExtIndex);\n\n        if(this.has(candidate)) {\n          return candidate;\n        }\n      }\n      return null;\n    },\n\n    /**\n     * Get all known resource IDs.\n     *\n     * @param pathfragment{String|null|undefined} an optional path fragment to check against with id.indexOf(pathfragment)\n     * @return {Array|null} an array containing the IDs or null if the registry is not initialized\n     */\n    getIds : function(pathfragment) {\n      var registry = this.self(arguments).__registry;\n      if(!registry) {\n        return null;\n      }\n\n      var ids = [];\n      for (var id in registry) {\n        if (registry.hasOwnProperty(id)) {\n          if(pathfragment && id.indexOf(pathfragment) == -1) {\n            continue;\n          }\n          ids.push(id);\n        }\n      }\n\n      return ids;\n    },\n\n    /**\n     * Whether the registry has information about the given resource.\n     *\n     * @param id {String} The resource to get the information for\n     * @return {Boolean} <code>true</code> when the resource is known.\n     */\n    has : function(id) {\n      return !!this.self(arguments).__registry[id];\n    },\n\n\n    /**\n     * Get information about an resource.\n     *\n     * @param id {String} The resource to get the information for\n     * @return {Array} Registered data or <code>null</code>\n     */\n    getData : function(id) {\n      return this.self(arguments).__registry[id] || null;\n    },\n\n\n    /**\n     * Returns the width of the given resource ID,\n     * when it is not a known image <code>0</code> is\n     * returned.\n     *\n     * @param id {String} Resource identifier\n     * @return {Integer} The image width, maybe <code>null</code> when the width is unknown\n     */\n    getImageWidth : function(id)\n    {\n      var size;\n      if (id && id.startsWith(\"@\")) {\n        var part = id.split(\"/\");\n        size = parseInt(part[2],10);\n        if (size) {\n          id = part[0]+\"/\"+part[1];\n        }\n      }\n      var entry = this.self(arguments).__registry[id]; // [ width, height, codepoint ]\n      if (size && entry) {\n        var width = Math.ceil(size / entry[1] * entry[0]);\n        return width;\n      }\n      return entry ? entry[0] : null;\n    },\n\n\n    /**\n     * Returns the height of the given resource ID,\n     * when it is not a known image <code>0</code> is\n     * returned.\n     *\n     * @param id {String} Resource identifier\n     * @return {Integer} The image height, maybe <code>null</code> when the height is unknown\n     */\n    getImageHeight : function(id)\n    {\n      if (id && id.startsWith(\"@\")) {\n        var part = id.split(\"/\");\n        var size = parseInt(part[2],10);\n        if (size) {\n          return size;\n        }\n      }\n      var entry = this.self(arguments).__registry[id];\n      return entry ? entry[1] : null;\n    },\n\n\n    /**\n     * Returns the format of the given resource ID,\n     * when it is not a known image <code>null</code>\n     * is returned.\n     *\n     * @param id {String} Resource identifier\n     * @return {String} File format of the image\n     */\n    getImageFormat : function(id)\n    {\n      if (id && id.startsWith(\"@\")) {\n        return \"font\";\n      }\n\n      var entry = this.self(arguments).__registry[id];\n      return entry ? entry[2] : null;\n    },\n\n    /**\n     * Returns the format of the combined image (png, gif, ...), if the given\n     * resource identifier is an image contained in one, or the empty string\n     * otherwise.\n     *\n     * @param id {String} Resource identifier\n     * @return {String} The type of the combined image containing id\n     */\n    getCombinedFormat : function(id)\n    {\n      var clippedtype = \"\";\n      var entry = this.self(arguments).__registry[id];\n      var isclipped = entry && entry.length > 4 && typeof(entry[4]) == \"string\"\n        && this.constructor.__registry[entry[4]];\n      if (isclipped){\n        var combId  = entry[4];\n        var combImg = this.constructor.__registry[combId];\n        clippedtype = combImg[2];\n      }\n      return clippedtype;\n    },\n\n\n    /**\n     * Converts the given resource ID to a full qualified URI\n     *\n     * @param id {String} Resource ID\n     * @return {String} Resulting URI\n     */\n    toUri : function(id)\n    {\n      if (id == null) {\n        return id;\n      }\n\n      var entry = this.self(arguments).__registry[id];\n      if (!entry) {\n        return id;\n      }\n\n      if (typeof entry === \"string\") {\n        var lib = entry;\n      }\n      else\n      {\n        var lib = entry[3];\n\n        // no lib reference\n        // may mean that the image has been registered dynamically\n        if (!lib) {\n          return id;\n        }\n      }\n\n      var urlPrefix = \"\";\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\") &&\n          qx.core.Environment.get(\"io.ssl\")) {\n        urlPrefix = this.self(arguments).__urlPrefix[lib];\n      }\n\n      return urlPrefix + qx.util.LibraryManager.getInstance().get(lib, \"resourceUri\") + \"/\" + id;\n    },\n\n    /**\n     * Construct a data: URI for an image resource.\n     *\n     * Constructs a data: URI for a given resource id, if this resource is\n     * contained in a base64 combined image. If this is not the case (e.g.\n     * because the combined image has not been loaded yet), returns the direct\n     * URI to the image file itself.\n     *\n     * @param resid {String} resource id of the image\n     * @return {String} \"data:\" or \"http:\" URI\n     */\n    toDataUri : function (resid)\n    {\n      var resentry = this.constructor.__registry[resid];\n      var combined = resentry ? this.constructor.__registry[resentry[4]] : null;\n      var uri;\n      if (combined) {\n        var resstruct = combined[4][resid];\n        uri = \"data:image/\" + resstruct[\"type\"] + \";\" + resstruct[\"encoding\"] +\n              \",\" + resstruct[\"data\"];\n      }\n      else {\n        uri = this.toUri(resid);\n      }\n      return uri;\n    },\n\n    /**\n     * Checks whether a given resource id for an image is a font handle.\n     *\n     * @param resid {String} resource id of the image\n     * @return {Boolean} True if it's a font URI\n     */\n    isFontUri : function (resid)\n    {\n      return resid ? resid.startsWith(\"@\") : false;\n    }\n  },\n\n\n  defer : function(statics)\n  {\n    if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n    {\n      // To avoid a \"mixed content\" warning in IE when the application is\n      // delivered via HTTPS a prefix has to be added. This will transform the\n      // relative URL to an absolute one in IE.\n      // Though this warning is only displayed in conjunction with images which\n      // are referenced as a CSS \"background-image\", every resource path is\n      // changed when the application is served with HTTPS.\n      if (qx.core.Environment.get(\"io.ssl\"))\n      {\n        for (var lib in qx.$$libraries)\n        {\n          var resourceUri;\n          if (qx.util.LibraryManager.getInstance().get(lib, \"resourceUri\")) {\n            resourceUri = qx.util.LibraryManager.getInstance().get(lib, \"resourceUri\");\n          }\n          else\n          {\n            // default for libraries without a resourceUri set\n            statics.__urlPrefix[lib] = \"\";\n            continue;\n          }\n\n          var href;\n          //first check if there is base url set\n          var baseElements = document.getElementsByTagName(\"base\");\n          if (baseElements.length > 0) {\n            href = baseElements[0].href;\n          }\n\n          // It is valid to to begin a URL with \"//\" so this case has to\n          // be considered. If the to resolved URL begins with \"//\" the\n          // manager prefixes it with \"https:\" to avoid any problems for IE\n          if (resourceUri.match(/^\\/\\//) != null) {\n            statics.__urlPrefix[lib] = window.location.protocol;\n          }\n          // If the resourceUri begins with a single slash, include the current\n          // hostname\n          else if (resourceUri.match(/^\\//) != null)\n          {\n            if (href)\n            {\n              statics.__urlPrefix[lib] = href;\n            }\n            else\n            {\n              statics.__urlPrefix[lib] = window.location.protocol + \"//\" + window.location.host;\n            }\n          }\n          // If the resolved URL begins with \"./\" the final URL has to be\n          // put together using the document.URL property.\n          // IMPORTANT: this is only applicable for the source version\n          else if (resourceUri.match(/^\\.\\//) != null)\n          {\n            var url = document.URL;\n            statics.__urlPrefix[lib] = url.substring(0, url.lastIndexOf(\"/\") + 1);\n          } else if (resourceUri.match(/^http/) != null) {\n            // Let absolute URLs pass through\n            statics.__urlPrefix[lib] = \"\";\n          }\n          else\n          {\n            if (!href)\n            {\n              // check for parameters with URLs as value\n              var index = window.location.href.indexOf(\"?\");\n\n              if (index == -1)\n              {\n                href = window.location.href;\n              }\n              else\n              {\n                href = window.location.href.substring(0, index);\n              }\n            }\n\n            statics.__urlPrefix[lib] = href.substring(0, href.lastIndexOf(\"/\") + 1);\n          }\n        }\n      }\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Author:\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Provides read/write access to library-specific information such as\n * source/resource URIs.\n */\nqx.Class.define(\"qx.util.LibraryManager\", {\n\n  extend : qx.core.Object,\n\n  type : \"singleton\",\n\n  statics :\n  {\n    /** @type {Map} The libraries used by this application */\n    __libs : qx.$$libraries || {}\n  },\n\n  members :\n  {\n    /**\n     * Checks whether the library with the given namespace is known to the\n     * application.\n     * @param namespace {String} The library's namespace\n     * @return {Boolean} <code>true</code> if the given library is known\n     */\n    has : function(namespace)\n    {\n      return !!this.self(arguments).__libs[namespace];\n    },\n\n\n    /**\n     * Returns the value of an attribute of the given library\n     * @param namespace {String} The library's namespace\n     * @param key {String} Name of the attribute\n     * @return {var|null} The attribute's value or <code>null</code> if it's not defined\n     */\n    get : function(namespace, key)\n    {\n      return this.self(arguments).__libs[namespace][key] ?\n        this.self(arguments).__libs[namespace][key] : null;\n    },\n\n\n    /**\n     * Sets an attribute on the given library.\n     *\n     * @param namespace {String} The library's namespace\n     * @param key {String} Name of the attribute\n     * @param value {var} Value of the attribute\n     */\n    set : function(namespace, key, value)\n    {\n      this.self(arguments).__libs[namespace][key] = value;\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tristan Koch (tristankoch)\n\n************************************************************************ */\n\n/**\n * A wrapper of the XMLHttpRequest host object (or equivalent). The interface is\n * similar to <a href=\"http://www.w3.org/TR/XMLHttpRequest/\">XmlHttpRequest</a>.\n *\n * Hides browser inconsistencies and works around bugs found in popular\n * implementations.\n *\n * <div class=\"desktop\">\n * Example:\n *\n * <pre class=\"javascript\">\n *  var req = new qx.bom.request.Xhr();\n *  req.onload = function() {\n *    // Handle data received\n *    req.responseText;\n *  }\n *\n *  req.open(\"GET\", url);\n *  req.send();\n * </pre>\n *\n * Example for binary data:\n *\n * <pre class=\"javascript\">\n *  var req = new qx.bom.request.Xhr();\n *  req.onload = function() {\n *    // Handle data received\n *    var blob = req.response;\n *    img.src = URL.createObjectURL(blob);\n *  }\n *\n *  req.open(\"GET\", url);\n *  req.responseType = \"blob\";\n *  req.send();\n * </pre>\n \n * </div>\n *\n * @ignore(XDomainRequest)\n * @ignore(qx.event, qx.event.GlobalError.*)\n *\n * @require(qx.bom.request.Xhr#open)\n * @require(qx.bom.request.Xhr#send)\n * @require(qx.bom.request.Xhr#on)\n * @require(qx.bom.request.Xhr#onreadystatechange)\n * @require(qx.bom.request.Xhr#onload)\n * @require(qx.bom.request.Xhr#onloadend)\n * @require(qx.bom.request.Xhr#onerror)\n * @require(qx.bom.request.Xhr#onabort)\n * @require(qx.bom.request.Xhr#ontimeout)\n * @require(qx.bom.request.Xhr#setRequestHeader)\n * @require(qx.bom.request.Xhr#getAllResponseHeaders)\n * @require(qx.bom.request.Xhr#getRequest)\n * @require(qx.bom.request.Xhr#overrideMimeType)\n * @require(qx.bom.request.Xhr#dispose)\n * @require(qx.bom.request.Xhr#isDisposed)\n *\n * @group (IO)\n */\nqx.Bootstrap.define(\"qx.bom.request.Xhr\",\n{\n\n  extend: Object,\n  implement: [ qx.core.IDisposable ],\n\n  construct: function() {\n    var boundFunc = qx.Bootstrap.bind(this.__onNativeReadyStateChange, this);\n\n    // GlobalError shouldn't be included in qx.Website builds so use it\n    // if it's available but otherwise ignore it (see ignore stated above).\n    if (qx.event && qx.event.GlobalError && qx.event.GlobalError.observeMethod) {\n      this.__onNativeReadyStateChangeBound = qx.event.GlobalError.observeMethod(boundFunc);\n    } else {\n      this.__onNativeReadyStateChangeBound = boundFunc;\n    }\n\n    this.__onNativeAbortBound = qx.Bootstrap.bind(this.__onNativeAbort, this);\n    this.__onNativeProgressBound = qx.Bootstrap.bind(this.__onNativeProgress, this);\n    this.__onTimeoutBound = qx.Bootstrap.bind(this.__onTimeout, this);\n\n    this.__initNativeXhr();\n    this._emitter = new qx.event.Emitter();\n\n    // BUGFIX: IE\n    // IE keeps connections alive unless aborted on unload\n    if (window.attachEvent) {\n      this.__onUnloadBound = qx.Bootstrap.bind(this.__onUnload, this);\n      window.attachEvent(\"onunload\", this.__onUnloadBound);\n    }\n  },\n\n  statics :\n  {\n    UNSENT: 0,\n    OPENED: 1,\n    HEADERS_RECEIVED: 2,\n    LOADING: 3,\n    DONE: 4\n  },\n\n\n  events : {\n    /** Fired at ready state changes. */\n    \"readystatechange\" : \"qx.bom.request.Xhr\",\n\n    /** Fired on error. */\n    \"error\" : \"qx.bom.request.Xhr\",\n\n    /** Fired at loadend. */\n    \"loadend\" : \"qx.bom.request.Xhr\",\n\n    /** Fired on timeouts. */\n    \"timeout\" : \"qx.bom.request.Xhr\",\n\n    /** Fired when the request is aborted. */\n    \"abort\" : \"qx.bom.request.Xhr\",\n\n    /** Fired on successful retrieval. */\n    \"load\" : \"qx.bom.request.Xhr\",\n\n    /** Fired on progress. */\n    \"progress\" : \"qx.bom.request.Xhr\"\n  },\n\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * @type {Number} Ready state.\n     *\n     * States can be:\n     * UNSENT:           0,\n     * OPENED:           1,\n     * HEADERS_RECEIVED: 2,\n     * LOADING:          3,\n     * DONE:             4\n     */\n    readyState: 0,\n\n    /**\n     * @type {String} The response of the request as text.\n     */\n    responseText: \"\",\n\n    /**\n     * @type {Object} The response of the request as a Document object.\n     */\n    response: null,\n    \n    /**\n     * @type {Object} The response of the request as object.\n     */\n    responseXML: null,\n\n    /**\n     * @type {Number} The HTTP status code.\n     */\n    status: 0,\n\n    /**\n     * @type {String} The HTTP status text.\n     */\n    statusText: \"\",\n\n    /**\n     * @type {String} The response Type to use in the request\n     */\n    responseType: \"\",\n    /**\n     * @type {Number} Timeout limit in milliseconds.\n     *\n     * 0 (default) means no timeout. Not supported for synchronous requests.\n     */\n    timeout: 0,\n\n    /**\n     * @type {Object} Wrapper to store data of the progress event which contains the keys\n       <code>lengthComputable</code>, <code>loaded</code> and <code>total</code>\n     */\n    progress: null,\n\n\n    /**\n     * Initializes (prepares) request.\n     *\n     * @ignore(XDomainRequest)\n     *\n     * @param method {String?\"GET\"}\n     *  The HTTP method to use.\n     * @param url {String}\n     *  The URL to which to send the request.\n     * @param async {Boolean?true}\n     *  Whether or not to perform the operation asynchronously.\n     * @param user {String?null}\n     *  Optional user name to use for authentication purposes.\n     * @param password {String?null}\n     *  Optional password to use for authentication purposes.\n     */\n    open: function(method, url, async, user, password) {\n      this.__checkDisposed();\n\n      // Mimick native behavior\n      if (typeof url === \"undefined\") {\n        throw new Error(\"Not enough arguments\");\n      } else if (typeof method === \"undefined\") {\n        method = \"GET\";\n      }\n\n      // Reset flags that may have been set on previous request\n      this.__abort = false;\n      this.__send = false;\n      this.__conditional = false;\n\n      // Store URL for later checks\n      this.__url = url;\n\n      if (typeof async == \"undefined\") {\n        async = true;\n      }\n      this.__async = async;\n      // Default values according to spec.\n      this.status = 0;\n      this.statusText = this.responseText = \"\";\n      this.responseXML = null;\n      this.response = null;\n\n      // BUGFIX\n      // IE < 9 and FF < 3.5 cannot reuse the native XHR to issue many requests\n      if (!this.__supportsManyRequests() && this.readyState > qx.bom.request.Xhr.UNSENT) {\n        // XmlHttpRequest Level 1 requires open() to abort any pending requests\n        // associated to the object. Since we're dealing with a new object here,\n        // we have to emulate this behavior. Moreover, allow old native XHR to be garbage collected\n        //\n        // Dispose and abort.\n        //\n        this.dispose();\n\n        // Replace the underlying native XHR with a new one that can\n        // be used to issue new requests.\n        this.__initNativeXhr();\n      }\n\n      // Restore handler in case it was removed before\n      this.__nativeXhr.onreadystatechange = this.__onNativeReadyStateChangeBound;\n\n      try {\n        if (qx.core.Environment.get(\"qx.debug.io\")) {\n          qx.Bootstrap.debug(qx.bom.request.Xhr, \"Open native request with method: \" +\n            method + \", url: \" + url + \", async: \" + async);\n        }\n\n        this.__nativeXhr.open(method, url, async, user, password);\n\n      // BUGFIX: IE, Firefox < 3.5\n      // Some browsers do not support Cross-Origin Resource Sharing (CORS)\n      // for XMLHttpRequest. Instead, an exception is thrown even for async requests\n      // if URL is cross-origin (as per XHR level 1). Use the proprietary XDomainRequest\n      // if available (supports CORS) and handle error (if there is one) this\n      // way. Otherwise just assume network error.\n      //\n      // Basically, this allows to detect network errors.\n      } catch(OpenError) {\n\n        // Only work around exceptions caused by cross domain request attempts\n        if (!qx.util.Request.isCrossDomain(url)) {\n          // Is same origin\n          throw OpenError;\n        }\n\n        if (!this.__async) {\n          this.__openError = OpenError;\n        }\n\n        if (this.__async) {\n          // Try again with XDomainRequest\n          // (Success case not handled on purpose)\n          // - IE 9\n          if (window.XDomainRequest) {\n            this.readyState = 4;\n            this.__nativeXhr = new XDomainRequest();\n            this.__nativeXhr.onerror = qx.Bootstrap.bind(function() {\n              this._emit(\"readystatechange\");\n              this._emit(\"error\");\n              this._emit(\"loadend\");\n            }, this);\n\n            if (qx.core.Environment.get(\"qx.debug.io\")) {\n              qx.Bootstrap.debug(qx.bom.request.Xhr, \"Retry open native request with method: \" +\n                method + \", url: \" + url + \", async: \" + async);\n            }\n            this.__nativeXhr.open(method, url, async, user, password);\n            return;\n          }\n\n          // Access denied\n          // - IE 6: -2146828218\n          // - IE 7: -2147024891\n          // - Legacy Firefox\n          window.setTimeout(qx.Bootstrap.bind(function() {\n            if (this.__disposed) {\n              return;\n            }\n            this.readyState = 4;\n            this._emit(\"readystatechange\");\n            this._emit(\"error\");\n            this._emit(\"loadend\");\n          }, this));\n        }\n\n      }\n\n      // BUGFIX: IE < 9\n      // IE < 9 tends to cache overly aggressive. This may result in stale\n      // representations. Force validating freshness of cached representation.\n      if (qx.core.Environment.get(\"engine.name\") === \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9 &&\n        this.__nativeXhr.readyState > 0) {\n          this.__nativeXhr.setRequestHeader(\"If-Modified-Since\", \"-1\");\n        }\n\n      // BUGFIX: Firefox\n      // Firefox < 4 fails to trigger onreadystatechange OPENED for sync requests\n      if (qx.core.Environment.get(\"engine.name\") === \"gecko\" &&\n          parseInt(qx.core.Environment.get(\"engine.version\"), 10) < 2 &&\n          !this.__async) {\n        // Native XHR is already set to readyState DONE. Fake readyState\n        // and call onreadystatechange manually.\n        this.readyState = qx.bom.request.Xhr.OPENED;\n        this._emit(\"readystatechange\");\n      }\n\n    },\n\n    /**\n     * Sets an HTTP request header to be used by the request.\n     *\n     * Note: The request must be initialized before using this method.\n     *\n     * @param key {String}\n     *  The name of the header whose value is to be set.\n     * @param value {String}\n     *  The value to set as the body of the header.\n     * @return {qx.bom.request.Xhr} Self for chaining.\n     */\n    setRequestHeader: function(key, value) {\n      this.__checkDisposed();\n\n      // Detect conditional requests\n      if (key == \"If-Match\" || key == \"If-Modified-Since\" ||\n        key == \"If-None-Match\" || key == \"If-Range\") {\n        this.__conditional = true;\n      }\n\n      this.__nativeXhr.setRequestHeader(key, value);\n      return this;\n    },\n\n    /**\n     * Sends request.\n     *\n     * @param data {String|Document?null}\n     *  Optional data to send.\n     * @return {qx.bom.request.Xhr} Self for chaining.\n     */\n    send: function(data) {\n      this.__checkDisposed();\n\n      // BUGFIX: IE & Firefox < 3.5\n      // For sync requests, some browsers throw error on open()\n      // while it should be on send()\n      //\n      if (!this.__async && this.__openError) {\n        throw this.__openError;\n      }\n\n      // BUGFIX: Opera\n      // On network error, Opera stalls at readyState HEADERS_RECEIVED\n      // This violates the spec. See here http://www.w3.org/TR/XMLHttpRequest2/#send\n      // (Section: If there is a network error)\n      //\n      // To fix, assume a default timeout of 10 seconds. Note: The \"error\"\n      // event will be fired correctly, because the error flag is inferred\n      // from the statusText property. Of course, compared to other\n      // browsers there is an additional call to ontimeout(), but this call\n      // should not harm.\n      //\n      if (qx.core.Environment.get(\"engine.name\") === \"opera\" &&\n          this.timeout === 0) {\n        this.timeout = 10000;\n      }\n\n      // Timeout\n      if (this.timeout > 0) {\n        this.__timerId = window.setTimeout(this.__onTimeoutBound, this.timeout);\n      }\n\n      // BUGFIX: Firefox 2\n      // \"NS_ERROR_XPC_NOT_ENOUGH_ARGS\" when calling send() without arguments\n      data = typeof data == \"undefined\" ? null : data;\n\n      // Whitelisting the allowed data types regarding the spec\n      // -> http://www.w3.org/TR/XMLHttpRequest2/#the-send-method\n      // All other data input will be transformed to a string to e.g. prevent\n      // an SendError in Firefox (at least <= 31) and to harmonize it with the\n      // behaviour of all other browsers (Chrome, IE and Safari)\n      var dataType = qx.Bootstrap.getClass(data);\n      data = (data !== null && this.__dataTypeWhiteList.indexOf(dataType) === -1) ? data.toString() : data;\n\n      // Some browsers may throw an error when sending of async request fails.\n      // This violates the spec which states only sync requests should.\n      try {\n        if (qx.core.Environment.get(\"qx.debug.io\")) {\n          qx.Bootstrap.debug(qx.bom.request.Xhr, \"Send native request\");\n        }\n        if (this.__async) {\n          this.__nativeXhr.responseType = this.responseType;\n        }\n        this.__nativeXhr.send(data);\n      } catch(SendError) {\n        if (!this.__async) {\n          throw SendError;\n        }\n\n        // BUGFIX\n        // Some browsers throws error when file not found via file:// protocol.\n        // Synthesize readyState changes.\n        if (this._getProtocol() === \"file:\") {\n          this.readyState = 2;\n          this.__readyStateChange();\n\n          var that = this;\n          window.setTimeout(function() {\n            if (that.__disposed) {\n              return;\n            }\n            that.readyState = 3;\n            that.__readyStateChange();\n\n            that.readyState = 4;\n            that.__readyStateChange();\n          });\n\n        }\n\n      }\n\n      // BUGFIX: Firefox\n      // Firefox fails to trigger onreadystatechange DONE for sync requests\n      if (qx.core.Environment.get(\"engine.name\") === \"gecko\" && !this.__async) {\n        // Properties all set, only missing native readystatechange event\n        this.__onNativeReadyStateChange();\n      }\n\n      // Set send flag\n      this.__send = true;\n      return this;\n    },\n\n    /**\n     * Abort request - i.e. cancels any network activity.\n     *\n     * Note:\n     *  On Windows 7 every browser strangely skips the loading phase\n     *  when this method is called (because readyState never gets 3).\n     *\n     *  So keep this in mind if you rely on the phases which are\n     *  passed through. They will be \"opened\", \"sent\", \"abort\"\n     *  instead of normally \"opened\", \"sent\", \"loading\", \"abort\".\n     *\n     * @return {qx.bom.request.Xhr} Self for chaining.\n     */\n    abort: function() {\n      this.__checkDisposed();\n\n      this.__abort = true;\n      this.__nativeXhr.abort();\n\n      if (this.__nativeXhr && this.readyState !== qx.bom.request.Xhr.DONE) {\n        this.readyState = this.__nativeXhr.readyState;\n      }\n      return this;\n    },\n\n\n    /**\n     * Helper to emit events and call the callback methods.\n     * @param event {String} The name of the event.\n     */\n    _emit: function(event) {\n      if (this[\"on\" + event]) {\n        this[\"on\" + event]();\n      }\n      this._emitter.emit(event, this);\n    },\n\n    /**\n     * Event handler for XHR event that fires at every state change.\n     *\n     * Replace with custom method to get informed about the communication progress.\n     */\n    onreadystatechange: function() {},\n\n    /**\n     * Event handler for XHR event \"load\" that is fired on successful retrieval.\n     *\n     * Note: This handler is called even when the HTTP status indicates an error.\n     *\n     * Replace with custom method to listen to the \"load\" event.\n     */\n    onload: function() {},\n\n    /**\n     * Event handler for XHR event \"loadend\" that is fired on retrieval.\n     *\n     * Note: This handler is called even when a network error (or similar)\n     * occurred.\n     *\n     * Replace with custom method to listen to the \"loadend\" event.\n     */\n    onloadend: function() {},\n\n    /**\n     * Event handler for XHR event \"error\" that is fired on a network error.\n     *\n     * Replace with custom method to listen to the \"error\" event.\n     */\n    onerror: function() {},\n\n    /**\n    * Event handler for XHR event \"abort\" that is fired when request\n    * is aborted.\n    *\n    * Replace with custom method to listen to the \"abort\" event.\n    */\n    onabort: function() {},\n\n    /**\n    * Event handler for XHR event \"timeout\" that is fired when timeout\n    * interval has passed.\n    *\n    * Replace with custom method to listen to the \"timeout\" event.\n    */\n    ontimeout: function() {},\n\n    /**\n    * Event handler for XHR event \"progress\".\n    *\n    * Replace with custom method to listen to the \"progress\" event.\n    */\n    onprogress: function() {},\n\n\n    /**\n     * Add an event listener for the given event name.\n     *\n     * @param name {String} The name of the event to listen to.\n     * @param listener {Function} The function to execute when the event is fired\n     * @param ctx {var?} The context of the listener.\n     * @return {qx.bom.request.Xhr} Self for chaining.\n     */\n    on: function(name, listener, ctx) {\n      this._emitter.on(name, listener, ctx);\n      return this;\n    },\n\n\n    /**\n     * Get a single response header from response.\n     *\n     * @param header {String}\n     *  Key of the header to get the value from.\n     * @return {String}\n     *  Response header.\n     */\n    getResponseHeader: function(header) {\n      this.__checkDisposed();\n\n      if (qx.core.Environment.get(\"browser.documentmode\") === 9 &&\n        this.__nativeXhr.aborted)\n      {\n        return \"\";\n      }\n\n      return this.__nativeXhr.getResponseHeader(header);\n    },\n\n    /**\n     * Get all response headers from response.\n     *\n     * @return {String} All response headers.\n     */\n    getAllResponseHeaders: function() {\n      this.__checkDisposed();\n\n      if (qx.core.Environment.get(\"browser.documentmode\") === 9 &&\n        this.__nativeXhr.aborted)\n      {\n        return \"\";\n      }\n\n      return this.__nativeXhr.getAllResponseHeaders();\n    },\n\n    /**\n     * Overrides the MIME type returned by the server\n     * and must be called before @send()@.\n     *\n     * Note:\n     *\n     * * IE doesn't support this method so in this case an Error is thrown.\n     * * after calling this method @getResponseHeader(\"Content-Type\")@\n     *   may return the original (Firefox 23, IE 10, Safari 6) or\n     *   the overridden content type (Chrome 28+, Opera 15+).\n     *\n     *\n     * @param mimeType {String} The mimeType for overriding.\n     * @return {qx.bom.request.Xhr} Self for chaining.\n     */\n    overrideMimeType: function(mimeType) {\n      this.__checkDisposed();\n\n      if (this.__nativeXhr.overrideMimeType) {\n        this.__nativeXhr.overrideMimeType(mimeType);\n      } else {\n        throw new Error(\"Native XHR object doesn't support overrideMimeType.\");\n      }\n\n      return this;\n    },\n\n    /**\n     * Get wrapped native XMLHttpRequest (or equivalent).\n     *\n     * Can be XMLHttpRequest or ActiveX.\n     *\n     * @return {Object} XMLHttpRequest or equivalent.\n     */\n    getRequest: function() {\n      return this.__nativeXhr;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Dispose object and wrapped native XHR.\n     * @return {Boolean} <code>true</code> if the object was successfully disposed\n     */\n    dispose: function() {\n      if (this.__disposed) {\n        return false;\n      }\n\n      window.clearTimeout(this.__timerId);\n\n      // Remove unload listener in IE. Aborting on unload is no longer required\n      // for this instance.\n      if (window.detachEvent) {\n        window.detachEvent(\"onunload\", this.__onUnloadBound);\n      }\n\n      // May fail in IE\n      try {\n        this.__nativeXhr.onreadystatechange;\n      } catch(PropertiesNotAccessable) {\n        return false;\n      }\n\n      // Clear out listeners\n      var noop = function() {};\n      this.__nativeXhr.onreadystatechange = noop;\n      this.__nativeXhr.onload = noop;\n      this.__nativeXhr.onerror = noop;\n      this.__nativeXhr.onprogress = noop;\n\n      // Abort any network activity\n      this.abort();\n\n      // Remove reference to native XHR\n      this.__nativeXhr = null;\n\n      this.__disposed = true;\n      return true;\n    },\n\n\n    /**\n     * Check if the request has already beed disposed.\n     * @return {Boolean} <code>true</code>, if the request has been disposed.\n     */\n    isDisposed : function() {\n      return !!this.__disposed;\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROTECTED\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Create XMLHttpRequest (or equivalent).\n     *\n     * @return {Object} XMLHttpRequest or equivalent.\n     */\n    _createNativeXhr: function() {\n      var xhr = qx.core.Environment.get(\"io.xhr\");\n\n      if (xhr === \"xhr\") {\n        return new XMLHttpRequest();\n      }\n\n      if (xhr == \"activex\") {\n        return new window.ActiveXObject(\"Microsoft.XMLHTTP\");\n      }\n\n      qx.Bootstrap.error(this, \"No XHR support available.\");\n    },\n\n    /**\n     * Get protocol of requested URL.\n     *\n     * @return {String} The used protocol.\n     */\n    _getProtocol: function() {\n      var url = this.__url;\n      var protocolRe = /^(\\w+:)\\/\\//;\n\n      // Could be http:// from file://\n      if (url !== null && url.match) {\n        var match = url.match(protocolRe);\n        if (match && match[1]) {\n          return match[1];\n        }\n      }\n\n      return window.location.protocol;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      PRIVATE\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * @type {Object} XMLHttpRequest or equivalent.\n     */\n    __nativeXhr: null,\n\n    /**\n     * @type {Boolean} Whether request is async.\n     */\n    __async: null,\n\n    /**\n     * @type {Function} Bound __onNativeReadyStateChange handler.\n     */\n    __onNativeReadyStateChangeBound: null,\n\n    /**\n     * @type {Function} Bound __onNativeAbort handler.\n     */\n    __onNativeAbortBound: null,\n\n    /**\n     * @type {Function} Bound __onNativeProgress handler.\n     */\n    __onNativeProgressBound: null,\n\n    /**\n     * @type {Function} Bound __onUnload handler.\n     */\n    __onUnloadBound: null,\n\n    /**\n     * @type {Function} Bound __onTimeout handler.\n     */\n    __onTimeoutBound: null,\n\n    /**\n     * @type {Boolean} Send flag\n     */\n    __send: null,\n\n    /**\n     * @type {String} Requested URL\n     */\n    __url: null,\n\n    /**\n     * @type {Boolean} Abort flag\n     */\n    __abort: null,\n\n    /**\n     * @type {Boolean} Timeout flag\n     */\n    __timeout: null,\n\n    /**\n     * @type {Boolean} Whether object has been disposed.\n     */\n    __disposed: null,\n\n    /**\n     * @type {Number} ID of timeout timer.\n     */\n    __timerId: null,\n\n    /**\n     * @type {Error} Error thrown on open, if any.\n     */\n    __openError: null,\n\n    /**\n     * @type {Boolean} Conditional get flag\n     */\n     __conditional: null,\n\n    /**\n     * @type {Array} Whitelist with all allowed data types for the request payload\n     */\n    __dataTypeWhiteList: null,\n\n    /**\n     * Init native XHR.\n     */\n    __initNativeXhr: function() {\n      // Create native XHR or equivalent and hold reference\n      this.__nativeXhr = this._createNativeXhr();\n\n      // Track native ready state changes\n      this.__nativeXhr.onreadystatechange = this.__onNativeReadyStateChangeBound;\n\n      // Track native abort, when supported\n      if (qx.Bootstrap.getClass(this.__nativeXhr.onabort) !== \"Undefined\") {\n        this.__nativeXhr.onabort = this.__onNativeAbortBound;\n      }\n\n      // Track native progress, when supported\n      if (qx.Bootstrap.getClass(this.__nativeXhr.onprogress) !== \"Undefined\") {\n        this.__nativeXhr.onprogress = this.__onNativeProgressBound;\n\n        this.progress = {\n          lengthComputable: false,\n          loaded: 0,\n          total: 0\n        };\n      }\n\n      // Reset flags\n      this.__disposed = this.__send = this.__abort = false;\n\n      // Initialize data white list\n      this.__dataTypeWhiteList = [ \"ArrayBuffer\", \"Blob\", \"File\", \"HTMLDocument\", \"String\", \"FormData\" ];\n    },\n\n    /**\n     * Track native abort.\n     *\n     * In case the end user cancels the request by other\n     * means than calling abort().\n     */\n    __onNativeAbort: function() {\n      // When the abort that triggered this method was not a result from\n      // calling abort()\n      if (!this.__abort) {\n        this.abort();\n      }\n    },\n\n    /**\n     * Track native progress event.\n     @param e {Event} The native progress event.\n     */\n    __onNativeProgress: function(e) {\n      this.progress.lengthComputable = e.lengthComputable;\n      this.progress.loaded = e.loaded;\n      this.progress.total = e.total;\n      this._emit(\"progress\");\n    },\n\n    /**\n     * Handle native onreadystatechange.\n     *\n     * Calls user-defined function onreadystatechange on each\n     * state change and syncs the XHR status properties.\n     */\n    __onNativeReadyStateChange: function() {\n      var nxhr = this.__nativeXhr,\n          propertiesReadable = true;\n\n      if (qx.core.Environment.get(\"qx.debug.io\")) {\n        qx.Bootstrap.debug(qx.bom.request.Xhr, \"Received native readyState: \" + nxhr.readyState);\n      }\n\n      // BUGFIX: IE, Firefox\n      // onreadystatechange() is called twice for readyState OPENED.\n      //\n      // Call onreadystatechange only when readyState has changed.\n      if (this.readyState == nxhr.readyState) {\n        return;\n      }\n\n      // Sync current readyState\n      this.readyState = nxhr.readyState;\n\n      // BUGFIX: IE\n      // Superfluous onreadystatechange DONE when aborting OPENED\n      // without send flag\n      if (this.readyState === qx.bom.request.Xhr.DONE &&\n          this.__abort && !this.__send) {\n        return;\n      }\n\n      // BUGFIX: IE\n      // IE fires onreadystatechange HEADERS_RECEIVED and LOADING when sync\n      //\n      // According to spec, only onreadystatechange OPENED and DONE should\n      // be fired.\n      if (!this.__async && (nxhr.readyState == 2 || nxhr.readyState == 3)) {\n        return;\n      }\n\n      // Default values according to spec.\n      this.status = 0;\n      this.statusText = this.responseText = \"\";\n      this.responseXML = null;\n      this.response = null;\n\n      if (this.readyState >= qx.bom.request.Xhr.HEADERS_RECEIVED) {\n        // In some browsers, XHR properties are not readable\n        // while request is in progress.\n        try {\n          this.status = nxhr.status;\n          this.statusText = nxhr.statusText;\n          this.response = nxhr.response;\n          if ((this.responseType === \"\") || (this.responseType === \"text\")) {\n           this.responseText = nxhr.responseText;\n          }\n          if ((this.responseType === \"\") || (this.responseType === \"document\")) {\n           this.responseXML = nxhr.responseXML;\n          }\n        } catch(XhrPropertiesNotReadable) {\n          propertiesReadable = false;\n        }\n\n        if (propertiesReadable) {\n          this.__normalizeStatus();\n          this.__normalizeResponseXML();\n        }\n      }\n\n      this.__readyStateChange();\n\n      // BUGFIX: IE\n      // Memory leak in XMLHttpRequest (on-page)\n      if (this.readyState == qx.bom.request.Xhr.DONE) {\n        // Allow garbage collecting of native XHR\n        if (nxhr) {\n          nxhr.onreadystatechange = function() {};\n        }\n      }\n\n    },\n\n    /**\n     * Handle readystatechange. Called internally when readyState is changed.\n     */\n    __readyStateChange: function() {\n      // Cancel timeout before invoking handlers because they may throw\n      if (this.readyState === qx.bom.request.Xhr.DONE) {\n        // Request determined DONE. Cancel timeout.\n        window.clearTimeout(this.__timerId);\n      }\n\n      // Always fire \"readystatechange\"\n      this._emit(\"readystatechange\");\n      if (this.readyState === qx.bom.request.Xhr.DONE) {\n        this.__readyStateChangeDone();\n      }\n    },\n\n    /**\n     * Handle readystatechange. Called internally by\n     * {@link #__readyStateChange} when readyState is DONE.\n     */\n    __readyStateChangeDone: function() {\n      // Fire \"timeout\" if timeout flag is set\n      if (this.__timeout) {\n        this._emit(\"timeout\");\n\n        // BUGFIX: Opera\n        // Since Opera does not fire \"error\" on network error, fire additional\n        // \"error\" on timeout (may well be related to network error)\n        if (qx.core.Environment.get(\"engine.name\") === \"opera\") {\n          this._emit(\"error\");\n        }\n\n        this.__timeout = false;\n\n      // Fire either \"abort\", \"load\" or \"error\"\n      } else {\n        if (this.__abort) {\n          this._emit(\"abort\");\n        } else{\n          if (this.__isNetworkError()) {\n            this._emit(\"error\");\n          } else {\n            this._emit(\"load\");\n          }\n        }\n      }\n\n      // Always fire \"onloadend\" when DONE\n      this._emit(\"loadend\");\n    },\n\n    /**\n     * Check for network error.\n     *\n     * @return {Boolean} Whether a network error occurred.\n     */\n    __isNetworkError: function() {\n      var error;\n\n      // Infer the XHR internal error flag from statusText when not aborted.\n      // See http://www.w3.org/TR/XMLHttpRequest2/#error-flag and\n      // http://www.w3.org/TR/XMLHttpRequest2/#the-statustext-attribute\n      //\n      // With file://, statusText is always falsy. Assume network error when\n      // response is empty.\n      if (this._getProtocol() === \"file:\") {\n        error = !this.responseText;\n      } else {\n        error = this.status === 0;\n      }\n\n      return error;\n    },\n\n    /**\n     * Handle faked timeout.\n     */\n    __onTimeout: function() {\n      // Basically, mimick http://www.w3.org/TR/XMLHttpRequest2/#timeout-error\n      var nxhr = this.__nativeXhr;\n      this.readyState = qx.bom.request.Xhr.DONE;\n\n      // Set timeout flag\n      this.__timeout = true;\n\n      // No longer consider request. Abort.\n      nxhr.aborted = true;\n      nxhr.abort();\n      this.responseText = \"\";\n      this.responseXML = null;\n\n      // Signal readystatechange\n      this.__readyStateChange();\n    },\n\n    /**\n     * Normalize status property across browsers.\n     */\n    __normalizeStatus: function() {\n      var isDone = this.readyState === qx.bom.request.Xhr.DONE;\n\n      // BUGFIX: Most browsers\n      // Most browsers tell status 0 when it should be 200 for local files\n      if (this._getProtocol() === \"file:\" && this.status === 0 && isDone) {\n        if (!this.__isNetworkError()) {\n          this.status = 200;\n        }\n      }\n\n      // BUGFIX: IE\n      // IE sometimes tells 1223 when it should be 204\n      if (this.status === 1223) {\n        this.status = 204;\n      }\n\n      // BUGFIX: Opera\n      // Opera tells 0 for conditional requests when it should be 304\n      //\n      // Detect response to conditional request that signals fresh cache.\n      if (qx.core.Environment.get(\"engine.name\") === \"opera\") {\n        if (\n          isDone &&                 // Done\n          this.__conditional &&     // Conditional request\n          !this.__abort &&          // Not aborted\n          this.status === 0         // But status 0!\n        ) {\n          this.status = 304;\n        }\n      }\n    },\n\n    /**\n     * Normalize responseXML property across browsers.\n     */\n    __normalizeResponseXML: function() {\n      // BUGFIX: IE\n      // IE does not recognize +xml extension, resulting in empty responseXML.\n      //\n      // Check if Content-Type is +xml, verify missing responseXML then parse\n      // responseText as XML.\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n          (this.getResponseHeader(\"Content-Type\") || \"\").match(/[^\\/]+\\/[^\\+]+\\+xml/) &&\n           this.responseXML && !this.responseXML.documentElement) {\n        var dom = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n        dom.async = false;\n        dom.validateOnParse = false;\n        dom.loadXML(this.responseText);\n        this.responseXML = dom;\n      }\n    },\n\n    /**\n     * Handler for native unload event.\n     */\n    __onUnload: function() {\n      try {\n        // Abort and dispose\n        if (this) {\n          this.dispose();\n        }\n      } catch(e) {}\n    },\n\n    /**\n     * Helper method to determine whether browser supports reusing the\n     * same native XHR to send more requests.\n     * @return {Boolean} <code>true</code> if request object reuse is supported\n     */\n    __supportsManyRequests: function() {\n      var name = qx.core.Environment.get(\"engine.name\");\n      var version = qx.core.Environment.get(\"browser.version\");\n\n      return !(name == \"mshtml\" && version < 9 ||\n               name == \"gecko\" && version < 3.5);\n    },\n\n    /**\n     * Throw when already disposed.\n     */\n    __checkDisposed: function() {\n      if (this.__disposed) {\n        throw new Error(\"Already disposed\");\n      }\n    }\n  },\n\n  defer: function() {\n    qx.core.Environment.add(\"qx.debug.io\", false);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This handler provides events for qooxdoo application startup/shutdown logic.\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.bom.client.Engine)\n */\nqx.Class.define(\"qx.event.handler.Application\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this._window = manager.getWindow();\n\n    this.__domReady = false;\n    this.__loaded = false;\n    this.__isReady = false;\n    this.__isUnloaded = false;\n\n    // Initialize observers\n    this._initObserver();\n\n    // Store instance (only supported for main app window, this\n    // is the reason why this is OK here)\n    qx.event.handler.Application.$$instance = this;\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      ready : 1,\n      shutdown : 1\n    },\n\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,\n\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true,\n\n\n    /**\n     * Sends the currently running application the ready signal. Used\n     * exclusively by package loader system.\n     *\n     * @internal\n     */\n    onScriptLoaded : function()\n    {\n      var inst = qx.event.handler.Application.$$instance;\n      if (inst) {\n        inst.__fireReady();\n      }\n    }\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n    __isReady : null,\n    __domReady : null,\n    __loaded : null,\n    __isUnloaded : null,\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      USER ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Fires a global ready event.\n     *\n     */\n    __fireReady : function()\n    {\n      // Wrapper qxloader needed to be compatible with old generator\n      if (!this.__isReady && this.__domReady && qx.$$loader.scriptLoaded)\n      {\n        // If qooxdoo is loaded within a frame in IE, the document is ready before\n        // the \"ready\" listener can be added. To avoid any startup issue check\n        // for the availability of the \"ready\" listener before firing the event.\n        // So at last the native \"load\" will trigger the \"ready\" event.\n        if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n        {\n          if (qx.event.Registration.hasListener(this._window, \"ready\"))\n          {\n            this.__isReady = true;\n\n            // Fire user event\n            qx.event.Registration.fireEvent(this._window, \"ready\");\n          }\n        }\n        else\n        {\n          this.__isReady = true;\n\n          // Fire user event\n          qx.event.Registration.fireEvent(this._window, \"ready\");\n        }\n      }\n    },\n\n\n    /**\n     * Whether the application is ready.\n     *\n     * @return {Boolean} ready status\n     */\n    isApplicationReady : function() {\n      return this.__isReady;\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER INIT/STOP\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Initializes the native application event listeners.\n     *\n     */\n    _initObserver : function()\n    {\n      // in Firefox the loader script sets the ready state\n      if (qx.$$domReady || document.readyState == \"complete\" || document.readyState == \"ready\")\n      {\n        this.__domReady = true;\n        this.__fireReady();\n      }\n      else\n      {\n        this._onNativeLoadWrapped = qx.lang.Function.bind(this._onNativeLoad, this);\n\n        if (\n          qx.core.Environment.get(\"engine.name\") == \"gecko\" ||\n          qx.core.Environment.get(\"engine.name\") == \"opera\" ||\n          qx.core.Environment.get(\"engine.name\") == \"webkit\" ||\n          (qx.core.Environment.get(\"engine.name\") == \"mshtml\" && qx.core.Environment.get(\"browser.documentmode\") > 8)\n        ) {\n          // Using native method supported by Mozilla, Webkit, Opera and IE >= 9\n          qx.bom.Event.addNativeListener(this._window, \"DOMContentLoaded\", this._onNativeLoadWrapped);\n        }\n        else {\n          var self = this;\n\n          // Continually check to see if the document is ready\n          var timer = function()\n          {\n            try\n            {\n              // If IE is used, use the trick by Diego Perini\n              // http://javascript.nwbox.com/IEContentLoaded/\n              document.documentElement.doScroll(\"left\");\n              if (document.body) {\n                self._onNativeLoadWrapped();\n              }\n            }\n            catch(error) {\n              window.setTimeout(timer, 100);\n            }\n          };\n\n          timer();\n        }\n\n        // Additional load listener as fallback\n        qx.bom.Event.addNativeListener(this._window, \"load\", this._onNativeLoadWrapped);\n      }\n\n      this._onNativeUnloadWrapped = qx.lang.Function.bind(this._onNativeUnload, this);\n      qx.bom.Event.addNativeListener(this._window, \"unload\", this._onNativeUnloadWrapped);\n    },\n\n\n    /**\n     * Disconnect the native application event listeners.\n     *\n     */\n    _stopObserver : function()\n    {\n      if (this._onNativeLoadWrapped) {\n        qx.bom.Event.removeNativeListener(this._window, \"load\", this._onNativeLoadWrapped);\n      }\n      qx.bom.Event.removeNativeListener(this._window, \"unload\", this._onNativeUnloadWrapped);\n\n      this._onNativeLoadWrapped = null;\n      this._onNativeUnloadWrapped = null;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE LISTENER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * When qx.globalErrorHandling is enabled the callback will observed\n     */\n    _onNativeLoad: function () {\n      var callback = qx.core.Environment.select(\"qx.globalErrorHandling\", {\n        \"true\": qx.event.GlobalError.observeMethod(this.__onNativeLoadHandler),\n        \"false\": this.__onNativeLoadHandler\n      });\n      callback.apply(this, arguments);\n    },\n\n\n    /**\n     * Event listener for native load event\n     */\n    __onNativeLoadHandler: function () {\n      this.__domReady = true;\n      this.__fireReady();\n    },\n\n\n    /**\n     * When qx.globalErrorHandling is enabled the callback will observed\n     */\n    _onNativeUnload: function () {\n      var callback = qx.core.Environment.select(\"qx.globalErrorHandling\", {\n        \"true\": qx.event.GlobalError.observeMethod(this.__onNativeUnloadHandler),\n        \"false\": this.__onNativeUnloadHandler\n      });\n      callback.apply(this, arguments);\n    },\n\n\n    /**\n     * Event listener for native unload event\n     */\n    __onNativeUnloadHandler: function () {\n      if (!this.__isUnloaded) {\n        this.__isUnloaded = true;\n\n        try {\n          // Fire user event\n          qx.event.Registration.fireEvent(this._window, \"shutdown\");\n        }\n        catch (e) {\n          // IE doesn't execute the \"finally\" block if no \"catch\" block is present\n          throw e;\n        }\n      }\n    }\n\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this._stopObserver();\n\n    this._window = null;\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Common base class for all native events (DOM events, IO events, ...).\n */\nqx.Class.define(\"qx.event.type.Native\",\n{\n  extend : qx.event.type.Event,\n\n  members :\n  {\n    /**\n     * Initialize the fields of the event. The event must be initialized before\n     * it can be dispatched.\n     *\n     * @param nativeEvent {Event} The DOM event to use\n     * @param target {Object?} The event target\n     * @param relatedTarget {Object?null} The related event target\n     * @param canBubble {Boolean?false} Whether or not the event is a bubbling event.\n     *     If the event is bubbling, the bubbling can be stopped using\n     *     {@link qx.event.type.Event#stopPropagation}\n     * @param cancelable {Boolean?false} Whether or not an event can have its default\n     *     action prevented. The default action can either be the browser's\n     *     default action of a native event (e.g. open the context menu on a\n     *     right click) or the default action of a qooxdoo class (e.g. close\n     *     the window widget). The default action can be prevented by calling\n     *     {@link #preventDefault}\n     * @return {qx.event.type.Event} The initialized event instance\n     */\n    init : function(nativeEvent, target, relatedTarget, canBubble, cancelable)\n    {\n      this.base(arguments, canBubble, cancelable);\n\n      this._target = target || qx.bom.Event.getTarget(nativeEvent);\n      this._relatedTarget = relatedTarget || qx.bom.Event.getRelatedTarget(nativeEvent);\n\n      if (nativeEvent.timeStamp) {\n        this._timeStamp = nativeEvent.timeStamp;\n      }\n\n      this._native = nativeEvent;\n      this._returnValue = null;\n\n      return this;\n    },\n\n\n    // overridden\n    clone : function(embryo)\n    {\n      var clone = this.base(arguments, embryo);\n\n      var nativeClone = {};\n      clone._native = this._cloneNativeEvent(this._native, nativeClone);\n\n      clone._returnValue = this._returnValue;\n\n      return clone;\n    },\n\n\n    /**\n     * Clone the native browser event\n     *\n     * @param nativeEvent {Event} The native browser event\n     * @param clone {Object} The initialized clone.\n     * @return {Object} The cloned event\n     */\n    _cloneNativeEvent : function(nativeEvent, clone)\n    {\n      clone.preventDefault = (function() {});\n      return clone;\n    },\n\n\n    /**\n     * Prevent browser default behavior, e.g. opening the context menu, ...\n     */\n    preventDefault : function()\n    {\n      this.base(arguments);\n      qx.bom.Event.preventDefault(this._native);\n    },\n\n\n    /**\n     * Get the native browser event object of this event.\n     *\n     * @return {Event} The native browser event\n     */\n    getNativeEvent : function() {\n      return this._native;\n    },\n\n\n    /**\n     * Sets the event's return value. If the return value is set in a\n     * beforeunload event, the user will be asked by the browser, whether\n     * he really wants to leave the page. The return string will be displayed in\n     * the message box.\n     *\n     * @param returnValue {String?null} Return value\n     */\n    setReturnValue : function(returnValue) {\n      this._returnValue = returnValue;\n    },\n\n\n    /**\n     * Retrieves the event's return value.\n     *\n     * @return {String?null} The return value\n     */\n    getReturnValue : function() {\n      return this._returnValue;\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * This handler provides event for the window object.\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.event.type.Native)\n * @require(qx.event.Pool)\n */\nqx.Class.define(\"qx.event.handler.Window\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this._manager = manager;\n    this._window = manager.getWindow();\n\n    // Initialize observers\n    this._initWindowObserver();\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      error : 1,\n      load : 1,\n      beforeunload : 1,\n      unload : 1,\n      resize : 1,\n      scroll : 1,\n      beforeshutdown : 1\n    },\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER INIT/STOP\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Initializes the native window event listeners.\n     *\n     */\n    _initWindowObserver : function()\n    {\n      this._onNativeWrapper = qx.lang.Function.listener(this._onNative, this);\n      var types = qx.event.handler.Window.SUPPORTED_TYPES;\n\n      for (var key in types) {\n        qx.bom.Event.addNativeListener(this._window, key, this._onNativeWrapper);\n      }\n    },\n\n\n    /**\n     * Disconnect the native window event listeners.\n     *\n     */\n    _stopWindowObserver : function()\n    {\n      var types = qx.event.handler.Window.SUPPORTED_TYPES;\n\n      for (var key in types) {\n        qx.bom.Event.removeNativeListener(this._window, key, this._onNativeWrapper);\n      }\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE EVENT SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * When qx.globalErrorHandling is enabled the callback will observed\n     */\n    _onNative: function () {\n      var callback = qx.core.Environment.select(\"qx.globalErrorHandling\", {\n        \"true\": qx.event.GlobalError.observeMethod(this.__onNativeHandler),\n        \"false\": this.__onNativeHandler\n      });\n      callback.apply(this, arguments);\n    },\n\n\n    /**\n     * Native listener for all supported events.\n     *\n     * @param e {Event} Native event\n     * @return {String|undefined}\n     */\n    __onNativeHandler: function (e) {\n      if (this.isDisposed()) {\n        return;\n      }\n\n      var win = this._window;\n      var doc;\n      try {\n        doc = win.document;\n      } catch(ex) {\n        // IE7 sometimes dispatches \"unload\" events on protected windows\n        // Ignore these events\n        return;\n      }\n\n      var html = doc.documentElement;\n\n      // At least Safari 3.1 and Opera 9.2.x have a bubbling scroll event\n      // which needs to be ignored here.\n      //\n      // In recent WebKit nightlies scroll events do no longer bubble\n      //\n      // Internet Explorer does not have a target in resize events.\n      var target = qx.bom.Event.getTarget(e);\n      if (target == null || target === win || target === doc || target === html) {\n        var event = qx.event.Registration.createEvent(e.type, qx.event.type.Native, [e, win]);\n        qx.event.Registration.dispatchEvent(win, event);\n\n        var result = event.getReturnValue();\n        if (result != null) {\n          e.returnValue = result;\n          return result;\n        }\n      }\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    this._stopWindowObserver();\n    this._manager = this._window = null;\n  },\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Daniel Wagner (d_wagner)\n     * John Spackman\n\n************************************************************************ */\n\n/**\n * This is the base class for non-browser qooxdoo applications.\n */\nqx.Class.define(\"qx.core.BaseInit\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    __application : null,\n\n\n    /**\n     * Returns the instantiated qooxdoo application.\n     *\n     * @return {qx.core.Object} The application instance.\n     */\n    getApplication : function() {\n      return this.__application || null;\n    },\n\n\n    /**\n     * Runs when the application is loaded. Automatically creates an instance\n     * of the class defined by the setting <code>qx.application</code>.\n     *\n     */\n    ready : function()\n    {\n      if (this.__application) {\n        return;\n      }\n\n      if (qx.core.Environment.get(\"engine.name\") == \"\") {\n        qx.log.Logger.warn(\"Could not detect engine!\");\n      }\n      if (qx.core.Environment.get(\"engine.version\") == \"\") {\n        qx.log.Logger.warn(\"Could not detect the version of the engine!\");\n      }\n      if (qx.core.Environment.get(\"os.name\") == \"\") {\n        qx.log.Logger.warn(\"Could not detect operating system!\");\n      }\n\n      qx.log.Logger.debug(this, \"Load runtime: \" + (new Date - qx.Bootstrap.LOADSTART) + \"ms\");\n\n      var app = qx.core.Environment.get(\"qx.application\");\n      var clazz = qx.Class.getByName(app);\n\n      if (clazz)\n      {\n        this.__application = new clazz;\n\n        var start = new Date;\n        this.__application.main();\n        qx.log.Logger.debug(this, \"Main runtime: \" + (new Date - start) + \"ms\");\n\n        var start = new Date;\n        this.__application.finalize();\n        qx.log.Logger.debug(this, \"Finalize runtime: \" + (new Date - start) + \"ms\");\n      }\n      else\n      {\n        qx.log.Logger.warn(\"Missing application class: \" + app);\n      }\n    },\n\n\n    /**\n     * Runs before the document is unloaded. Calls the application's close\n     * method to check if the unload process should be stopped.\n     *\n     * @param e {qx.event.type.Native} Incoming beforeunload event.\n     */\n    __close : function(e)\n    {\n      var app = this.__application;\n      if (app) {\n        app.close();\n      }\n    },\n\n\n    /**\n     * Runs when the document is unloaded. Automatically terminates a previously\n     * created application instance.\n     *\n     */\n    __shutdown : function()\n    {\n      var app = this.__application;\n\n      if (app) {\n        app.terminate();\n      }\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * This is the base class for all qooxdoo applications.\n *\n * @require(qx.event.handler.Application)\n * @require(qx.event.handler.Window)\n * @require(qx.event.dispatch.Direct)\n */\nqx.Class.define(\"qx.core.Init\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Returns the instantiated qooxdoo application.\n     *\n     * @return {qx.core.Object} The application instance.\n     */\n    getApplication : qx.core.BaseInit.getApplication,\n\n\n    /**\n     * Runs when the application is loaded. Automatically creates an instance\n     * of the class defined by the setting <code>qx.application</code>.\n     *\n     */\n    ready : qx.core.BaseInit.ready,\n\n\n    /**\n     * Runs before the document is unloaded. Calls the application's close\n     * method to check if the unload process should be stopped.\n     *\n     * @param e {qx.event.type.Native} Incoming beforeunload event.\n     */\n    __close : function(e)\n    {\n      var app = this.getApplication();\n      if (app) {\n        e.setReturnValue(app.close());\n      }\n    },\n\n\n    /**\n     * Runs when the document is unloaded. Automatically terminates a previously\n     * created application instance.\n     *\n     */\n    __shutdown : function()\n    {\n      var app = this.getApplication();\n\n      if (app) {\n        app.terminate();\n      }\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics)\n  {\n    qx.event.Registration.addListener(window, \"ready\", statics.ready, statics);\n    qx.event.Registration.addListener(window, \"shutdown\", statics.__shutdown, statics);\n    qx.event.Registration.addListener(window, \"beforeunload\", statics.__close, statics);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2013 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tristan Koch (tristankoch)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Sinon.JS 1.9.1\n\n     Homepage:\n       http://sinonjs.org/\n\n     Documentation:\n       http://sinonjs.org/docs/\n\n     Discussion:\n       http://groups.google.com/group/sinonjs\n\n     Code:\n       https://github.com/cjohansen/Sinon.JS\n\n     Copyright:\n       (c) 2010-2014, Christian Johansen\n\n     License:\n       BSD: http://www.opensource.org/licenses/bsd-license.php\n\n************************************************************************ */\n/**\n * Exposes Sinon.JS to qooxdoo.\n *\n * This class exposes Sinon.JS (http://sinonjs.org/) and is not to be used\n * directly. Instead, you should include qx.dev.unit.MMock in your TestCase\n * and use the wrappers provided.\n *\n * @internal\n * @ignore(module, require, global, ProgressEvent, CustomEvent, clearImmediate)\n * @ignore(process.*) \n * @lint ignoreDeprecated(eval)\n * @ignore(module.exports.*)\n *\n */\nqx.Bootstrap.define(\"qx.dev.unit.Sinon\",\n{\n  statics :\n  {\n    /**\n     * Get the Sinon.JS object.\n     *\n     * @signature function()\n     * @return {Object} The Sinon.JS object\n     *\n     */\n    getSinon: null\n  }\n});\n\n\n/**\n * @ignore(module, require, global, process.*, setImmediate)\n * @ignore(msSetImmediate)\n * @lint ignoreUnused(alen, requestMethod, index)\n * @lint ignoreNoLoopBlock()\n * @ignore (process.*)  \n * @ignore (setTimeout.*) \n *\n * @lint ignoreJsdocKey(author, license, depend)\n */\n(function() {\n\n/**\n * Below is the original Sinon.JS code with some minor changes:\n *\n * - aliased \"throws\" as \"throwsException\"\n * - replaced references to this.sinon which do not make sense within a closure\n * - in failAssertion, \"assert.fail\" takes precedence over \"object.fail\"\n *\n */\n/**\n * Sinon.JS 1.9.1, 2014/04/03\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @author Contributors: https://github.com/cjohansen/Sinon.JS/blob/master/AUTHORS\n *\n * (The BSD License)\n *\n * Copyright (c) 2010-2014, Christian Johansen, christian@cjohansen.no\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *\n *     * Redistributions of source code must retain the above copyright notice,\n *       this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright notice,\n *       this list of conditions and the following disclaimer in the documentation\n *       and/or other materials provided with the distribution.\n *     * Neither the name of Christian Johansen nor the names of his contributors\n *       may be used to endorse or promote products derived from this software\n *       without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nthis.sinon = (function () {\nvar samsam, formatio;\nfunction define(mod, deps, fn) { if (mod == \"samsam\") { samsam = deps(); } else { formatio = fn(samsam); } }\ndefine.amd = true;\n((typeof define === \"function\" && define.amd && function (m) { define(\"samsam\", m); }) ||\n (typeof module === \"object\" &&\n      function (m) { module.exports = m(); }) || // Node\n function (m) { this.samsam = m(); } // Browser globals\n)(function () {\n    var o = Object.prototype;\n    var div = typeof document !== \"undefined\" && document.createElement(\"div\");\n\n    function isNaN(value) {\n        // Unlike global isNaN, this avoids type coercion\n        // typeof check avoids IE host object issues, hat tip to\n        // lodash\n        var val = value; // JsLint thinks value !== value is \"weird\"\n        return typeof value === \"number\" && value !== val;\n    }\n\n    function getClass(value) {\n        // Returns the internal [[Class]] by calling Object.prototype.toString\n        // with the provided value as this. Return value is a string, naming the\n        // internal class, e.g. \"Array\"\n        return o.toString.call(value).split(/[ \\]]/)[1];\n    }\n\n    /**\n     * @param object {Object}\n     *\n     * Returns ``true`` if ``object`` is an ``arguments`` object,\n     * ``false`` otherwise.\n     */\n    function isArguments(object) {\n        if (typeof object !== \"object\" || typeof object.length !== \"number\" ||\n                getClass(object) === \"Array\") {\n            return false;\n        }\n        if (typeof object.callee == \"function\") { return true; }\n        try {\n            object[object.length] = 6;\n            delete object[object.length];\n        } catch (e) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * @param object {Object}\n     *\n     * Returns ``true`` if ``object`` is a DOM element node. Unlike\n     * Underscore.js/lodash, this function will return ``false`` if ``object``\n     * is an *element-like* object, i.e. a regular object with a ``nodeType``\n     * property that holds the value ``1``.\n     */\n    function isElement(object) {\n        if (!object || object.nodeType !== 1 || !div) { return false; }\n        try {\n            object.appendChild(div);\n            object.removeChild(div);\n        } catch (e) {\n            return false;\n        }\n        return true;\n    }\n\n    /**\n     * @param object {Object}\n     *\n     * Return an array of own property names.\n     */\n    function keys(object) {\n        var ks = [], prop;\n        for (prop in object) {\n            if (o.hasOwnProperty.call(object, prop)) { ks.push(prop); }\n        }\n        return ks;\n    }\n\n    /**\n     * @param value {Object}\n     *\n     * Returns true if the object is a ``Date``, or *date-like*. Duck typing\n     * of date objects work by checking that the object has a ``getTime``\n     * function whose return value equals the return value from the object's\n     * ``valueOf``.\n     */\n    function isDate(value) {\n        return typeof value.getTime == \"function\" &&\n            value.getTime() == value.valueOf();\n    }\n\n    /**\n     * @param value {Object}\n     *\n     * Returns ``true`` if ``value`` is ``-0``.\n     */\n    function isNegZero(value) {\n        return value === 0 && 1 / value === -Infinity;\n    }\n\n    /**\n     * @param obj1 {Object}\n     * @param obj2 {Object}\n     *\n     * Returns ``true`` if two objects are strictly equal. Compared to\n     * ``===`` there are two exceptions:\n     *\n     *   - NaN is considered equal to NaN\n     *   - -0 and +0 are not considered equal\n     */\n    function identical(obj1, obj2) {\n        if (obj1 === obj2 || (isNaN(obj1) && isNaN(obj2))) {\n            return obj1 !== 0 || isNegZero(obj1) === isNegZero(obj2);\n        }\n    }\n\n\n    /**\n     * @param obj1 {Object}\n     * @param obj2 {Object}\n     *\n     * Deep equal comparison. Two values are \"deep equal\" if:\n     *\n     *   - They are equal, according to samsam.identical\n     *   - They are both date objects representing the same time\n     *   - They are both arrays containing elements that are all deepEqual\n     *   - They are objects with the same set of properties, and each property\n     *     in ``obj1`` is deepEqual to the corresponding property in ``obj2``\n     *\n     * Supports cyclic objects.\n     */\n    function deepEqualCyclic(obj1, obj2) {\n\n        // used for cyclic comparison\n        // contain already visited objects\n        var objects1 = [],\n            objects2 = [],\n        // contain pathes (position in the object structure)\n        // of the already visited objects\n        // indexes same as in objects arrays\n            paths1 = [],\n            paths2 = [],\n        // contains combinations of already compared objects\n        // in the manner: { \"$1['ref']$2['ref']\": true }\n            compared = {};\n\n        /**\n         * used to check, if the value of a property is an object\n         * (cyclic logic is only needed for objects)\n         * only needed for cyclic logic\n         */\n        function isObject(value) {\n\n            if (typeof value === 'object' && value !== null &&\n                    !(value instanceof Boolean) &&\n                    !(value instanceof Date)    &&\n                    !(value instanceof Number)  &&\n                    !(value instanceof RegExp)  &&\n                    !(value instanceof String)) {\n\n                return true;\n            }\n\n            return false;\n        }\n\n        /**\n         * returns the index of the given object in the\n         * given objects array, -1 if not contained\n         * only needed for cyclic logic\n         */\n        function getIndex(objects, obj) {\n\n            var i;\n            for (i = 0; i < objects.length; i++) {\n                if (objects[i] === obj) {\n                    return i;\n                }\n            }\n\n            return -1;\n        }\n\n        // does the recursion for the deep equal check\n        return (function deepEqual(obj1, obj2, path1, path2) {\n            var type1 = typeof obj1;\n            var type2 = typeof obj2;\n\n            // == null also matches undefined\n            if (obj1 === obj2 ||\n                    isNaN(obj1) || isNaN(obj2) ||\n                    obj1 == null || obj2 == null ||\n                    type1 !== \"object\" || type2 !== \"object\") {\n\n                return identical(obj1, obj2);\n            }\n\n            // Elements are only equal if identical(expected, actual)\n            if (isElement(obj1) || isElement(obj2)) { return false; }\n\n            var isDate1 = isDate(obj1), isDate2 = isDate(obj2);\n            if (isDate1 || isDate2) {\n                if (!isDate1 || !isDate2 || obj1.getTime() !== obj2.getTime()) {\n                    return false;\n                }\n            }\n\n            if (obj1 instanceof RegExp && obj2 instanceof RegExp) {\n                if (obj1.toString() !== obj2.toString()) { return false; }\n            }\n\n            var class1 = getClass(obj1);\n            var class2 = getClass(obj2);\n            var keys1 = keys(obj1);\n            var keys2 = keys(obj2);\n\n            if (isArguments(obj1) || isArguments(obj2)) {\n                if (obj1.length !== obj2.length) { return false; }\n            } else {\n                if (type1 !== type2 || class1 !== class2 ||\n                        keys1.length !== keys2.length) {\n                    return false;\n                }\n            }\n\n            var key, i, l,\n                // following vars are used for the cyclic logic\n                value1, value2,\n                isObject1, isObject2,\n                index1, index2,\n                newPath1, newPath2;\n\n            for (i = 0, l = keys1.length; i < l; i++) {\n                key = keys1[i];\n                if (!o.hasOwnProperty.call(obj2, key)) {\n                    return false;\n                }\n\n                // Start of the cyclic logic\n\n                value1 = obj1[key];\n                value2 = obj2[key];\n\n                isObject1 = isObject(value1);\n                isObject2 = isObject(value2);\n\n                // determine, if the objects were already visited\n                // (it's faster to check for isObject first, than to\n                // get -1 from getIndex for non objects)\n                index1 = isObject1 ? getIndex(objects1, value1) : -1;\n                index2 = isObject2 ? getIndex(objects2, value2) : -1;\n\n                // determine the new pathes of the objects\n                // - for non cyclic objects the current path will be extended\n                //   by current property name\n                // - for cyclic objects the stored path is taken\n                newPath1 = index1 !== -1\n                    ? paths1[index1]\n                    : path1 + '[' + JSON.stringify(key) + ']';\n                newPath2 = index2 !== -1\n                    ? paths2[index2]\n                    : path2 + '[' + JSON.stringify(key) + ']';\n\n                // stop recursion if current objects are already compared\n                if (compared[newPath1 + newPath2]) {\n                    return true;\n                }\n\n                // remember the current objects and their pathes\n                if (index1 === -1 && isObject1) {\n                    objects1.push(value1);\n                    paths1.push(newPath1);\n                }\n                if (index2 === -1 && isObject2) {\n                    objects2.push(value2);\n                    paths2.push(newPath2);\n                }\n\n                // remember that the current objects are already compared\n                if (isObject1 && isObject2) {\n                    compared[newPath1 + newPath2] = true;\n                }\n\n                // End of cyclic logic\n\n                // neither value1 nor value2 is a cycle\n                // continue with next level\n                if (!deepEqual(value1, value2, newPath1, newPath2)) {\n                    return false;\n                }\n            }\n\n            return true;\n\n        }(obj1, obj2, '$1', '$2'));\n    }\n\n    var match;\n\n    function arrayContains(array, subset) {\n        if (subset.length === 0) { return true; }\n        var i, l, j, k;\n        for (i = 0, l = array.length; i < l; ++i) {\n            if (match(array[i], subset[0])) {\n                for (j = 0, k = subset.length; j < k; ++j) {\n                    if (!match(array[i + j], subset[j])) { return false; }\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * @param object {Object}\n     * @param matcher {object}\n     *\n     * Compare arbitrary value ``object`` with matcher.\n     */\n    match = function match(object, matcher) {\n        if (matcher && typeof matcher.test === \"function\") {\n            return matcher.test(object);\n        }\n\n        if (typeof matcher === \"function\") {\n            return matcher(object) === true;\n        }\n\n        if (typeof matcher === \"string\") {\n            matcher = matcher.toLowerCase();\n            var notNull = typeof object === \"string\" || !!object;\n            return notNull &&\n                (String(object)).toLowerCase().indexOf(matcher) >= 0;\n        }\n\n        if (typeof matcher === \"number\") {\n            return matcher === object;\n        }\n\n        if (typeof matcher === \"boolean\") {\n            return matcher === object;\n        }\n\n        if (getClass(object) === \"Array\" && getClass(matcher) === \"Array\") {\n            return arrayContains(object, matcher);\n        }\n\n        if (matcher && typeof matcher === \"object\") {\n            var prop;\n            for (prop in matcher) {\n                if (!match(object[prop], matcher[prop])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        throw new Error(\"Matcher was not a string, a number, a \" +\n                        \"function, a boolean or an object\");\n    };\n\n    return {\n        isArguments: isArguments,\n        isElement: isElement,\n        isDate: isDate,\n        isNegZero: isNegZero,\n        identical: identical,\n        deepEqual: deepEqualCyclic,\n        match: match,\n        keys: keys\n    };\n});\n((typeof define === \"function\" && define.amd && function (m) {\n    define(\"formatio\", [\"samsam\"], m);\n}) || (typeof module === \"object\" && function (m) {\n    module.exports = m(require(\"samsam\"));\n}) || function (m) { this.formatio = m(this.samsam); }\n)(function (samsam) {\n\n    var formatio = {\n        excludeConstructors: [\"Object\", /^.$/],\n        quoteStrings: true\n    };\n\n    var specialObjects = [];\n    if (typeof global !== \"undefined\") {\n        specialObjects.push({ object: global, value: \"[object global]\" });\n    }\n    if (typeof document !== \"undefined\") {\n        specialObjects.push({\n            object: document,\n            value: \"[object HTMLDocument]\"\n        });\n    }\n    if (typeof window !== \"undefined\") {\n        specialObjects.push({ object: window, value: \"[object Window]\" });\n    }\n\n    function functionName(func) {\n        if (!func) { return \"\"; }\n        if (func.displayName) { return func.displayName; }\n        if (func.name) { return func.name; }\n        var matches = func.toString().match(/function\\s+([^\\(]+)/m);\n        return (matches && matches[1]) || \"\";\n    }\n\n    function constructorName(f, object) {\n        var name = functionName(object && object.constructor);\n        var excludes = f.excludeConstructors ||\n                formatio.excludeConstructors || [];\n\n        var i, l;\n        for (i = 0, l = excludes.length; i < l; ++i) {\n            if (typeof excludes[i] === \"string\" && excludes[i] === name) {\n                return \"\";\n            } else if (excludes[i].test && excludes[i].test(name)) {\n                return \"\";\n            }\n        }\n\n        return name;\n    }\n\n    function isCircular(object, objects) {\n        if (typeof object !== \"object\") { return false; }\n        var i, l;\n        for (i = 0, l = objects.length; i < l; ++i) {\n            if (objects[i] === object) { return true; }\n        }\n        return false;\n    }\n\n    function ascii(f, object, processed, indent) {\n        if (typeof object === \"string\") {\n            var qs = f.quoteStrings;\n            var quote = typeof qs !== \"boolean\" || qs;\n            return processed || quote ? '\"' + object + '\"' : object;\n        }\n\n        if (typeof object === \"function\" && !(object instanceof RegExp)) {\n            return ascii.func(object);\n        }\n\n        processed = processed || [];\n\n        if (isCircular(object, processed)) { return \"[Circular]\"; }\n\n        if (Object.prototype.toString.call(object) === \"[object Array]\") {\n            return ascii.array.call(f, object, processed);\n        }\n\n        if (!object) { return String((1/object) === -Infinity ? \"-0\" : object); }\n        if (samsam.isElement(object)) { return ascii.element(object); }\n\n        if (typeof object.toString === \"function\" &&\n                object.toString !== Object.prototype.toString) {\n            return object.toString();\n        }\n\n        var i, l;\n        for (i = 0, l = specialObjects.length; i < l; i++) {\n            if (object === specialObjects[i].object) {\n                return specialObjects[i].value;\n            }\n        }\n\n        return ascii.object.call(f, object, processed, indent);\n    }\n\n    ascii.func = function (func) {\n        return \"function \" + functionName(func) + \"() {}\";\n    };\n\n    ascii.array = function (array, processed) {\n        processed = processed || [];\n        processed.push(array);\n        var i, l, pieces = [];\n        for (i = 0, l = array.length; i < l; ++i) {\n            pieces.push(ascii(this, array[i], processed));\n        }\n        return \"[\" + pieces.join(\", \") + \"]\";\n    };\n\n    ascii.object = function (object, processed, indent) {\n        processed = processed || [];\n        processed.push(object);\n        indent = indent || 0;\n        var pieces = [], properties = samsam.keys(object).sort();\n        var length = 3;\n        var prop, str, obj, i, l;\n\n        for (i = 0, l = properties.length; i < l; ++i) {\n            prop = properties[i];\n            obj = object[prop];\n\n            if (isCircular(obj, processed)) {\n                str = \"[Circular]\";\n            } else {\n                str = ascii(this, obj, processed, indent + 2);\n            }\n\n            str = (/\\s/.test(prop) ? '\"' + prop + '\"' : prop) + \": \" + str;\n            length += str.length;\n            pieces.push(str);\n        }\n\n        var cons = constructorName(this, object);\n        var prefix = cons ? \"[\" + cons + \"] \" : \"\";\n        var is = \"\";\n        for (i = 0, l = indent; i < l; ++i) { is += \" \"; }\n\n        if (length + indent > 80) {\n            return prefix + \"{\\n  \" + is + pieces.join(\",\\n  \" + is) + \"\\n\" +\n                is + \"}\";\n        }\n        return prefix + \"{ \" + pieces.join(\", \") + \" }\";\n    };\n\n    ascii.element = function (element) {\n        var tagName = element.tagName.toLowerCase();\n        var attrs = element.attributes, attr, pairs = [], attrName, i, l, val;\n\n        for (i = 0, l = attrs.length; i < l; ++i) {\n            attr = attrs.item(i);\n            attrName = attr.nodeName.toLowerCase().replace(\"html:\", \"\");\n            val = attr.nodeValue;\n            if (attrName !== \"contenteditable\" || val !== \"inherit\") {\n                if (!!val) { pairs.push(attrName + \"=\\\"\" + val + \"\\\"\"); }\n            }\n        }\n\n        var formatted = \"<\" + tagName + (pairs.length > 0 ? \" \" : \"\");\n        var content = element.innerHTML;\n\n        if (content.length > 20) {\n            content = content.substr(0, 20) + \"[...]\";\n        }\n\n        var res = formatted + pairs.join(\" \") + \">\" + content +\n                \"</\" + tagName + \">\";\n\n        return res.replace(/ contentEditable=\"inherit\"/, \"\");\n    };\n\n    function Formatio(options) {\n        for (var opt in options) {\n            this[opt] = options[opt];\n        }\n    }\n\n    Formatio.prototype = {\n        functionName: functionName,\n\n        configure: function (options) {\n            return new Formatio(options);\n        },\n\n        constructorName: function (object) {\n            return constructorName(this, object);\n        },\n\n        ascii: function (object, processed, indent) {\n            return ascii(this, object, processed, indent);\n        }\n    };\n\n    return Formatio.prototype;\n});\n/*jslint eqeqeq: false, onevar: false, forin: true, nomen: false, regexp: false, plusplus: false*/\n/*global module, require, __dirname, document*/\n/**\n * Sinon core utilities. For internal use only.\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\nvar sinon = (function (formatio) {\n    var div = typeof document != \"undefined\" && document.createElement(\"div\");\n    var hasOwn = Object.prototype.hasOwnProperty;\n\n    function isDOMNode(obj) {\n        var success = false;\n\n        try {\n            obj.appendChild(div);\n            success = div.parentNode == obj;\n        } catch (e) {\n            return false;\n        } finally {\n            try {\n                obj.removeChild(div);\n            } catch (e) {\n                // Remove failed, not much we can do about that\n            }\n        }\n\n        return success;\n    }\n\n    function isElement(obj) {\n        return div && obj && obj.nodeType === 1 && isDOMNode(obj);\n    }\n\n    function isFunction(obj) {\n        return typeof obj === \"function\" || !!(obj && obj.constructor && obj.call && obj.apply);\n    }\n\n    function isReallyNaN(val) {\n        return typeof val === 'number' && isNaN(val);\n    }\n\n    function mirrorProperties(target, source) {\n        for (var prop in source) {\n            if (!hasOwn.call(target, prop)) {\n                target[prop] = source[prop];\n            }\n        }\n    }\n\n    function isRestorable (obj) {\n        return typeof obj === \"function\" && typeof obj.restore === \"function\" && obj.restore.sinon;\n    }\n\n    var sinon = {\n        wrapMethod: function wrapMethod(object, property, method) {\n            if (!object) {\n                throw new TypeError(\"Should wrap property of object\");\n            }\n\n            if (typeof method != \"function\") {\n                throw new TypeError(\"Method wrapper should be function\");\n            }\n\n            var wrappedMethod = object[property],\n                error;\n\n            if (!isFunction(wrappedMethod)) {\n                error = new TypeError(\"Attempted to wrap \" + (typeof wrappedMethod) + \" property \" +\n                                    property + \" as function\");\n            }\n\n            if (wrappedMethod.restore && wrappedMethod.restore.sinon) {\n                error = new TypeError(\"Attempted to wrap \" + property + \" which is already wrapped\");\n            }\n\n            if (wrappedMethod.calledBefore) {\n                var verb = !!wrappedMethod.returns ? \"stubbed\" : \"spied on\";\n                error = new TypeError(\"Attempted to wrap \" + property + \" which is already \" + verb);\n            }\n\n            if (error) {\n                if (wrappedMethod._stack) {\n                    error.stack += '\\n--------------\\n' + wrappedMethod._stack;\n                }\n                throw error;\n            }\n\n            // IE 8 does not support hasOwnProperty on the window object and Firefox has a problem\n            // when using hasOwn.call on objects from other frames.\n            var owned = object.hasOwnProperty ? object.hasOwnProperty(property) : hasOwn.call(object, property);\n            object[property] = method;\n            method.displayName = property;\n            // Set up a stack trace which can be used later to find what line of\n            // code the original method was created on.\n            method._stack = (new Error('Stack Trace for original')).stack;\n\n            method.restore = function () {\n                // For prototype properties try to reset by delete first.\n                // If this fails (ex: localStorage on mobile safari) then force a reset\n                // via direct assignment.\n                if (!owned) {\n                    delete object[property];\n                }\n                if (object[property] === method) {\n                    object[property] = wrappedMethod;\n                }\n            };\n\n            method.restore.sinon = true;\n            mirrorProperties(method, wrappedMethod);\n\n            return method;\n        },\n\n        extend: function extend(target) {\n            for (var i = 1, l = arguments.length; i < l; i += 1) {\n                for (var prop in arguments[i]) {\n                    if (arguments[i].hasOwnProperty(prop)) {\n                        target[prop] = arguments[i][prop];\n                    }\n\n                    // DONT ENUM bug, only care about toString\n                    if (arguments[i].hasOwnProperty(\"toString\") &&\n                        arguments[i].toString != target.toString) {\n                        target.toString = arguments[i].toString;\n                    }\n                }\n            }\n\n            return target;\n        },\n\n        create: function create(proto) {\n            var F = function () {};\n            F.prototype = proto;\n            return new F();\n        },\n\n        deepEqual: function deepEqual(a, b) {\n            if (sinon.match && sinon.match.isMatcher(a)) {\n                return a.test(b);\n            }\n\n            if (typeof a != 'object' || typeof b != 'object') {\n                if (isReallyNaN(a) && isReallyNaN(b)) {\n                    return true;\n                } else {\n                    return a === b;\n                }\n            }\n\n            if (isElement(a) || isElement(b)) {\n                return a === b;\n            }\n\n            if (a === b) {\n                return true;\n            }\n\n            if ((a === null && b !== null) || (a !== null && b === null)) {\n                return false;\n            }\n\n            if (a instanceof RegExp && b instanceof RegExp) {\n              return (a.source === b.source) && (a.global === b.global) &&\n                (a.ignoreCase === b.ignoreCase) && (a.multiline === b.multiline);\n            }\n\n            var aString = Object.prototype.toString.call(a);\n            if (aString != Object.prototype.toString.call(b)) {\n                return false;\n            }\n\n            if (aString == \"[object Date]\") {\n                return a.valueOf() === b.valueOf();\n            }\n\n            var prop, aLength = 0, bLength = 0;\n\n            if (aString == \"[object Array]\" && a.length !== b.length) {\n                return false;\n            }\n\n            for (prop in a) {\n                aLength += 1;\n\n                if (!deepEqual(a[prop], b[prop])) {\n                    return false;\n                }\n            }\n\n            for (prop in b) {\n                bLength += 1;\n            }\n\n            return aLength == bLength;\n        },\n\n        functionName: function functionName(func) {\n            var name = func.displayName || func.name;\n\n            // Use function decomposition as a last resort to get function\n            // name. Does not rely on function decomposition to work - if it\n            // doesn't debugging will be slightly less informative\n            // (i.e. toString will say 'spy' rather than 'myFunc').\n            if (!name) {\n                var matches = func.toString().match(/function ([^\\s\\(]+)/);\n                name = matches && matches[1];\n            }\n\n            return name;\n        },\n\n        functionToString: function toString() {\n            if (this.getCall && this.callCount) {\n                var thisValue, prop, i = this.callCount;\n\n                while (i--) {\n                    thisValue = this.getCall(i).thisValue;\n\n                    for (prop in thisValue) {\n                        if (thisValue[prop] === this) {\n                            return prop;\n                        }\n                    }\n                }\n            }\n\n            return this.displayName || \"sinon fake\";\n        },\n\n        getConfig: function (custom) {\n            var config = {};\n            custom = custom || {};\n            var defaults = sinon.defaultConfig;\n\n            for (var prop in defaults) {\n                if (defaults.hasOwnProperty(prop)) {\n                    config[prop] = custom.hasOwnProperty(prop) ? custom[prop] : defaults[prop];\n                }\n            }\n\n            return config;\n        },\n\n        format: function (val) {\n            return \"\" + val;\n        },\n\n        defaultConfig: {\n            injectIntoThis: true,\n            injectInto: null,\n            properties: [\"spy\", \"stub\", \"mock\", \"clock\", \"server\", \"requests\"],\n            useFakeTimers: true,\n            useFakeServer: true\n        },\n\n        timesInWords: function timesInWords(count) {\n            return count == 1 && \"once\" ||\n                count == 2 && \"twice\" ||\n                count == 3 && \"thrice\" ||\n                (count || 0) + \" times\";\n        },\n\n        calledInOrder: function (spies) {\n            for (var i = 1, l = spies.length; i < l; i++) {\n                if (!spies[i - 1].calledBefore(spies[i]) || !spies[i].called) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        orderByFirstCall: function (spies) {\n            return spies.sort(function (a, b) {\n                // uuid, won't ever be equal\n                var aCall = a.getCall(0);\n                var bCall = b.getCall(0);\n                var aId = aCall && aCall.callId || -1;\n                var bId = bCall && bCall.callId || -1;\n\n                return aId < bId ? -1 : 1;\n            });\n        },\n\n        log: function () {},\n\n        logError: function (label, err) {\n            var msg = label + \" threw exception: \";\n            sinon.log(msg + \"[\" + err.name + \"] \" + err.message);\n            if (err.stack) { sinon.log(err.stack); }\n\n            setTimeout(function () {\n                err.message = msg + err.message;\n                throw err;\n            }, 0);\n        },\n\n        typeOf: function (value) {\n            if (value === null) {\n                return \"null\";\n            }\n            else if (value === undefined) {\n                return \"undefined\";\n            }\n            var string = Object.prototype.toString.call(value);\n            return string.substring(8, string.length - 1).toLowerCase();\n        },\n\n        createStubInstance: function (constructor) {\n            if (typeof constructor !== \"function\") {\n                throw new TypeError(\"The constructor should be a function.\");\n            }\n            return sinon.stub(sinon.create(constructor.prototype));\n        },\n\n        restore: function (object) {\n            if (object !== null && typeof object === \"object\") {\n                for (var prop in object) {\n                    if (isRestorable(object[prop])) {\n                        object[prop].restore();\n                    }\n                }\n            }\n            else if (isRestorable(object)) {\n                object.restore();\n            }\n        }\n    };\n\n    var isNode = typeof module !== \"undefined\" && module.exports;\n    var isAMD = typeof define === 'function' && typeof define.amd === 'object' && define.amd;\n\n    if (isAMD) {\n        define(function(){\n            return sinon;\n        });\n    } else if (isNode) {\n        try {\n            formatio = require(\"formatio\");\n        } catch (e) {}\n        module.exports = sinon;\n        module.exports.spy = require(\"./sinon/spy\");\n        module.exports.spyCall = require(\"./sinon/call\");\n        module.exports.behavior = require(\"./sinon/behavior\");\n        module.exports.stub = require(\"./sinon/stub\");\n        module.exports.mock = require(\"./sinon/mock\");\n        module.exports.collection = require(\"./sinon/collection\");\n        module.exports.assert = require(\"./sinon/assert\");\n        module.exports.sandbox = require(\"./sinon/sandbox\");\n        module.exports.test = require(\"./sinon/test\");\n        module.exports.testCase = require(\"./sinon/test_case\");\n        module.exports.assert = require(\"./sinon/assert\");\n        module.exports.match = require(\"./sinon/match\");\n    }\n\n    if (formatio) {\n        var formatter = formatio.configure({ quoteStrings: false });\n        sinon.format = function () {\n            return formatter.ascii.apply(formatter, arguments);\n        };\n    } else if (isNode) {\n        try {\n            var util = require(\"util\");\n            sinon.format = function (value) {\n                return typeof value == \"object\" && value.toString === Object.prototype.toString ? util.inspect(value) : value;\n            };\n        } catch (e) {\n            /* Node, but no util module - would be very old, but better safe than\n             sorry */\n        }\n    }\n\n    return sinon;\n}(typeof formatio == \"object\" && formatio));\n\n/* @depend ../sinon.js */\n/*jslint eqeqeq: false, onevar: false, plusplus: false*/\n/*global module, require, sinon*/\n/**\n * Match functions\n *\n * @author Maximilian Antoni (mail@maxantoni.de)\n * @license BSD\n *\n * Copyright (c) 2012 Maximilian Antoni\n */\n\n(function (sinon) {\n    var commonJSModule = typeof module !== 'undefined' && module.exports;\n\n    if (!sinon && commonJSModule) {\n        sinon = require(\"../sinon\");\n    }\n\n    if (!sinon) {\n        return;\n    }\n\n    function assertType(value, type, name) {\n        var actual = sinon.typeOf(value);\n        if (actual !== type) {\n            throw new TypeError(\"Expected type of \" + name + \" to be \" +\n                type + \", but was \" + actual);\n        }\n    }\n\n    var matcher = {\n        toString: function () {\n            return this.message;\n        }\n    };\n\n    function isMatcher(object) {\n        return matcher.isPrototypeOf(object);\n    }\n\n    function matchObject(expectation, actual) {\n        if (actual === null || actual === undefined) {\n            return false;\n        }\n        for (var key in expectation) {\n            if (expectation.hasOwnProperty(key)) {\n                var exp = expectation[key];\n                var act = actual[key];\n                if (match.isMatcher(exp)) {\n                    if (!exp.test(act)) {\n                        return false;\n                    }\n                } else if (sinon.typeOf(exp) === \"object\") {\n                    if (!matchObject(exp, act)) {\n                        return false;\n                    }\n                } else if (!sinon.deepEqual(exp, act)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    matcher.or = function (m2) {\n        if (!arguments.length) {\n            throw new TypeError(\"Matcher expected\");\n        } else if (!isMatcher(m2)) {\n            m2 = match(m2);\n        }\n        var m1 = this;\n        var or = sinon.create(matcher);\n        or.test = function (actual) {\n            return m1.test(actual) || m2.test(actual);\n        };\n        or.message = m1.message + \".or(\" + m2.message + \")\";\n        return or;\n    };\n\n    matcher.and = function (m2) {\n        if (!arguments.length) {\n            throw new TypeError(\"Matcher expected\");\n        } else if (!isMatcher(m2)) {\n            m2 = match(m2);\n        }\n        var m1 = this;\n        var and = sinon.create(matcher);\n        and.test = function (actual) {\n            return m1.test(actual) && m2.test(actual);\n        };\n        and.message = m1.message + \".and(\" + m2.message + \")\";\n        return and;\n    };\n\n    var match = function (expectation, message) {\n        var m = sinon.create(matcher);\n        var type = sinon.typeOf(expectation);\n        switch (type) {\n        case \"object\":\n            if (typeof expectation.test === \"function\") {\n                m.test = function (actual) {\n                    return expectation.test(actual) === true;\n                };\n                m.message = \"match(\" + sinon.functionName(expectation.test) + \")\";\n                return m;\n            }\n            var str = [];\n            for (var key in expectation) {\n                if (expectation.hasOwnProperty(key)) {\n                    str.push(key + \": \" + expectation[key]);\n                }\n            }\n            m.test = function (actual) {\n                return matchObject(expectation, actual);\n            };\n            m.message = \"match(\" + str.join(\", \") + \")\";\n            break;\n        case \"number\":\n            m.test = function (actual) {\n                return expectation == actual;\n            };\n            break;\n        case \"string\":\n            m.test = function (actual) {\n                if (typeof actual !== \"string\") {\n                    return false;\n                }\n                return actual.indexOf(expectation) !== -1;\n            };\n            m.message = \"match(\\\"\" + expectation + \"\\\")\";\n            break;\n        case \"regexp\":\n            m.test = function (actual) {\n                if (typeof actual !== \"string\") {\n                    return false;\n                }\n                return expectation.test(actual);\n            };\n            break;\n        case \"function\":\n            m.test = expectation;\n            if (message) {\n                m.message = message;\n            } else {\n                m.message = \"match(\" + sinon.functionName(expectation) + \")\";\n            }\n            break;\n        default:\n            m.test = function (actual) {\n              return sinon.deepEqual(expectation, actual);\n            };\n        }\n        if (!m.message) {\n            m.message = \"match(\" + expectation + \")\";\n        }\n        return m;\n    };\n\n    match.isMatcher = isMatcher;\n\n    match.any = match(function () {\n        return true;\n    }, \"any\");\n\n    match.defined = match(function (actual) {\n        return actual !== null && actual !== undefined;\n    }, \"defined\");\n\n    match.truthy = match(function (actual) {\n        return !!actual;\n    }, \"truthy\");\n\n    match.falsy = match(function (actual) {\n        return !actual;\n    }, \"falsy\");\n\n    match.same = function (expectation) {\n        return match(function (actual) {\n            return expectation === actual;\n        }, \"same(\" + expectation + \")\");\n    };\n\n    match.typeOf = function (type) {\n        assertType(type, \"string\", \"type\");\n        return match(function (actual) {\n            return sinon.typeOf(actual) === type;\n        }, \"typeOf(\\\"\" + type + \"\\\")\");\n    };\n\n    match.instanceOf = function (type) {\n        assertType(type, \"function\", \"type\");\n        return match(function (actual) {\n            return actual instanceof type;\n        }, \"instanceOf(\" + sinon.functionName(type) + \")\");\n    };\n\n    function createPropertyMatcher(propertyTest, messagePrefix) {\n        return function (property, value) {\n            assertType(property, \"string\", \"property\");\n            var onlyProperty = arguments.length === 1;\n            var message = messagePrefix + \"(\\\"\" + property + \"\\\"\";\n            if (!onlyProperty) {\n                message += \", \" + value;\n            }\n            message += \")\";\n            return match(function (actual) {\n                if (actual === undefined || actual === null ||\n                        !propertyTest(actual, property)) {\n                    return false;\n                }\n                return onlyProperty || sinon.deepEqual(value, actual[property]);\n            }, message);\n        };\n    }\n\n    match.has = createPropertyMatcher(function (actual, property) {\n        if (typeof actual === \"object\") {\n            return property in actual;\n        }\n        return actual[property] !== undefined;\n    }, \"has\");\n\n    match.hasOwn = createPropertyMatcher(function (actual, property) {\n        return actual.hasOwnProperty(property);\n    }, \"hasOwn\");\n\n    match.bool = match.typeOf(\"boolean\");\n    match.number = match.typeOf(\"number\");\n    match.string = match.typeOf(\"string\");\n    match.object = match.typeOf(\"object\");\n    match.func = match.typeOf(\"function\");\n    match.array = match.typeOf(\"array\");\n    match.regexp = match.typeOf(\"regexp\");\n    match.date = match.typeOf(\"date\");\n\n    if (commonJSModule) {\n        module.exports = match;\n    } else {\n        sinon.match = match;\n    }\n}(typeof sinon == \"object\" && sinon || null));\n\n/**\n  * @depend ../sinon.js\n  * @depend match.js\n  */\n/*jslint eqeqeq: false, onevar: false, plusplus: false*/\n/*global module, require, sinon*/\n/**\n  * Spy calls\n  *\n  * @author Christian Johansen (christian@cjohansen.no)\n  * @author Maximilian Antoni (mail@maxantoni.de)\n  * @license BSD\n  *\n  * Copyright (c) 2010-2013 Christian Johansen\n  * Copyright (c) 2013 Maximilian Antoni\n  */\n\n(function (sinon) {\n    var commonJSModule = typeof module !== 'undefined' && module.exports;\n    if (!sinon && commonJSModule) {\n        sinon = require(\"../sinon\");\n    }\n\n    if (!sinon) {\n        return;\n    }\n\n    function throwYieldError(proxy, text, args) {\n        var msg = sinon.functionName(proxy) + text;\n        if (args.length) {\n            msg += \" Received [\" + slice.call(args).join(\", \") + \"]\";\n        }\n        throw new Error(msg);\n    }\n\n    var slice = Array.prototype.slice;\n\n    var callProto = {\n        calledOn: function calledOn(thisValue) {\n            if (sinon.match && sinon.match.isMatcher(thisValue)) {\n                return thisValue.test(this.thisValue);\n            }\n            return this.thisValue === thisValue;\n        },\n\n        calledWith: function calledWith() {\n            for (var i = 0, l = arguments.length; i < l; i += 1) {\n                if (!sinon.deepEqual(arguments[i], this.args[i])) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        calledWithMatch: function calledWithMatch() {\n            for (var i = 0, l = arguments.length; i < l; i += 1) {\n                var actual = this.args[i];\n                var expectation = arguments[i];\n                if (!sinon.match || !sinon.match(expectation).test(actual)) {\n                    return false;\n                }\n            }\n            return true;\n        },\n\n        calledWithExactly: function calledWithExactly() {\n            return arguments.length == this.args.length &&\n                this.calledWith.apply(this, arguments);\n        },\n\n        notCalledWith: function notCalledWith() {\n            return !this.calledWith.apply(this, arguments);\n        },\n\n        notCalledWithMatch: function notCalledWithMatch() {\n            return !this.calledWithMatch.apply(this, arguments);\n        },\n\n        returned: function returned(value) {\n            return sinon.deepEqual(value, this.returnValue);\n        },\n\n        threw: function threw(error) {\n            if (typeof error === \"undefined\" || !this.exception) {\n                return !!this.exception;\n            }\n\n            return this.exception === error || this.exception.name === error;\n        },\n\n        calledWithNew: function calledWithNew() {\n            return this.proxy.prototype && this.thisValue instanceof this.proxy;\n        },\n\n        calledBefore: function (other) {\n            return this.callId < other.callId;\n        },\n\n        calledAfter: function (other) {\n            return this.callId > other.callId;\n        },\n\n        callArg: function (pos) {\n            this.args[pos]();\n        },\n\n        callArgOn: function (pos, thisValue) {\n            this.args[pos].apply(thisValue);\n        },\n\n        callArgWith: function (pos) {\n            this.callArgOnWith.apply(this, [pos, null].concat(slice.call(arguments, 1)));\n        },\n\n        callArgOnWith: function (pos, thisValue) {\n            var args = slice.call(arguments, 2);\n            this.args[pos].apply(thisValue, args);\n        },\n\n        \"yield\": function () {\n            this.yieldOn.apply(this, [null].concat(slice.call(arguments, 0)));\n        },\n\n        yieldOn: function (thisValue) {\n            var args = this.args;\n            for (var i = 0, l = args.length; i < l; ++i) {\n                if (typeof args[i] === \"function\") {\n                    args[i].apply(thisValue, slice.call(arguments, 1));\n                    return;\n                }\n            }\n            throwYieldError(this.proxy, \" cannot yield since no callback was passed.\", args);\n        },\n\n        yieldTo: function (prop) {\n            this.yieldToOn.apply(this, [prop, null].concat(slice.call(arguments, 1)));\n        },\n\n        yieldToOn: function (prop, thisValue) {\n            var args = this.args;\n            for (var i = 0, l = args.length; i < l; ++i) {\n                if (args[i] && typeof args[i][prop] === \"function\") {\n                    args[i][prop].apply(thisValue, slice.call(arguments, 2));\n                    return;\n                }\n            }\n            throwYieldError(this.proxy, \" cannot yield to '\" + prop +\n                \"' since no callback was passed.\", args);\n        },\n\n        toString: function () {\n            var callStr = this.proxy.toString() + \"(\";\n            var args = [];\n\n            for (var i = 0, l = this.args.length; i < l; ++i) {\n                args.push(sinon.format(this.args[i]));\n            }\n\n            callStr = callStr + args.join(\", \") + \")\";\n\n            if (typeof this.returnValue != \"undefined\") {\n                callStr += \" => \" + sinon.format(this.returnValue);\n            }\n\n            if (this.exception) {\n                callStr += \" !\" + this.exception.name;\n\n                if (this.exception.message) {\n                    callStr += \"(\" + this.exception.message + \")\";\n                }\n            }\n\n            return callStr;\n        }\n    };\n\n    callProto.invokeCallback = callProto.yield;\n\n    function createSpyCall(spy, thisValue, args, returnValue, exception, id) {\n        if (typeof id !== \"number\") {\n            throw new TypeError(\"Call id is not a number\");\n        }\n        var proxyCall = sinon.create(callProto);\n        proxyCall.proxy = spy;\n        proxyCall.thisValue = thisValue;\n        proxyCall.args = args;\n        proxyCall.returnValue = returnValue;\n        proxyCall.exception = exception;\n        proxyCall.callId = id;\n\n        return proxyCall;\n    }\n    createSpyCall.toString = callProto.toString; // used by mocks\n\n    if (commonJSModule) {\n        module.exports = createSpyCall;\n    } else {\n        sinon.spyCall = createSpyCall;\n    }\n}(typeof sinon == \"object\" && sinon || null));\n\n\n/**\n  * @depend ../sinon.js\n  * @depend call.js\n  */\n/*jslint eqeqeq: false, onevar: false, plusplus: false*/\n/*global module, require, sinon*/\n/**\n  * Spy functions\n  *\n  * @author Christian Johansen (christian@cjohansen.no)\n  * @license BSD\n  *\n  * Copyright (c) 2010-2013 Christian Johansen\n  */\n\n(function (sinon) {\n    var commonJSModule = typeof module !== 'undefined' && module.exports;\n    var push = Array.prototype.push;\n    var slice = Array.prototype.slice;\n    var callId = 0;\n\n    if (!sinon && commonJSModule) {\n        sinon = require(\"../sinon\");\n    }\n\n    if (!sinon) {\n        return;\n    }\n\n    function spy(object, property) {\n        if (!property && typeof object == \"function\") {\n            return spy.create(object);\n        }\n\n        if (!object && !property) {\n            return spy.create(function () { });\n        }\n\n        var method = object[property];\n        return sinon.wrapMethod(object, property, spy.create(method));\n    }\n\n    function matchingFake(fakes, args, strict) {\n        if (!fakes) {\n            return;\n        }\n\n        for (var i = 0, l = fakes.length; i < l; i++) {\n            if (fakes[i].matches(args, strict)) {\n                return fakes[i];\n            }\n        }\n    }\n\n    function incrementCallCount() {\n        this.called = true;\n        this.callCount += 1;\n        this.notCalled = false;\n        this.calledOnce = this.callCount == 1;\n        this.calledTwice = this.callCount == 2;\n        this.calledThrice = this.callCount == 3;\n    }\n\n    function createCallProperties() {\n        this.firstCall = this.getCall(0);\n        this.secondCall = this.getCall(1);\n        this.thirdCall = this.getCall(2);\n        this.lastCall = this.getCall(this.callCount - 1);\n    }\n\n    var vars = \"a,b,c,d,e,f,g,h,i,j,k,l\";\n    function createProxy(func) {\n        // Retain the function length:\n        var p;\n        if (func.length) {\n            eval(\"p = (function proxy(\" + vars.substring(0, func.length * 2 - 1) +\n                \") { return p.invoke(func, this, slice.call(arguments)); });\");\n        }\n        else {\n            p = function proxy() {\n                return p.invoke(func, this, slice.call(arguments));\n            };\n        }\n        return p;\n    }\n\n    var uuid = 0;\n\n    // Public API\n    var spyApi = {\n        reset: function () {\n            this.called = false;\n            this.notCalled = true;\n            this.calledOnce = false;\n            this.calledTwice = false;\n            this.calledThrice = false;\n            this.callCount = 0;\n            this.firstCall = null;\n            this.secondCall = null;\n            this.thirdCall = null;\n            this.lastCall = null;\n            this.args = [];\n            this.returnValues = [];\n            this.thisValues = [];\n            this.exceptions = [];\n            this.callIds = [];\n            if (this.fakes) {\n                for (var i = 0; i < this.fakes.length; i++) {\n                    this.fakes[i].reset();\n                }\n            }\n        },\n\n        create: function create(func) {\n            var name;\n\n            if (typeof func != \"function\") {\n                func = function () { };\n            } else {\n                name = sinon.functionName(func);\n            }\n\n            var proxy = createProxy(func);\n\n            sinon.extend(proxy, spy);\n            delete proxy.create;\n            sinon.extend(proxy, func);\n\n            proxy.reset();\n            proxy.prototype = func.prototype;\n            proxy.displayName = name || \"spy\";\n            proxy.toString = sinon.functionToString;\n            proxy._create = sinon.spy.create;\n            proxy.id = \"spy#\" + uuid++;\n\n            return proxy;\n        },\n\n        invoke: function invoke(func, thisValue, args) {\n            var matching = matchingFake(this.fakes, args);\n            var exception, returnValue;\n\n            incrementCallCount.call(this);\n            push.call(this.thisValues, thisValue);\n            push.call(this.args, args);\n            push.call(this.callIds, callId++);\n\n            try {\n                if (matching) {\n                    returnValue = matching.invoke(func, thisValue, args);\n                } else {\n                    returnValue = (this.func || func).apply(thisValue, args);\n                }\n\n                var thisCall = this.getCall(this.callCount - 1);\n                if (thisCall.calledWithNew() && typeof returnValue !== 'object') {\n                    returnValue = thisValue;\n                }\n            } catch (e) {\n                exception = e;\n            }\n\n            push.call(this.exceptions, exception);\n            push.call(this.returnValues, returnValue);\n\n            createCallProperties.call(this);\n\n            if (exception !== undefined) {\n                throw exception;\n            }\n\n            return returnValue;\n        },\n\n        getCall: function getCall(i) {\n            if (i < 0 || i >= this.callCount) {\n                return null;\n            }\n\n            return sinon.spyCall(this, this.thisValues[i], this.args[i],\n                                    this.returnValues[i], this.exceptions[i],\n                                    this.callIds[i]);\n        },\n\n        getCalls: function () {\n            var calls = [];\n            var i;\n\n            for (i = 0; i < this.callCount; i++) {\n                calls.push(this.getCall(i));\n            }\n\n            return calls;\n        },\n\n        calledBefore: function calledBefore(spyFn) {\n            if (!this.called) {\n                return false;\n            }\n\n            if (!spyFn.called) {\n                return true;\n            }\n\n            return this.callIds[0] < spyFn.callIds[spyFn.callIds.length - 1];\n        },\n\n        calledAfter: function calledAfter(spyFn) {\n            if (!this.called || !spyFn.called) {\n                return false;\n            }\n\n            return this.callIds[this.callCount - 1] > spyFn.callIds[spyFn.callCount - 1];\n        },\n\n        withArgs: function () {\n            var args = slice.call(arguments);\n\n            if (this.fakes) {\n                var match = matchingFake(this.fakes, args, true);\n\n                if (match) {\n                    return match;\n                }\n            } else {\n                this.fakes = [];\n            }\n\n            var original = this;\n            var fake = this._create();\n            fake.matchingAguments = args;\n            fake.parent = this;\n            push.call(this.fakes, fake);\n\n            fake.withArgs = function () {\n                return original.withArgs.apply(original, arguments);\n            };\n\n            for (var i = 0; i < this.args.length; i++) {\n                if (fake.matches(this.args[i])) {\n                    incrementCallCount.call(fake);\n                    push.call(fake.thisValues, this.thisValues[i]);\n                    push.call(fake.args, this.args[i]);\n                    push.call(fake.returnValues, this.returnValues[i]);\n                    push.call(fake.exceptions, this.exceptions[i]);\n                    push.call(fake.callIds, this.callIds[i]);\n                }\n            }\n            createCallProperties.call(fake);\n\n            return fake;\n        },\n\n        matches: function (args, strict) {\n            var margs = this.matchingAguments;\n\n            if (margs.length <= args.length &&\n                sinon.deepEqual(margs, args.slice(0, margs.length))) {\n                return !strict || margs.length == args.length;\n            }\n        },\n\n        printf: function (format) {\n            var spy = this;\n            var args = slice.call(arguments, 1);\n            var formatter;\n\n            return (format || \"\").replace(/%(.)/g, function (match, specifyer) {\n                formatter = spyApi.formatters[specifyer];\n\n                if (typeof formatter == \"function\") {\n                    return formatter.call(null, spy, args);\n                } else if (!isNaN(parseInt(specifyer, 10))) {\n                    return sinon.format(args[specifyer - 1]);\n                }\n\n                return \"%\" + specifyer;\n            });\n        }\n    };\n\n    function delegateToCalls(method, matchAny, actual, notCalled) {\n        spyApi[method] = function () {\n            if (!this.called) {\n                if (notCalled) {\n                    return notCalled.apply(this, arguments);\n                }\n                return false;\n            }\n\n            var currentCall;\n            var matches = 0;\n\n            for (var i = 0, l = this.callCount; i < l; i += 1) {\n                currentCall = this.getCall(i);\n\n                if (currentCall[actual || method].apply(currentCall, arguments)) {\n                    matches += 1;\n\n                    if (matchAny) {\n                        return true;\n                    }\n                }\n            }\n\n            return matches === this.callCount;\n        };\n    }\n\n    delegateToCalls(\"calledOn\", true);\n    delegateToCalls(\"alwaysCalledOn\", false, \"calledOn\");\n    delegateToCalls(\"calledWith\", true);\n    delegateToCalls(\"calledWithMatch\", true);\n    delegateToCalls(\"alwaysCalledWith\", false, \"calledWith\");\n    delegateToCalls(\"alwaysCalledWithMatch\", false, \"calledWithMatch\");\n    delegateToCalls(\"calledWithExactly\", true);\n    delegateToCalls(\"alwaysCalledWithExactly\", false, \"calledWithExactly\");\n    delegateToCalls(\"neverCalledWith\", false, \"notCalledWith\",\n        function () { return true; });\n    delegateToCalls(\"neverCalledWithMatch\", false, \"notCalledWithMatch\",\n        function () { return true; });\n    delegateToCalls(\"threw\", true);\n    delegateToCalls(\"alwaysThrew\", false, \"threw\");\n    delegateToCalls(\"returned\", true);\n    delegateToCalls(\"alwaysReturned\", false, \"returned\");\n    delegateToCalls(\"calledWithNew\", true);\n    delegateToCalls(\"alwaysCalledWithNew\", false, \"calledWithNew\");\n    delegateToCalls(\"callArg\", false, \"callArgWith\", function () {\n        throw new Error(this.toString() + \" cannot call arg since it was not yet invoked.\");\n    });\n    spyApi.callArgWith = spyApi.callArg;\n    delegateToCalls(\"callArgOn\", false, \"callArgOnWith\", function () {\n        throw new Error(this.toString() + \" cannot call arg since it was not yet invoked.\");\n    });\n    spyApi.callArgOnWith = spyApi.callArgOn;\n    delegateToCalls(\"yield\", false, \"yield\", function () {\n        throw new Error(this.toString() + \" cannot yield since it was not yet invoked.\");\n    });\n    // \"invokeCallback\" is an alias for \"yield\" since \"yield\" is invalid in strict mode.\n    spyApi.invokeCallback = spyApi.yield;\n    delegateToCalls(\"yieldOn\", false, \"yieldOn\", function () {\n        throw new Error(this.toString() + \" cannot yield since it was not yet invoked.\");\n    });\n    delegateToCalls(\"yieldTo\", false, \"yieldTo\", function (property) {\n        throw new Error(this.toString() + \" cannot yield to '\" + property +\n            \"' since it was not yet invoked.\");\n    });\n    delegateToCalls(\"yieldToOn\", false, \"yieldToOn\", function (property) {\n        throw new Error(this.toString() + \" cannot yield to '\" + property +\n            \"' since it was not yet invoked.\");\n    });\n\n    spyApi.formatters = {\n        \"c\": function (spy) {\n            return sinon.timesInWords(spy.callCount);\n        },\n\n        \"n\": function (spy) {\n            return spy.toString();\n        },\n\n        \"C\": function (spy) {\n            var calls = [];\n\n            for (var i = 0, l = spy.callCount; i < l; ++i) {\n                var stringifiedCall = \"    \" + spy.getCall(i).toString();\n                if (/\\n/.test(calls[i - 1])) {\n                    stringifiedCall = \"\\n\" + stringifiedCall;\n                }\n                push.call(calls, stringifiedCall);\n            }\n\n            return calls.length > 0 ? \"\\n\" + calls.join(\"\\n\") : \"\";\n        },\n\n        \"t\": function (spy) {\n            var objects = [];\n\n            for (var i = 0, l = spy.callCount; i < l; ++i) {\n                push.call(objects, sinon.format(spy.thisValues[i]));\n            }\n\n            return objects.join(\", \");\n        },\n\n        \"*\": function (spy, args) {\n            var formatted = [];\n\n            for (var i = 0, l = args.length; i < l; ++i) {\n                push.call(formatted, sinon.format(args[i]));\n            }\n\n            return formatted.join(\", \");\n        }\n    };\n\n    sinon.extend(spy, spyApi);\n\n    spy.spyCall = sinon.spyCall;\n\n    if (commonJSModule) {\n        module.exports = spy;\n    } else {\n        sinon.spy = spy;\n    }\n}(typeof sinon == \"object\" && sinon || null));\n\n/**\n * @depend ../sinon.js\n */\n/*jslint eqeqeq: false, onevar: false*/\n/*global module, require, sinon, process, setImmediate, setTimeout*/\n/**\n * Stub behavior\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @author Tim Fischbach (mail@timfischbach.de)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\n(function (sinon) {\n    var commonJSModule = typeof module !== 'undefined' && module.exports;\n\n    if (!sinon && commonJSModule) {\n        sinon = require(\"../sinon\");\n    }\n\n    if (!sinon) {\n        return;\n    }\n\n    var slice = Array.prototype.slice;\n    var join = Array.prototype.join;\n    var proto;\n\n    var nextTick = (function () {\n        if (typeof process === \"object\" && typeof process.nextTick === \"function\") {\n            return process.nextTick;\n        } else if (typeof setImmediate === \"function\") {\n            return setImmediate;\n        } else {\n            return function (callback) {\n                setTimeout(callback, 0);\n            };\n        }\n    })();\n\n    function throwsException(error, message) {\n        if (typeof error == \"string\") {\n            this.exception = new Error(message || \"\");\n            this.exception.name = error;\n        } else if (!error) {\n            this.exception = new Error(\"Error\");\n        } else {\n            this.exception = error;\n        }\n\n        return this;\n    }\n\n    function getCallback(behavior, args) {\n        var callArgAt = behavior.callArgAt;\n\n        if (callArgAt < 0) {\n            var callArgProp = behavior.callArgProp;\n\n            for (var i = 0, l = args.length; i < l; ++i) {\n                if (!callArgProp && typeof args[i] == \"function\") {\n                    return args[i];\n                }\n\n                if (callArgProp && args[i] &&\n                    typeof args[i][callArgProp] == \"function\") {\n                    return args[i][callArgProp];\n                }\n            }\n\n            return null;\n        }\n\n        return args[callArgAt];\n    }\n\n    function getCallbackError(behavior, func, args) {\n        if (behavior.callArgAt < 0) {\n            var msg;\n\n            if (behavior.callArgProp) {\n                msg = sinon.functionName(behavior.stub) +\n                    \" expected to yield to '\" + behavior.callArgProp +\n                    \"', but no object with such a property was passed.\";\n            } else {\n                msg = sinon.functionName(behavior.stub) +\n                    \" expected to yield, but no callback was passed.\";\n            }\n\n            if (args.length > 0) {\n                msg += \" Received [\" + join.call(args, \", \") + \"]\";\n            }\n\n            return msg;\n        }\n\n        return \"argument at index \" + behavior.callArgAt + \" is not a function: \" + func;\n    }\n\n    function callCallback(behavior, args) {\n        if (typeof behavior.callArgAt == \"number\") {\n            var func = getCallback(behavior, args);\n\n            if (typeof func != \"function\") {\n                throw new TypeError(getCallbackError(behavior, func, args));\n            }\n\n            if (behavior.callbackAsync) {\n                nextTick(function() {\n                    func.apply(behavior.callbackContext, behavior.callbackArguments);\n                });\n            } else {\n                func.apply(behavior.callbackContext, behavior.callbackArguments);\n            }\n        }\n    }\n\n    proto = {\n        create: function(stub) {\n            var behavior = sinon.extend({}, sinon.behavior);\n            delete behavior.create;\n            behavior.stub = stub;\n\n            return behavior;\n        },\n\n        isPresent: function() {\n            return (typeof this.callArgAt == 'number' ||\n                    this.exception ||\n                    typeof this.returnArgAt == 'number' ||\n                    this.returnThis ||\n                    this.returnValueDefined);\n        },\n\n        invoke: function(context, args) {\n            callCallback(this, args);\n\n            if (this.exception) {\n                throw this.exception;\n            } else if (typeof this.returnArgAt == 'number') {\n                return args[this.returnArgAt];\n            } else if (this.returnThis) {\n                return context;\n            }\n\n            return this.returnValue;\n        },\n\n        onCall: function(index) {\n            return this.stub.onCall(index);\n        },\n\n        onFirstCall: function() {\n            return this.stub.onFirstCall();\n        },\n\n        onSecondCall: function() {\n            return this.stub.onSecondCall();\n        },\n\n        onThirdCall: function() {\n            return this.stub.onThirdCall();\n        },\n\n        withArgs: function(/* arguments */) {\n            throw new Error('Defining a stub by invoking \"stub.onCall(...).withArgs(...)\" is not supported. ' +\n                            'Use \"stub.withArgs(...).onCall(...)\" to define sequential behavior for calls with certain arguments.');\n        },\n\n        callsArg: function callsArg(pos) {\n            if (typeof pos != \"number\") {\n                throw new TypeError(\"argument index is not number\");\n            }\n\n            this.callArgAt = pos;\n            this.callbackArguments = [];\n            this.callbackContext = undefined;\n            this.callArgProp = undefined;\n            this.callbackAsync = false;\n\n            return this;\n        },\n\n        callsArgOn: function callsArgOn(pos, context) {\n            if (typeof pos != \"number\") {\n                throw new TypeError(\"argument index is not number\");\n            }\n            if (typeof context != \"object\") {\n                throw new TypeError(\"argument context is not an object\");\n            }\n\n            this.callArgAt = pos;\n            this.callbackArguments = [];\n            this.callbackContext = context;\n            this.callArgProp = undefined;\n            this.callbackAsync = false;\n\n            return this;\n        },\n\n        callsArgWith: function callsArgWith(pos) {\n            if (typeof pos != \"number\") {\n                throw new TypeError(\"argument index is not number\");\n            }\n\n            this.callArgAt = pos;\n            this.callbackArguments = slice.call(arguments, 1);\n            this.callbackContext = undefined;\n            this.callArgProp = undefined;\n            this.callbackAsync = false;\n\n            return this;\n        },\n\n        callsArgOnWith: function callsArgWith(pos, context) {\n            if (typeof pos != \"number\") {\n                throw new TypeError(\"argument index is not number\");\n            }\n            if (typeof context != \"object\") {\n                throw new TypeError(\"argument context is not an object\");\n            }\n\n            this.callArgAt = pos;\n            this.callbackArguments = slice.call(arguments, 2);\n            this.callbackContext = context;\n            this.callArgProp = undefined;\n            this.callbackAsync = false;\n\n            return this;\n        },\n\n        yields: function () {\n            this.callArgAt = -1;\n            this.callbackArguments = slice.call(arguments, 0);\n            this.callbackContext = undefined;\n            this.callArgProp = undefined;\n            this.callbackAsync = false;\n\n            return this;\n        },\n\n        yieldsOn: function (context) {\n            if (typeof context != \"object\") {\n                throw new TypeError(\"argument context is not an object\");\n            }\n\n            this.callArgAt = -1;\n            this.callbackArguments = slice.call(arguments, 1);\n            this.callbackContext = context;\n            this.callArgProp = undefined;\n            this.callbackAsync = false;\n\n            return this;\n        },\n\n        yieldsTo: function (prop) {\n            this.callArgAt = -1;\n            this.callbackArguments = slice.call(arguments, 1);\n            this.callbackContext = undefined;\n            this.callArgProp = prop;\n            this.callbackAsync = false;\n\n            return this;\n        },\n\n        yieldsToOn: function (prop, context) {\n            if (typeof context != \"object\") {\n                throw new TypeError(\"argument context is not an object\");\n            }\n\n            this.callArgAt = -1;\n            this.callbackArguments = slice.call(arguments, 2);\n            this.callbackContext = context;\n            this.callArgProp = prop;\n            this.callbackAsync = false;\n\n            return this;\n        },\n\n\n        \"throws\": throwsException,\n        throwsException: throwsException,\n\n        returns: function returns(value) {\n            this.returnValue = value;\n            this.returnValueDefined = true;\n\n            return this;\n        },\n\n        returnsArg: function returnsArg(pos) {\n            if (typeof pos != \"number\") {\n                throw new TypeError(\"argument index is not number\");\n            }\n\n            this.returnArgAt = pos;\n\n            return this;\n        },\n\n        returnsThis: function returnsThis() {\n            this.returnThis = true;\n\n            return this;\n        }\n    };\n\n    // create asynchronous versions of callsArg* and yields* methods\n    for (var method in proto) {\n        // need to avoid creating anotherasync versions of the newly added async methods\n        if (proto.hasOwnProperty(method) &&\n            method.match(/^(callsArg|yields)/) &&\n            !method.match(/Async/)) {\n            proto[method + 'Async'] = (function (syncFnName) {\n                return function () {\n                    var result = this[syncFnName].apply(this, arguments);\n                    this.callbackAsync = true;\n                    return result;\n                };\n            })(method);\n        }\n    }\n\n    if (commonJSModule) {\n        module.exports = proto;\n    } else {\n        sinon.behavior = proto;\n    }\n}(typeof sinon == \"object\" && sinon || null));\n/**\n * @depend ../sinon.js\n * @depend spy.js\n * @depend behavior.js\n */\n/*jslint eqeqeq: false, onevar: false*/\n/*global module, require, sinon*/\n/**\n * Stub functions\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\n(function (sinon) {\n    var commonJSModule = typeof module !== 'undefined' && module.exports;\n\n    if (!sinon && commonJSModule) {\n        sinon = require(\"../sinon\");\n    }\n\n    if (!sinon) {\n        return;\n    }\n\n    function stub(object, property, func) {\n        if (!!func && typeof func != \"function\") {\n            throw new TypeError(\"Custom stub should be function\");\n        }\n\n        var wrapper;\n\n        if (func) {\n            wrapper = sinon.spy && sinon.spy.create ? sinon.spy.create(func) : func;\n        } else {\n            wrapper = stub.create();\n        }\n\n        if (!object && typeof property === \"undefined\") {\n            return sinon.stub.create();\n        }\n\n        if (typeof property === \"undefined\" && typeof object == \"object\") {\n            for (var prop in object) {\n                if (typeof object[prop] === \"function\") {\n                    stub(object, prop);\n                }\n            }\n\n            return object;\n        }\n\n        return sinon.wrapMethod(object, property, wrapper);\n    }\n\n    function getDefaultBehavior(stub) {\n        return stub.defaultBehavior || getParentBehaviour(stub) || sinon.behavior.create(stub);\n    }\n\n    function getParentBehaviour(stub) {\n        return (stub.parent && getCurrentBehavior(stub.parent));\n    }\n\n    function getCurrentBehavior(stub) {\n        var behavior = stub.behaviors[stub.callCount - 1];\n        return behavior && behavior.isPresent() ? behavior : getDefaultBehavior(stub);\n    }\n\n    var uuid = 0;\n\n    sinon.extend(stub, (function () {\n        var proto = {\n            create: function create() {\n                var functionStub = function () {\n                    return getCurrentBehavior(functionStub).invoke(this, arguments);\n                };\n\n                functionStub.id = \"stub#\" + uuid++;\n                var orig = functionStub;\n                functionStub = sinon.spy.create(functionStub);\n                functionStub.func = orig;\n\n                sinon.extend(functionStub, stub);\n                functionStub._create = sinon.stub.create;\n                functionStub.displayName = \"stub\";\n                functionStub.toString = sinon.functionToString;\n\n                functionStub.defaultBehavior = null;\n                functionStub.behaviors = [];\n\n                return functionStub;\n            },\n\n            resetBehavior: function () {\n                var i;\n\n                this.defaultBehavior = null;\n                this.behaviors = [];\n\n                delete this.returnValue;\n                delete this.returnArgAt;\n                this.returnThis = false;\n\n                if (this.fakes) {\n                    for (i = 0; i < this.fakes.length; i++) {\n                        this.fakes[i].resetBehavior();\n                    }\n                }\n            },\n\n            onCall: function(index) {\n                if (!this.behaviors[index]) {\n                    this.behaviors[index] = sinon.behavior.create(this);\n                }\n\n                return this.behaviors[index];\n            },\n\n            onFirstCall: function() {\n                return this.onCall(0);\n            },\n\n            onSecondCall: function() {\n                return this.onCall(1);\n            },\n\n            onThirdCall: function() {\n                return this.onCall(2);\n            }\n        };\n\n        for (var method in sinon.behavior) {\n            if (sinon.behavior.hasOwnProperty(method) &&\n                !proto.hasOwnProperty(method) &&\n                method != 'create' &&\n                method != 'withArgs' &&\n                method != 'invoke') {\n                proto[method] = (function(behaviorMethod) {\n                    return function() {\n                        this.defaultBehavior = this.defaultBehavior || sinon.behavior.create(this);\n                        this.defaultBehavior[behaviorMethod].apply(this.defaultBehavior, arguments);\n                        return this;\n                    };\n                }(method));\n            }\n        }\n\n        return proto;\n    }()));\n\n    if (commonJSModule) {\n        module.exports = stub;\n    } else {\n        sinon.stub = stub;\n    }\n}(typeof sinon == \"object\" && sinon || null));\n\n/**\n * @depend ../sinon.js\n * @depend stub.js\n */\n/*jslint eqeqeq: false, onevar: false, nomen: false*/\n/*global module, require, sinon*/\n/**\n * Mock functions.\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\n(function (sinon) {\n    var commonJSModule = typeof module !== 'undefined' && module.exports;\n    var push = [].push;\n    var match;\n\n    if (!sinon && commonJSModule) {\n        sinon = require(\"../sinon\");\n    }\n\n    if (!sinon) {\n        return;\n    }\n\n    match = sinon.match;\n\n    if (!match && commonJSModule) {\n        match = require(\"./match\");\n    }\n\n    function mock(object) {\n        if (!object) {\n            return sinon.expectation.create(\"Anonymous mock\");\n        }\n\n        return mock.create(object);\n    }\n\n    sinon.mock = mock;\n\n    sinon.extend(mock, (function () {\n        function each(collection, callback) {\n            if (!collection) {\n                return;\n            }\n\n            for (var i = 0, l = collection.length; i < l; i += 1) {\n                callback(collection[i]);\n            }\n        }\n\n        return {\n            create: function create(object) {\n                if (!object) {\n                    throw new TypeError(\"object is null\");\n                }\n\n                var mockObject = sinon.extend({}, mock);\n                mockObject.object = object;\n                delete mockObject.create;\n\n                return mockObject;\n            },\n\n            expects: function expects(method) {\n                if (!method) {\n                    throw new TypeError(\"method is falsy\");\n                }\n\n                if (!this.expectations) {\n                    this.expectations = {};\n                    this.proxies = [];\n                }\n\n                if (!this.expectations[method]) {\n                    this.expectations[method] = [];\n                    var mockObject = this;\n\n                    sinon.wrapMethod(this.object, method, function () {\n                        return mockObject.invokeMethod(method, this, arguments);\n                    });\n\n                    push.call(this.proxies, method);\n                }\n\n                var expectation = sinon.expectation.create(method);\n                push.call(this.expectations[method], expectation);\n\n                return expectation;\n            },\n\n            restore: function restore() {\n                var object = this.object;\n\n                each(this.proxies, function (proxy) {\n                    if (typeof object[proxy].restore == \"function\") {\n                        object[proxy].restore();\n                    }\n                });\n            },\n\n            verify: function verify() {\n                var expectations = this.expectations || {};\n                var messages = [], met = [];\n\n                each(this.proxies, function (proxy) {\n                    each(expectations[proxy], function (expectation) {\n                        if (!expectation.met()) {\n                            push.call(messages, expectation.toString());\n                        } else {\n                            push.call(met, expectation.toString());\n                        }\n                    });\n                });\n\n                this.restore();\n\n                if (messages.length > 0) {\n                    sinon.expectation.fail(messages.concat(met).join(\"\\n\"));\n                } else {\n                    sinon.expectation.pass(messages.concat(met).join(\"\\n\"));\n                }\n\n                return true;\n            },\n\n            invokeMethod: function invokeMethod(method, thisValue, args) {\n                var expectations = this.expectations && this.expectations[method];\n                var length = expectations && expectations.length || 0, i;\n\n                for (i = 0; i < length; i += 1) {\n                    if (!expectations[i].met() &&\n                        expectations[i].allowsCall(thisValue, args)) {\n                        return expectations[i].apply(thisValue, args);\n                    }\n                }\n\n                var messages = [], available, exhausted = 0;\n\n                for (i = 0; i < length; i += 1) {\n                    if (expectations[i].allowsCall(thisValue, args)) {\n                        available = available || expectations[i];\n                    } else {\n                        exhausted += 1;\n                    }\n                    push.call(messages, \"    \" + expectations[i].toString());\n                }\n\n                if (exhausted === 0) {\n                    return available.apply(thisValue, args);\n                }\n\n                messages.unshift(\"Unexpected call: \" + sinon.spyCall.toString.call({\n                    proxy: method,\n                    args: args\n                }));\n\n                sinon.expectation.fail(messages.join(\"\\n\"));\n            }\n        };\n    }()));\n\n    var times = sinon.timesInWords;\n\n    sinon.expectation = (function () {\n        var slice = Array.prototype.slice;\n        var _invoke = sinon.spy.invoke;\n\n        function callCountInWords(callCount) {\n            if (callCount == 0) {\n                return \"never called\";\n            } else {\n                return \"called \" + times(callCount);\n            }\n        }\n\n        function expectedCallCountInWords(expectation) {\n            var min = expectation.minCalls;\n            var max = expectation.maxCalls;\n\n            if (typeof min == \"number\" && typeof max == \"number\") {\n                var str = times(min);\n\n                if (min != max) {\n                    str = \"at least \" + str + \" and at most \" + times(max);\n                }\n\n                return str;\n            }\n\n            if (typeof min == \"number\") {\n                return \"at least \" + times(min);\n            }\n\n            return \"at most \" + times(max);\n        }\n\n        function receivedMinCalls(expectation) {\n            var hasMinLimit = typeof expectation.minCalls == \"number\";\n            return !hasMinLimit || expectation.callCount >= expectation.minCalls;\n        }\n\n        function receivedMaxCalls(expectation) {\n            if (typeof expectation.maxCalls != \"number\") {\n                return false;\n            }\n\n            return expectation.callCount == expectation.maxCalls;\n        }\n\n        function verifyMatcher(possibleMatcher, arg){\n            if (match && match.isMatcher(possibleMatcher)) {\n                return possibleMatcher.test(arg);\n            } else {\n                return true;\n            }\n        }\n\n        return {\n            minCalls: 1,\n            maxCalls: 1,\n\n            create: function create(methodName) {\n                var expectation = sinon.extend(sinon.stub.create(), sinon.expectation);\n                delete expectation.create;\n                expectation.method = methodName;\n\n                return expectation;\n            },\n\n            invoke: function invoke(func, thisValue, args) {\n                this.verifyCallAllowed(thisValue, args);\n\n                return _invoke.apply(this, arguments);\n            },\n\n            atLeast: function atLeast(num) {\n                if (typeof num != \"number\") {\n                    throw new TypeError(\"'\" + num + \"' is not number\");\n                }\n\n                if (!this.limitsSet) {\n                    this.maxCalls = null;\n                    this.limitsSet = true;\n                }\n\n                this.minCalls = num;\n\n                return this;\n            },\n\n            atMost: function atMost(num) {\n                if (typeof num != \"number\") {\n                    throw new TypeError(\"'\" + num + \"' is not number\");\n                }\n\n                if (!this.limitsSet) {\n                    this.minCalls = null;\n                    this.limitsSet = true;\n                }\n\n                this.maxCalls = num;\n\n                return this;\n            },\n\n            never: function never() {\n                return this.exactly(0);\n            },\n\n            once: function once() {\n                return this.exactly(1);\n            },\n\n            twice: function twice() {\n                return this.exactly(2);\n            },\n\n            thrice: function thrice() {\n                return this.exactly(3);\n            },\n\n            exactly: function exactly(num) {\n                if (typeof num != \"number\") {\n                    throw new TypeError(\"'\" + num + \"' is not a number\");\n                }\n\n                this.atLeast(num);\n                return this.atMost(num);\n            },\n\n            met: function met() {\n                return !this.failed && receivedMinCalls(this);\n            },\n\n            verifyCallAllowed: function verifyCallAllowed(thisValue, args) {\n                if (receivedMaxCalls(this)) {\n                    this.failed = true;\n                    sinon.expectation.fail(this.method + \" already called \" + times(this.maxCalls));\n                }\n\n                if (\"expectedThis\" in this && this.expectedThis !== thisValue) {\n                    sinon.expectation.fail(this.method + \" called with \" + thisValue + \" as thisValue, expected \" +\n                        this.expectedThis);\n                }\n\n                if (!(\"expectedArguments\" in this)) {\n                    return;\n                }\n\n                if (!args) {\n                    sinon.expectation.fail(this.method + \" received no arguments, expected \" +\n                        sinon.format(this.expectedArguments));\n                }\n\n                if (args.length < this.expectedArguments.length) {\n                    sinon.expectation.fail(this.method + \" received too few arguments (\" + sinon.format(args) +\n                        \"), expected \" + sinon.format(this.expectedArguments));\n                }\n\n                if (this.expectsExactArgCount &&\n                    args.length != this.expectedArguments.length) {\n                    sinon.expectation.fail(this.method + \" received too many arguments (\" + sinon.format(args) +\n                        \"), expected \" + sinon.format(this.expectedArguments));\n                }\n\n                for (var i = 0, l = this.expectedArguments.length; i < l; i += 1) {\n\n                    if (!verifyMatcher(this.expectedArguments[i],args[i])) {\n                        sinon.expectation.fail(this.method + \" received wrong arguments \" + sinon.format(args) +\n                            \", didn't match \" + this.expectedArguments.toString());\n                    }\n\n                    if (!sinon.deepEqual(this.expectedArguments[i], args[i])) {\n                        sinon.expectation.fail(this.method + \" received wrong arguments \" + sinon.format(args) +\n                            \", expected \" + sinon.format(this.expectedArguments));\n                    }\n                }\n            },\n\n            allowsCall: function allowsCall(thisValue, args) {\n                if (this.met() && receivedMaxCalls(this)) {\n                    return false;\n                }\n\n                if (\"expectedThis\" in this && this.expectedThis !== thisValue) {\n                    return false;\n                }\n\n                if (!(\"expectedArguments\" in this)) {\n                    return true;\n                }\n\n                args = args || [];\n\n                if (args.length < this.expectedArguments.length) {\n                    return false;\n                }\n\n                if (this.expectsExactArgCount &&\n                    args.length != this.expectedArguments.length) {\n                    return false;\n                }\n\n                for (var i = 0, l = this.expectedArguments.length; i < l; i += 1) {\n                    if (!verifyMatcher(this.expectedArguments[i],args[i])) {\n                        return false;\n                    }\n\n                    if (!sinon.deepEqual(this.expectedArguments[i], args[i])) {\n                        return false;\n                    }\n                }\n\n                return true;\n            },\n\n            withArgs: function withArgs() {\n                this.expectedArguments = slice.call(arguments);\n                return this;\n            },\n\n            withExactArgs: function withExactArgs() {\n                this.withArgs.apply(this, arguments);\n                this.expectsExactArgCount = true;\n                return this;\n            },\n\n            on: function on(thisValue) {\n                this.expectedThis = thisValue;\n                return this;\n            },\n\n            toString: function () {\n                var args = (this.expectedArguments || []).slice();\n\n                if (!this.expectsExactArgCount) {\n                    push.call(args, \"[...]\");\n                }\n\n                var callStr = sinon.spyCall.toString.call({\n                    proxy: this.method || \"anonymous mock expectation\",\n                    args: args\n                });\n\n                var message = callStr.replace(\", [...\", \"[, ...\") + \" \" +\n                    expectedCallCountInWords(this);\n\n                if (this.met()) {\n                    return \"Expectation met: \" + message;\n                }\n\n                return \"Expected \" + message + \" (\" +\n                    callCountInWords(this.callCount) + \")\";\n            },\n\n            verify: function verify() {\n                if (!this.met()) {\n                    sinon.expectation.fail(this.toString());\n                } else {\n                    sinon.expectation.pass(this.toString());\n                }\n\n                return true;\n            },\n\n            pass: function(message) {\n              sinon.assert.pass(message);\n            },\n            fail: function (message) {\n                var exception = new Error(message);\n                exception.name = \"ExpectationError\";\n\n                throw exception;\n            }\n        };\n    }());\n\n    if (commonJSModule) {\n        module.exports = mock;\n    } else {\n        sinon.mock = mock;\n    }\n}(typeof sinon == \"object\" && sinon || null));\n\n/**\n * @depend ../sinon.js\n * @depend stub.js\n * @depend mock.js\n */\n/*jslint eqeqeq: false, onevar: false, forin: true*/\n/*global module, require, sinon*/\n/**\n * Collections of stubs, spies and mocks.\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\n(function (sinon) {\n    var commonJSModule = typeof module !== 'undefined' && module.exports;\n    var push = [].push;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n    if (!sinon && commonJSModule) {\n        sinon = require(\"../sinon\");\n    }\n\n    if (!sinon) {\n        return;\n    }\n\n    function getFakes(fakeCollection) {\n        if (!fakeCollection.fakes) {\n            fakeCollection.fakes = [];\n        }\n\n        return fakeCollection.fakes;\n    }\n\n    function each(fakeCollection, method) {\n        var fakes = getFakes(fakeCollection);\n\n        for (var i = 0, l = fakes.length; i < l; i += 1) {\n            if (typeof fakes[i][method] == \"function\") {\n                fakes[i][method]();\n            }\n        }\n    }\n\n    function compact(fakeCollection) {\n        var fakes = getFakes(fakeCollection);\n        var i = 0;\n        while (i < fakes.length) {\n          fakes.splice(i, 1);\n        }\n    }\n\n    var collection = {\n        verify: function resolve() {\n            each(this, \"verify\");\n        },\n\n        restore: function restore() {\n            each(this, \"restore\");\n            compact(this);\n        },\n\n        verifyAndRestore: function verifyAndRestore() {\n            var exception;\n\n            try {\n                this.verify();\n            } catch (e) {\n                exception = e;\n            }\n\n            this.restore();\n\n            if (exception) {\n                throw exception;\n            }\n        },\n\n        add: function add(fake) {\n            push.call(getFakes(this), fake);\n            return fake;\n        },\n\n        spy: function spy() {\n            return this.add(sinon.spy.apply(sinon, arguments));\n        },\n\n        stub: function stub(object, property, value) {\n            if (property) {\n                var original = object[property];\n\n                if (typeof original != \"function\") {\n                    if (!hasOwnProperty.call(object, property)) {\n                        throw new TypeError(\"Cannot stub non-existent own property \" + property);\n                    }\n\n                    object[property] = value;\n\n                    return this.add({\n                        restore: function () {\n                            object[property] = original;\n                        }\n                    });\n                }\n            }\n            if (!property && !!object && typeof object == \"object\") {\n                var stubbedObj = sinon.stub.apply(sinon, arguments);\n\n                for (var prop in stubbedObj) {\n                    if (typeof stubbedObj[prop] === \"function\") {\n                        this.add(stubbedObj[prop]);\n                    }\n                }\n\n                return stubbedObj;\n            }\n\n            return this.add(sinon.stub.apply(sinon, arguments));\n        },\n\n        mock: function mock() {\n            return this.add(sinon.mock.apply(sinon, arguments));\n        },\n\n        inject: function inject(obj) {\n            var col = this;\n\n            obj.spy = function () {\n                return col.spy.apply(col, arguments);\n            };\n\n            obj.stub = function () {\n                return col.stub.apply(col, arguments);\n            };\n\n            obj.mock = function () {\n                return col.mock.apply(col, arguments);\n            };\n\n            return obj;\n        }\n    };\n\n    if (commonJSModule) {\n        module.exports = collection;\n    } else {\n        sinon.collection = collection;\n    }\n}(typeof sinon == \"object\" && sinon || null));\n\n/*jslint eqeqeq: false, plusplus: false, evil: true, onevar: false, browser: true, forin: false*/\n/*global module, require, window*/\n/**\n * Fake timer API\n * setTimeout\n * setInterval\n * clearTimeout\n * clearInterval\n * tick\n * reset\n * Date\n *\n * Inspired by jsUnitMockTimeOut from JsUnit\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\nif (typeof sinon == \"undefined\") {\n    var sinon = {};\n}\n\n(function (global) {\n    // node expects setTimeout/setInterval to return a fn object w/ .ref()/.unref()\n    // browsers, a number.\n    // see https://github.com/cjohansen/Sinon.JS/pull/436\n    var timeoutResult = setTimeout(function() {}, 0);\n    var addTimerReturnsObject = typeof timeoutResult === 'object';\n    clearTimeout(timeoutResult);\n\n    var id = 1;\n\n    function addTimer(args, recurring) {\n        if (args.length === 0) {\n            throw new Error(\"Function requires at least 1 parameter\");\n        }\n\n        if (typeof args[0] === \"undefined\") {\n            throw new Error(\"Callback must be provided to timer calls\");\n        }\n\n        var toId = id++;\n        var delay = args[1] || 0;\n\n        if (!this.timeouts) {\n            this.timeouts = {};\n        }\n\n        this.timeouts[toId] = {\n            id: toId,\n            func: args[0],\n            callAt: this.now + delay,\n            invokeArgs: Array.prototype.slice.call(args, 2)\n        };\n\n        if (recurring === true) {\n            this.timeouts[toId].interval = delay;\n        }\n\n        if (addTimerReturnsObject) {\n            return {\n                id: toId,\n                ref: function() {},\n                unref: function() {}\n            };\n        }\n        else {\n            return toId;\n        }\n    }\n\n    function parseTime(str) {\n        if (!str) {\n            return 0;\n        }\n\n        var strings = str.split(\":\");\n        var l = strings.length, i = l;\n        var ms = 0, parsed;\n\n        if (l > 3 || !/^(\\d\\d:){0,2}\\d\\d?$/.test(str)) {\n            throw new Error(\"tick only understands numbers and 'h:m:s'\");\n        }\n\n        while (i--) {\n            parsed = parseInt(strings[i], 10);\n\n            if (parsed >= 60) {\n                throw new Error(\"Invalid time \" + str);\n            }\n\n            ms += parsed * Math.pow(60, (l - i - 1));\n        }\n\n        return ms * 1000;\n    }\n\n    function createObject(object) {\n        var newObject;\n\n        if (Object.create) {\n            newObject = Object.create(object);\n        } else {\n            var F = function () {};\n            F.prototype = object;\n            newObject = new F();\n        }\n\n        newObject.Date.clock = newObject;\n        return newObject;\n    }\n\n    sinon.clock = {\n        now: 0,\n\n        create: function create(now) {\n            var clock = createObject(this);\n\n            if (typeof now == \"number\") {\n                clock.now = now;\n            }\n\n            if (!!now && typeof now == \"object\") {\n                throw new TypeError(\"now should be milliseconds since UNIX epoch\");\n            }\n\n            return clock;\n        },\n\n        setTimeout: function setTimeout(callback, timeout) {\n            return addTimer.call(this, arguments, false);\n        },\n\n        clearTimeout: function clearTimeout(timerId) {\n            if (!this.timeouts) {\n                this.timeouts = [];\n            }\n\n            if (timerId in this.timeouts) {\n                delete this.timeouts[timerId];\n            }\n        },\n\n        setInterval: function setInterval(callback, timeout) {\n            return addTimer.call(this, arguments, true);\n        },\n\n        clearInterval: function clearInterval(timerId) {\n            this.clearTimeout(timerId);\n        },\n\n        setImmediate: function setImmediate(callback) {\n            var passThruArgs = Array.prototype.slice.call(arguments, 1);\n\n            return addTimer.call(this, [callback, 0].concat(passThruArgs), false);\n        },\n\n        clearImmediate: function clearImmediate(timerId) {\n            this.clearTimeout(timerId);\n        },\n\n        tick: function tick(ms) {\n            ms = typeof ms == \"number\" ? ms : parseTime(ms);\n            var tickFrom = this.now, tickTo = this.now + ms, previous = this.now;\n            var timer = this.firstTimerInRange(tickFrom, tickTo);\n\n            var firstException;\n            while (timer && tickFrom <= tickTo) {\n                if (this.timeouts[timer.id]) {\n                    tickFrom = this.now = timer.callAt;\n                    try {\n                      this.callTimer(timer);\n                    } catch (e) {\n                      firstException = firstException || e;\n                    }\n                }\n\n                timer = this.firstTimerInRange(previous, tickTo);\n                previous = tickFrom;\n            }\n\n            this.now = tickTo;\n\n            if (firstException) {\n              throw firstException;\n            }\n\n            return this.now;\n        },\n\n        firstTimerInRange: function (from, to) {\n            var timer, smallest = null, originalTimer;\n\n            for (var id in this.timeouts) {\n                if (this.timeouts.hasOwnProperty(id)) {\n                    if (this.timeouts[id].callAt < from || this.timeouts[id].callAt > to) {\n                        continue;\n                    }\n\n                    if (smallest === null || this.timeouts[id].callAt < smallest) {\n                        originalTimer = this.timeouts[id];\n                        smallest = this.timeouts[id].callAt;\n\n                        timer = {\n                            func: this.timeouts[id].func,\n                            callAt: this.timeouts[id].callAt,\n                            interval: this.timeouts[id].interval,\n                            id: this.timeouts[id].id,\n                            invokeArgs: this.timeouts[id].invokeArgs\n                        };\n                    }\n                }\n            }\n\n            return timer || null;\n        },\n\n        callTimer: function (timer) {\n            var exception;\n            if (typeof timer.interval == \"number\") {\n                this.timeouts[timer.id].callAt += timer.interval;\n            } else {\n                delete this.timeouts[timer.id];\n            }\n\n            try {\n                if (typeof timer.func == \"function\") {\n                    timer.func.apply(null, timer.invokeArgs);\n                } else {\n                    eval(timer.func);\n                }\n            } catch (e) {\n              exception = e;\n            }\n\n            if (!this.timeouts[timer.id]) {\n                if (exception) {\n                  throw exception;\n                }\n                return;\n            }\n\n            if (exception) {\n              throw exception;\n            }\n        },\n\n        reset: function reset() {\n            this.timeouts = {};\n        },\n\n        Date: (function () {\n            var NativeDate = Date;\n\n            function ClockDate(year, month, date, hour, minute, second, ms) {\n                // Defensive and verbose to avoid potential harm in passing\n                // explicit undefined when user does not pass argument\n                switch (arguments.length) {\n                case 0:\n                    return new NativeDate(ClockDate.clock.now);\n                case 1:\n                    return new NativeDate(year);\n                case 2:\n                    return new NativeDate(year, month);\n                case 3:\n                    return new NativeDate(year, month, date);\n                case 4:\n                    return new NativeDate(year, month, date, hour);\n                case 5:\n                    return new NativeDate(year, month, date, hour, minute);\n                case 6:\n                    return new NativeDate(year, month, date, hour, minute, second);\n                default:\n                    return new NativeDate(year, month, date, hour, minute, second, ms);\n                }\n            }\n\n            return mirrorDateProperties(ClockDate, NativeDate);\n        }())\n    };\n\n    function mirrorDateProperties(target, source) {\n        if (source.now) {\n            target.now = function now() {\n                return target.clock.now;\n            };\n        } else {\n            delete target.now;\n        }\n\n        if (source.toSource) {\n            target.toSource = function toSource() {\n                return source.toSource();\n            };\n        } else {\n            delete target.toSource;\n        }\n\n        target.toString = function toString() {\n            return source.toString();\n        };\n\n        target.prototype = source.prototype;\n        target.parse = source.parse;\n        target.UTC = source.UTC;\n        target.prototype.toUTCString = source.prototype.toUTCString;\n\n        for (var prop in source) {\n            if (source.hasOwnProperty(prop)) {\n                target[prop] = source[prop];\n            }\n        }\n\n        return target;\n    }\n\n    var methods = [\"Date\", \"setTimeout\", \"setInterval\",\n                   \"clearTimeout\", \"clearInterval\"];\n\n    if (typeof global.setImmediate !== \"undefined\") {\n        methods.push(\"setImmediate\");\n    }\n\n    if (typeof global.clearImmediate !== \"undefined\") {\n        methods.push(\"clearImmediate\");\n    }\n\n    function restore() {\n        var method;\n\n        for (var i = 0, l = this.methods.length; i < l; i++) {\n            method = this.methods[i];\n\n            if (global[method].hadOwnProperty) {\n                global[method] = this[\"_\" + method];\n            } else {\n                try {\n                    delete global[method];\n                } catch (e) {}\n            }\n        }\n\n        // Prevent multiple executions which will completely remove these props\n        this.methods = [];\n\n        qx.util.DeferredCallManager.getInstance().refreshTimeout();\n    }\n\n    function stubGlobal(method, clock) {\n        clock[method].hadOwnProperty = Object.prototype.hasOwnProperty.call(global, method);\n        clock[\"_\" + method] = global[method];\n\n        if (method == \"Date\") {\n            var date = mirrorDateProperties(clock[method], global[method]);\n            global[method] = date;\n        } else {\n            global[method] = function () {\n                return clock[method].apply(clock, arguments);\n            };\n\n            for (var prop in clock[method]) {\n                if (clock[method].hasOwnProperty(prop)) {\n                    global[method][prop] = clock[method][prop];\n                }\n            }\n        }\n\n        global[method].clock = clock;\n    }\n\n    sinon.useFakeTimers = function useFakeTimers(now) {\n        var clock = sinon.clock.create(now);\n        clock.restore = restore;\n        clock.methods = Array.prototype.slice.call(arguments,\n                                                   typeof now == \"number\" ? 1 : 0);\n\n        if (clock.methods.length === 0) {\n            clock.methods = methods;\n        }\n\n        for (var i = 0, l = clock.methods.length; i < l; i++) {\n            stubGlobal(clock.methods[i], clock);\n        }\n\n        return clock;\n    };\n}(typeof global != \"undefined\" && typeof global !== \"function\" ? global : this));\n\nsinon.timers = {\n    setTimeout: setTimeout,\n    clearTimeout: clearTimeout,\n    setImmediate: (typeof setImmediate !== \"undefined\" ? setImmediate : undefined),\n    clearImmediate: (typeof clearImmediate !== \"undefined\" ? clearImmediate: undefined),\n    setInterval: setInterval,\n    clearInterval: clearInterval,\n    Date: Date\n};\n\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = sinon;\n}\n\n/*jslint eqeqeq: false, onevar: false*/\n/*global sinon, module, require, ActiveXObject, XMLHttpRequest, DOMParser*/\n/**\n * Minimal Event interface implementation\n *\n * Original implementation by Sven Fuchs: https://gist.github.com/995028\n * Modifications and tests by Christian Johansen.\n *\n * @author Sven Fuchs (svenfuchs@artweb-design.de)\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2011 Sven Fuchs, Christian Johansen\n */\n\nif (typeof sinon == \"undefined\") {\n    this.sinon = {};\n}\n\n(function () {\n    var push = [].push;\n\n    sinon.Event = function Event(type, bubbles, cancelable, target) {\n        this.initEvent(type, bubbles, cancelable, target);\n    };\n\n    sinon.Event.prototype = {\n        initEvent: function(type, bubbles, cancelable, target) {\n            this.type = type;\n            this.bubbles = bubbles;\n            this.cancelable = cancelable;\n            this.target = target;\n        },\n\n        stopPropagation: function () {},\n\n        preventDefault: function () {\n            this.defaultPrevented = true;\n        }\n    };\n\n    sinon.ProgressEvent = function ProgressEvent(type, progressEventRaw, target) {\n        this.initEvent(type, false, false, target);\n        this.loaded = progressEventRaw.loaded || null;\n        this.total = progressEventRaw.total || null;\n    };\n\n    sinon.ProgressEvent.prototype = new sinon.Event();\n\n    sinon.ProgressEvent.prototype.constructor =  sinon.ProgressEvent;\n\n    sinon.CustomEvent = function CustomEvent(type, customData, target) {\n        this.initEvent(type, false, false, target);\n        this.detail = customData.detail || null;\n    };\n\n    sinon.CustomEvent.prototype = new sinon.Event();\n\n    sinon.CustomEvent.prototype.constructor =  sinon.CustomEvent;\n\n    sinon.EventTarget = {\n        addEventListener: function addEventListener(event, listener) {\n            this.eventListeners = this.eventListeners || {};\n            this.eventListeners[event] = this.eventListeners[event] || [];\n            push.call(this.eventListeners[event], listener);\n        },\n\n        removeEventListener: function removeEventListener(event, listener) {\n            var listeners = this.eventListeners && this.eventListeners[event] || [];\n\n            for (var i = 0, l = listeners.length; i < l; ++i) {\n                if (listeners[i] == listener) {\n                    return listeners.splice(i, 1);\n                }\n            }\n        },\n\n        dispatchEvent: function dispatchEvent(event) {\n            var type = event.type;\n            var listeners = this.eventListeners && this.eventListeners[type] || [];\n\n            for (var i = 0; i < listeners.length; i++) {\n                if (typeof listeners[i] == \"function\") {\n                    listeners[i].call(this, event);\n                } else {\n                    listeners[i].handleEvent(event);\n                }\n            }\n\n            return !!event.defaultPrevented;\n        }\n    };\n}());\n\n/**\n * @depend ../../sinon.js\n * @depend event.js\n */\n/*jslint eqeqeq: false, onevar: false*/\n/*global sinon, module, require, ActiveXObject, XMLHttpRequest, DOMParser*/\n/**\n * Fake XMLHttpRequest object\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\n// wrapper for global\n(function(global) {\n    if (typeof sinon === \"undefined\") {\n        global.sinon = {};\n    }\n\n    var supportsProgress = typeof ProgressEvent !== \"undefined\";\n    var supportsCustomEvent = typeof CustomEvent !== \"undefined\";\n    sinon.xhr = { XMLHttpRequest: global.XMLHttpRequest };\n    var xhr = sinon.xhr;\n    xhr.GlobalXMLHttpRequest = global.XMLHttpRequest;\n    xhr.GlobalActiveXObject = global.ActiveXObject;\n    xhr.supportsActiveX = typeof xhr.GlobalActiveXObject != \"undefined\";\n    xhr.supportsXHR = typeof xhr.GlobalXMLHttpRequest != \"undefined\";\n    xhr.workingXHR = xhr.supportsXHR ? xhr.GlobalXMLHttpRequest : xhr.supportsActiveX\n                                     ? function() { return new xhr.GlobalActiveXObject(\"MSXML2.XMLHTTP.3.0\") } : false;\n    xhr.supportsCORS = 'withCredentials' in (new sinon.xhr.GlobalXMLHttpRequest());\n\n    /*jsl:ignore*/\n    var unsafeHeaders = {\n        \"Accept-Charset\": true,\n        \"Accept-Encoding\": true,\n        \"Connection\": true,\n        \"Content-Length\": true,\n        \"Cookie\": true,\n        \"Cookie2\": true,\n        \"Content-Transfer-Encoding\": true,\n        \"Date\": true,\n        \"Expect\": true,\n        \"Host\": true,\n        \"Keep-Alive\": true,\n        \"Referer\": true,\n        \"TE\": true,\n        \"Trailer\": true,\n        \"Transfer-Encoding\": true,\n        \"Upgrade\": true,\n        \"User-Agent\": true,\n        \"Via\": true\n    };\n    /*jsl:end*/\n\n    function FakeXMLHttpRequest() {\n        this.readyState = FakeXMLHttpRequest.UNSENT;\n        this.requestHeaders = {};\n        this.requestBody = null;\n        this.status = 0;\n        this.statusText = \"\";\n        this.upload = new UploadProgress();\n        if (sinon.xhr.supportsCORS) {\n            this.withCredentials = false;\n        }\n\n\n        var xhr = this;\n        var events = [\"loadstart\", \"load\", \"abort\", \"loadend\"];\n\n        function addEventListener(eventName) {\n            xhr.addEventListener(eventName, function (event) {\n                var listener = xhr[\"on\" + eventName];\n\n                if (listener && typeof listener == \"function\") {\n                    listener.call(this, event);\n                }\n            });\n        }\n\n        for (var i = events.length - 1; i >= 0; i--) {\n            addEventListener(events[i]);\n        }\n\n        if (typeof FakeXMLHttpRequest.onCreate == \"function\") {\n            FakeXMLHttpRequest.onCreate(this);\n        }\n    }\n\n    // An upload object is created for each\n    // FakeXMLHttpRequest and allows upload\n    // events to be simulated using uploadProgress\n    // and uploadError.\n    function UploadProgress() {\n        this.eventListeners = {\n            \"progress\": [],\n            \"load\": [],\n            \"abort\": [],\n            \"error\": []\n        }\n    }\n\n    UploadProgress.prototype.addEventListener = function(event, listener) {\n        this.eventListeners[event].push(listener);\n    };\n\n    UploadProgress.prototype.removeEventListener = function(event, listener) {\n        var listeners = this.eventListeners[event] || [];\n\n        for (var i = 0, l = listeners.length; i < l; ++i) {\n            if (listeners[i] == listener) {\n                return listeners.splice(i, 1);\n            }\n        }\n    };\n\n    UploadProgress.prototype.dispatchEvent = function(event) {\n        var listeners = this.eventListeners[event.type] || [];\n\n        for (var i = 0, listener; (listener = listeners[i]) != null; i++) {\n            listener(event);\n        }\n    };\n\n    function verifyState(xhr) {\n        if (xhr.readyState !== FakeXMLHttpRequest.OPENED) {\n            throw new Error(\"INVALID_STATE_ERR\");\n        }\n\n        if (xhr.sendFlag) {\n            throw new Error(\"INVALID_STATE_ERR\");\n        }\n    }\n\n    // filtering to enable a white-list version of Sinon FakeXhr,\n    // where whitelisted requests are passed through to real XHR\n    function each(collection, callback) {\n        if (!collection) return;\n        for (var i = 0, l = collection.length; i < l; i += 1) {\n            callback(collection[i]);\n        }\n    }\n    function some(collection, callback) {\n        for (var index = 0; index < collection.length; index++) {\n            if(callback(collection[index]) === true) return true;\n        }\n        return false;\n    }\n    // largest arity in XHR is 5 - XHR#open\n    var apply = function(obj,method,args) {\n        switch(args.length) {\n        case 0: return obj[method]();\n        case 1: return obj[method](args[0]);\n        case 2: return obj[method](args[0],args[1]);\n        case 3: return obj[method](args[0],args[1],args[2]);\n        case 4: return obj[method](args[0],args[1],args[2],args[3]);\n        case 5: return obj[method](args[0],args[1],args[2],args[3],args[4]);\n        }\n    };\n\n    FakeXMLHttpRequest.filters = [];\n    FakeXMLHttpRequest.addFilter = function(fn) {\n        this.filters.push(fn)\n    };\n    var IE6Re = /MSIE 6/;\n    FakeXMLHttpRequest.defake = function(fakeXhr,xhrArgs) {\n        var xhr = new sinon.xhr.workingXHR();\n        each([\"open\",\"setRequestHeader\",\"send\",\"abort\",\"getResponseHeader\",\n              \"getAllResponseHeaders\",\"addEventListener\",\"overrideMimeType\",\"removeEventListener\"],\n             function(method) {\n                 fakeXhr[method] = function() {\n                   return apply(xhr,method,arguments);\n                 };\n             });\n\n        var copyAttrs = function(args) {\n            each(args, function(attr) {\n              try {\n                fakeXhr[attr] = xhr[attr]\n              } catch(e) {\n                if(!IE6Re.test(navigator.userAgent)) throw e;\n              }\n            });\n        };\n\n        var stateChange = function() {\n            fakeXhr.readyState = xhr.readyState;\n            if(xhr.readyState >= FakeXMLHttpRequest.HEADERS_RECEIVED) {\n                copyAttrs([\"status\",\"statusText\"]);\n            }\n            if(xhr.readyState >= FakeXMLHttpRequest.LOADING) {\n                copyAttrs([\"responseText\"]);\n            }\n            if(xhr.readyState === FakeXMLHttpRequest.DONE) {\n                copyAttrs([\"responseXML\"]);\n            }\n            if(fakeXhr.onreadystatechange) fakeXhr.onreadystatechange.call(fakeXhr, { target: fakeXhr });\n        };\n        if(xhr.addEventListener) {\n          for(var event in fakeXhr.eventListeners) {\n              if(fakeXhr.eventListeners.hasOwnProperty(event)) {\n                  each(fakeXhr.eventListeners[event],function(handler) {\n                      xhr.addEventListener(event, handler);\n                  });\n              }\n          }\n          xhr.addEventListener(\"readystatechange\",stateChange);\n        } else {\n          xhr.onreadystatechange = stateChange;\n        }\n        apply(xhr,\"open\",xhrArgs);\n    };\n    FakeXMLHttpRequest.useFilters = false;\n\n    function verifyRequestOpened(xhr) {\n        if (xhr.readyState != FakeXMLHttpRequest.OPENED) {\n            throw new Error(\"INVALID_STATE_ERR - \" + xhr.readyState);\n        }\n    }\n\n    function verifyRequestSent(xhr) {\n        if (xhr.readyState == FakeXMLHttpRequest.DONE) {\n            throw new Error(\"Request done\");\n        }\n    }\n\n    function verifyHeadersReceived(xhr) {\n        if (xhr.async && xhr.readyState != FakeXMLHttpRequest.HEADERS_RECEIVED) {\n            throw new Error(\"No headers received\");\n        }\n    }\n\n    function verifyResponseBodyType(body) {\n        if (typeof body != \"string\") {\n            var error = new Error(\"Attempted to respond to fake XMLHttpRequest with \" +\n                                 body + \", which is not a string.\");\n            error.name = \"InvalidBodyException\";\n            throw error;\n        }\n    }\n\n    sinon.extend(FakeXMLHttpRequest.prototype, sinon.EventTarget, {\n        async: true,\n\n        open: function open(method, url, async, username, password) {\n            this.method = method;\n            this.url = url;\n            this.async = typeof async == \"boolean\" ? async : true;\n            this.username = username;\n            this.password = password;\n            this.responseText = null;\n            this.responseXML = null;\n            this.requestHeaders = {};\n            this.sendFlag = false;\n            if(sinon.FakeXMLHttpRequest.useFilters === true) {\n                var xhrArgs = arguments;\n                var defake = some(FakeXMLHttpRequest.filters,function(filter) {\n                    return filter.apply(this,xhrArgs)\n                });\n                if (defake) {\n                  return sinon.FakeXMLHttpRequest.defake(this,arguments);\n                }\n            }\n            this.readyStateChange(FakeXMLHttpRequest.OPENED);\n        },\n\n        readyStateChange: function readyStateChange(state) {\n            this.readyState = state;\n\n            if (typeof this.onreadystatechange == \"function\") {\n                try {\n                    this.onreadystatechange();\n                } catch (e) {\n                    sinon.logError(\"Fake XHR onreadystatechange handler\", e);\n                }\n            }\n\n            this.dispatchEvent(new sinon.Event(\"readystatechange\"));\n\n            switch (this.readyState) {\n                case FakeXMLHttpRequest.DONE:\n                    this.dispatchEvent(new sinon.Event(\"load\", false, false, this));\n                    this.dispatchEvent(new sinon.Event(\"loadend\", false, false, this));\n                    this.upload.dispatchEvent(new sinon.Event(\"load\", false, false, this));\n                    if (supportsProgress) {\n                        this.upload.dispatchEvent(new sinon.ProgressEvent('progress', {loaded: 100, total: 100}));\n                    }\n                    break;\n            }\n        },\n\n        setRequestHeader: function setRequestHeader(header, value) {\n            verifyState(this);\n\n            if (unsafeHeaders[header] || /^(Sec-|Proxy-)/.test(header)) {\n                throw new Error(\"Refused to set unsafe header \\\"\" + header + \"\\\"\");\n            }\n\n            if (this.requestHeaders[header]) {\n                this.requestHeaders[header] += \",\" + value;\n            } else {\n                this.requestHeaders[header] = value;\n            }\n        },\n\n        // Helps testing\n        setResponseHeaders: function setResponseHeaders(headers) {\n            verifyRequestOpened(this);\n            this.responseHeaders = {};\n\n            for (var header in headers) {\n                if (headers.hasOwnProperty(header)) {\n                    this.responseHeaders[header] = headers[header];\n                }\n            }\n\n            if (this.async) {\n                this.readyStateChange(FakeXMLHttpRequest.HEADERS_RECEIVED);\n            } else {\n                this.readyState = FakeXMLHttpRequest.HEADERS_RECEIVED;\n            }\n        },\n\n        // Currently treats ALL data as a DOMString (i.e. no Document)\n        send: function send(data) {\n            verifyState(this);\n\n            if (!/^(get|head)$/i.test(this.method)) {\n                if (this.requestHeaders[\"Content-Type\"]) {\n                    var value = this.requestHeaders[\"Content-Type\"].split(\";\");\n                    this.requestHeaders[\"Content-Type\"] = value[0] + \";charset=utf-8\";\n                } else {\n                    this.requestHeaders[\"Content-Type\"] = \"text/plain;charset=utf-8\";\n                }\n\n                this.requestBody = data;\n            }\n\n            this.errorFlag = false;\n            this.sendFlag = this.async;\n            this.readyStateChange(FakeXMLHttpRequest.OPENED);\n\n            if (typeof this.onSend == \"function\") {\n                this.onSend(this);\n            }\n\n            this.dispatchEvent(new sinon.Event(\"loadstart\", false, false, this));\n        },\n\n        abort: function abort() {\n            this.aborted = true;\n            this.responseText = null;\n            this.errorFlag = true;\n            this.requestHeaders = {};\n\n            if (this.readyState > sinon.FakeXMLHttpRequest.UNSENT && this.sendFlag) {\n                this.readyStateChange(sinon.FakeXMLHttpRequest.DONE);\n                this.sendFlag = false;\n            }\n\n            this.readyState = sinon.FakeXMLHttpRequest.UNSENT;\n\n            this.dispatchEvent(new sinon.Event(\"abort\", false, false, this));\n\n            this.upload.dispatchEvent(new sinon.Event(\"abort\", false, false, this));\n\n            if (typeof this.onerror === \"function\") {\n                this.onerror();\n            }\n        },\n\n        getResponseHeader: function getResponseHeader(header) {\n            if (this.readyState < FakeXMLHttpRequest.HEADERS_RECEIVED) {\n                return null;\n            }\n\n            if (/^Set-Cookie2?$/i.test(header)) {\n                return null;\n            }\n\n            header = header.toLowerCase();\n\n            for (var h in this.responseHeaders) {\n                if (h.toLowerCase() == header) {\n                    return this.responseHeaders[h];\n                }\n            }\n\n            return null;\n        },\n\n        getAllResponseHeaders: function getAllResponseHeaders() {\n            if (this.readyState < FakeXMLHttpRequest.HEADERS_RECEIVED) {\n                return \"\";\n            }\n\n            var headers = \"\";\n\n            for (var header in this.responseHeaders) {\n                if (this.responseHeaders.hasOwnProperty(header) &&\n                    !/^Set-Cookie2?$/i.test(header)) {\n                    headers += header + \": \" + this.responseHeaders[header] + \"\\r\\n\";\n                }\n            }\n\n            return headers;\n        },\n\n        setResponseBody: function setResponseBody(body) {\n            verifyRequestSent(this);\n            verifyHeadersReceived(this);\n            verifyResponseBodyType(body);\n\n            var chunkSize = this.chunkSize || 10;\n            var index = 0;\n            this.responseText = \"\";\n\n            do {\n                if (this.async) {\n                    this.readyStateChange(FakeXMLHttpRequest.LOADING);\n                }\n\n                this.responseText += body.substring(index, index + chunkSize);\n                index += chunkSize;\n            } while (index < body.length);\n\n            var type = this.getResponseHeader(\"Content-Type\");\n\n            if (this.responseText &&\n                (!type || /(text\\/xml)|(application\\/xml)|(\\+xml)/.test(type))) {\n                try {\n                    this.responseXML = FakeXMLHttpRequest.parseXML(this.responseText);\n                } catch (e) {\n                    // Unable to parse XML - no biggie\n                }\n            }\n\n            if (this.async) {\n                this.readyStateChange(FakeXMLHttpRequest.DONE);\n            } else {\n                this.readyState = FakeXMLHttpRequest.DONE;\n            }\n        },\n\n        respond: function respond(status, headers, body) {\n            this.status = typeof status == \"number\" ? status : 200;\n            this.statusText = FakeXMLHttpRequest.statusCodes[this.status];\n            this.setResponseHeaders(headers || {});\n            this.setResponseBody(body || \"\");\n        },\n\n        uploadProgress: function uploadProgress(progressEventRaw) {\n            if (supportsProgress) {\n                this.upload.dispatchEvent(new sinon.ProgressEvent(\"progress\", progressEventRaw));\n            }\n        },\n\n        uploadError: function uploadError(error) {\n            if (supportsCustomEvent) {\n                this.upload.dispatchEvent(new sinon.CustomEvent(\"error\", {\"detail\": error}));\n            }\n        }\n    });\n\n    sinon.extend(FakeXMLHttpRequest, {\n        UNSENT: 0,\n        OPENED: 1,\n        HEADERS_RECEIVED: 2,\n        LOADING: 3,\n        DONE: 4\n    });\n\n    // Borrowed from JSpec\n    FakeXMLHttpRequest.parseXML = function parseXML(text) {\n        var xmlDoc;\n\n        if (typeof DOMParser != \"undefined\") {\n            var parser = new DOMParser();\n            xmlDoc = parser.parseFromString(text, \"text/xml\");\n        } else {\n            xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n            xmlDoc.async = \"false\";\n            xmlDoc.loadXML(text);\n        }\n\n        return xmlDoc;\n    };\n\n    FakeXMLHttpRequest.statusCodes = {\n        100: \"Continue\",\n        101: \"Switching Protocols\",\n        200: \"OK\",\n        201: \"Created\",\n        202: \"Accepted\",\n        203: \"Non-Authoritative Information\",\n        204: \"No Content\",\n        205: \"Reset Content\",\n        206: \"Partial Content\",\n        300: \"Multiple Choice\",\n        301: \"Moved Permanently\",\n        302: \"Found\",\n        303: \"See Other\",\n        304: \"Not Modified\",\n        305: \"Use Proxy\",\n        307: \"Temporary Redirect\",\n        400: \"Bad Request\",\n        401: \"Unauthorized\",\n        402: \"Payment Required\",\n        403: \"Forbidden\",\n        404: \"Not Found\",\n        405: \"Method Not Allowed\",\n        406: \"Not Acceptable\",\n        407: \"Proxy Authentication Required\",\n        408: \"Request Timeout\",\n        409: \"Conflict\",\n        410: \"Gone\",\n        411: \"Length Required\",\n        412: \"Precondition Failed\",\n        413: \"Request Entity Too Large\",\n        414: \"Request-URI Too Long\",\n        415: \"Unsupported Media Type\",\n        416: \"Requested Range Not Satisfiable\",\n        417: \"Expectation Failed\",\n        422: \"Unprocessable Entity\",\n        500: \"Internal Server Error\",\n        501: \"Not Implemented\",\n        502: \"Bad Gateway\",\n        503: \"Service Unavailable\",\n        504: \"Gateway Timeout\",\n        505: \"HTTP Version Not Supported\"\n    };\n\n    sinon.useFakeXMLHttpRequest = function () {\n        sinon.FakeXMLHttpRequest.restore = function restore(keepOnCreate) {\n            if (xhr.supportsXHR) {\n                global.XMLHttpRequest = xhr.GlobalXMLHttpRequest;\n            }\n\n            if (xhr.supportsActiveX) {\n                global.ActiveXObject = xhr.GlobalActiveXObject;\n            }\n\n            delete sinon.FakeXMLHttpRequest.restore;\n\n            if (keepOnCreate !== true) {\n                delete sinon.FakeXMLHttpRequest.onCreate;\n            }\n        };\n        if (xhr.supportsXHR) {\n            global.XMLHttpRequest = sinon.FakeXMLHttpRequest;\n        }\n\n        if (xhr.supportsActiveX) {\n            global.ActiveXObject = function ActiveXObject(objId) {\n                if (objId == \"Microsoft.XMLHTTP\" || /^Msxml2\\.XMLHTTP/i.test(objId)) {\n\n                    return new sinon.FakeXMLHttpRequest();\n                }\n\n                return new xhr.GlobalActiveXObject(objId);\n            };\n        }\n\n        return sinon.FakeXMLHttpRequest;\n    };\n\n    sinon.FakeXMLHttpRequest = FakeXMLHttpRequest;\n\n})(typeof global === \"object\" ? global : this);\n\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = sinon;\n}\n\n/**\n * @depend fake_xml_http_request.js\n */\n/*jslint eqeqeq: false, onevar: false, regexp: false, plusplus: false*/\n/*global module, require, window*/\n/**\n * The Sinon \"server\" mimics a web server that receives requests from\n * sinon.FakeXMLHttpRequest and provides an API to respond to those requests,\n * both synchronously and asynchronously. To respond synchronously, canned\n * answers have to be provided upfront.\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\nif (typeof sinon == \"undefined\") {\n    var sinon = {};\n}\n\nsinon.fakeServer = (function () {\n    var push = [].push;\n    function F() {}\n\n    function create(proto) {\n        F.prototype = proto;\n        return new F();\n    }\n\n    function responseArray(handler) {\n        var response = handler;\n\n        if (Object.prototype.toString.call(handler) != \"[object Array]\") {\n            response = [200, {}, handler];\n        }\n\n        if (typeof response[2] != \"string\") {\n            throw new TypeError(\"Fake server response body should be string, but was \" +\n                                typeof response[2]);\n        }\n\n        return response;\n    }\n\n    var wloc = typeof window !== \"undefined\" ? window.location : {};\n    var rCurrLoc = new RegExp(\"^\" + wloc.protocol + \"//\" + wloc.host);\n\n    function matchOne(response, reqMethod, reqUrl) {\n        var rmeth = response.method;\n        var matchMethod = !rmeth || rmeth.toLowerCase() == reqMethod.toLowerCase();\n        var url = response.url;\n        var matchUrl = !url || url == reqUrl || (typeof url.test == \"function\" && url.test(reqUrl));\n\n        return matchMethod && matchUrl;\n    }\n\n    function match(response, request) {\n        var requestUrl = request.url;\n\n        if (!/^https?:\\/\\//.test(requestUrl) || rCurrLoc.test(requestUrl)) {\n            requestUrl = requestUrl.replace(rCurrLoc, \"\");\n        }\n\n        if (matchOne(response, this.getHTTPMethod(request), requestUrl)) {\n            if (typeof response.response == \"function\") {\n                var ru = response.url;\n                var args = [request].concat(ru && typeof ru.exec == \"function\" ? ru.exec(requestUrl).slice(1) : []);\n                return response.response.apply(response, args);\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    function log(response, request) {\n        var str;\n\n        str =  \"Request:\\n\"  + sinon.format(request)  + \"\\n\\n\";\n        str += \"Response:\\n\" + sinon.format(response) + \"\\n\\n\";\n\n        sinon.log(str);\n    }\n\n    return {\n        create: function () {\n            var server = create(this);\n            this.xhr = sinon.useFakeXMLHttpRequest();\n            server.requests = [];\n\n            this.xhr.onCreate = function (xhrObj) {\n                server.addRequest(xhrObj);\n            };\n\n            return server;\n        },\n\n        addRequest: function addRequest(xhrObj) {\n            var server = this;\n            push.call(this.requests, xhrObj);\n\n            xhrObj.onSend = function () {\n                server.handleRequest(this);\n\n                if (server.autoRespond && !server.responding) {\n                    setTimeout(function () {\n                        server.responding = false;\n                        server.respond();\n                    }, server.autoRespondAfter || 10);\n\n                    server.responding = true;\n                }\n            };\n        },\n\n        getHTTPMethod: function getHTTPMethod(request) {\n            if (this.fakeHTTPMethods && /post/i.test(request.method)) {\n                var matches = (request.requestBody || \"\").match(/_method=([^\\b;]+)/);\n                return !!matches ? matches[1] : request.method;\n            }\n\n            return request.method;\n        },\n\n        handleRequest: function handleRequest(xhr) {\n            if (xhr.async) {\n                if (!this.queue) {\n                    this.queue = [];\n                }\n\n                push.call(this.queue, xhr);\n            } else {\n                this.processRequest(xhr);\n            }\n        },\n\n        respondWith: function respondWith(method, url, body) {\n            if (arguments.length == 1 && typeof method != \"function\") {\n                this.response = responseArray(method);\n                return;\n            }\n\n            if (!this.responses) { this.responses = []; }\n\n            if (arguments.length == 1) {\n                body = method;\n                url = method = null;\n            }\n\n            if (arguments.length == 2) {\n                body = url;\n                url = method;\n                method = null;\n            }\n\n            push.call(this.responses, {\n                method: method,\n                url: url,\n                response: typeof body == \"function\" ? body : responseArray(body)\n            });\n        },\n\n        respond: function respond() {\n            if (arguments.length > 0) this.respondWith.apply(this, arguments);\n            var queue = this.queue || [];\n            var requests = queue.splice(0, queue.length);\n            var request;\n\n            while(request = requests.shift()) {\n                this.processRequest(request);\n            }\n        },\n\n        processRequest: function processRequest(request) {\n            try {\n                if (request.aborted) {\n                    return;\n                }\n\n                var response = this.response || [404, {}, \"\"];\n\n                if (this.responses) {\n                    for (var l = this.responses.length, i = l - 1; i >= 0; i--) {\n                        if (match.call(this, this.responses[i], request)) {\n                            response = this.responses[i].response;\n                            break;\n                        }\n                    }\n                }\n\n                if (request.readyState != 4) {\n                    log(response, request);\n\n                    request.respond(response[0], response[1], response[2]);\n                }\n            } catch (e) {\n                sinon.logError(\"Fake server request processing\", e);\n            }\n        },\n\n        restore: function restore() {\n            return this.xhr.restore && this.xhr.restore.apply(this.xhr, arguments);\n        }\n    };\n}());\n\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = sinon;\n}\n\n/**\n * @depend fake_server.js\n * @depend fake_timers.js\n */\n/*jslint browser: true, eqeqeq: false, onevar: false*/\n/*global sinon*/\n/**\n * Add-on for sinon.fakeServer that automatically handles a fake timer along with\n * the FakeXMLHttpRequest. The direct inspiration for this add-on is jQuery\n * 1.3.x, which does not use xhr object's onreadystatehandler at all - instead,\n * it polls the object for completion with setInterval. Despite the direct\n * motivation, there is nothing jQuery-specific in this file, so it can be used\n * in any environment where the ajax implementation depends on setInterval or\n * setTimeout.\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\n(function () {\n    function Server() {}\n    Server.prototype = sinon.fakeServer;\n\n    sinon.fakeServerWithClock = new Server();\n\n    sinon.fakeServerWithClock.addRequest = function addRequest(xhr) {\n        if (xhr.async) {\n            if (typeof setTimeout.clock == \"object\") {\n                this.clock = setTimeout.clock;\n            } else {\n                this.clock = sinon.useFakeTimers();\n                this.resetClock = true;\n            }\n\n            if (!this.longestTimeout) {\n                var clockSetTimeout = this.clock.setTimeout;\n                var clockSetInterval = this.clock.setInterval;\n                var server = this;\n\n                this.clock.setTimeout = function (fn, timeout) {\n                    server.longestTimeout = Math.max(timeout, server.longestTimeout || 0);\n\n                    return clockSetTimeout.apply(this, arguments);\n                };\n\n                this.clock.setInterval = function (fn, timeout) {\n                    server.longestTimeout = Math.max(timeout, server.longestTimeout || 0);\n\n                    return clockSetInterval.apply(this, arguments);\n                };\n            }\n        }\n\n        return sinon.fakeServer.addRequest.call(this, xhr);\n    };\n\n    sinon.fakeServerWithClock.respond = function respond() {\n        var returnVal = sinon.fakeServer.respond.apply(this, arguments);\n\n        if (this.clock) {\n            this.clock.tick(this.longestTimeout || 0);\n            this.longestTimeout = 0;\n\n            if (this.resetClock) {\n                this.clock.restore();\n                this.resetClock = false;\n            }\n        }\n\n        return returnVal;\n    };\n\n    sinon.fakeServerWithClock.restore = function restore() {\n        if (this.clock) {\n            this.clock.restore();\n        }\n\n        return sinon.fakeServer.restore.apply(this, arguments);\n    };\n}());\n\n/**\n * @depend ../sinon.js\n * @depend collection.js\n * @depend util/fake_timers.js\n * @depend util/fake_server_with_clock.js\n */\n/*jslint eqeqeq: false, onevar: false, plusplus: false*/\n/*global require, module*/\n/**\n * Manages fake collections as well as fake utilities such as Sinon's\n * timers and fake XHR implementation in one convenient object.\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\nif (typeof module !== 'undefined' && module.exports) {\n    var sinon = require(\"../sinon\");\n    sinon.extend(sinon, require(\"./util/fake_timers\"));\n}\n\n(function () {\n    var push = [].push;\n\n    function exposeValue(sandbox, config, key, value) {\n        if (!value) {\n            return;\n        }\n\n        if (config.injectInto && !(key in config.injectInto)) {\n            config.injectInto[key] = value;\n            sandbox.injectedKeys.push(key);\n        } else {\n            push.call(sandbox.args, value);\n        }\n    }\n\n    function prepareSandboxFromConfig(config) {\n        var sandbox = sinon.create(sinon.sandbox);\n\n        if (config.useFakeServer) {\n            if (typeof config.useFakeServer == \"object\") {\n                sandbox.serverPrototype = config.useFakeServer;\n            }\n\n            sandbox.useFakeServer();\n        }\n\n        if (config.useFakeTimers) {\n            if (typeof config.useFakeTimers == \"object\") {\n                sandbox.useFakeTimers.apply(sandbox, config.useFakeTimers);\n            } else {\n                sandbox.useFakeTimers();\n            }\n        }\n\n        return sandbox;\n    }\n\n    sinon.sandbox = sinon.extend(sinon.create(sinon.collection), {\n        useFakeTimers: function useFakeTimers() {\n            this.clock = sinon.useFakeTimers.apply(sinon, arguments);\n\n            return this.add(this.clock);\n        },\n\n        serverPrototype: sinon.fakeServer,\n\n        useFakeServer: function useFakeServer() {\n            var proto = this.serverPrototype || sinon.fakeServer;\n\n            if (!proto || !proto.create) {\n                return null;\n            }\n\n            this.server = proto.create();\n            return this.add(this.server);\n        },\n\n        inject: function (obj) {\n            sinon.collection.inject.call(this, obj);\n\n            if (this.clock) {\n                obj.clock = this.clock;\n            }\n\n            if (this.server) {\n                obj.server = this.server;\n                obj.requests = this.server.requests;\n            }\n\n            return obj;\n        },\n\n        restore: function () {\n            sinon.collection.restore.apply(this, arguments);\n            this.restoreContext();\n        },\n\n        restoreContext: function () {\n            if (this.injectedKeys) {\n                for (var i = 0, j = this.injectedKeys.length; i < j; i++) {\n                    delete this.injectInto[this.injectedKeys[i]];\n                }\n                this.injectedKeys = [];\n            }\n        },\n\n        create: function (config) {\n            if (!config) {\n                return sinon.create(sinon.sandbox);\n            }\n\n            var sandbox = prepareSandboxFromConfig(config);\n            sandbox.args = sandbox.args || [];\n            sandbox.injectedKeys = [];\n            sandbox.injectInto = config.injectInto;\n            var prop, value, exposed = sandbox.inject({});\n\n            if (config.properties) {\n                for (var i = 0, l = config.properties.length; i < l; i++) {\n                    prop = config.properties[i];\n                    value = exposed[prop] || prop == \"sandbox\" && sandbox;\n                    exposeValue(sandbox, config, prop, value);\n                }\n            } else {\n                exposeValue(sandbox, config, \"sandbox\", value);\n            }\n\n            return sandbox;\n        }\n    });\n\n    sinon.sandbox.useFakeXMLHttpRequest = sinon.sandbox.useFakeServer;\n\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = sinon.sandbox;\n    }\n}());\n\n/**\n * @depend ../sinon.js\n * @depend stub.js\n * @depend mock.js\n * @depend sandbox.js\n */\n/*jslint eqeqeq: false, onevar: false, forin: true, plusplus: false*/\n/*global module, require, sinon*/\n/**\n * Test function, sandboxes fakes\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\n(function (sinon) {\n    var commonJSModule = typeof module !== 'undefined' && module.exports;\n\n    if (!sinon && commonJSModule) {\n        sinon = require(\"../sinon\");\n    }\n\n    if (!sinon) {\n        return;\n    }\n\n    function test(callback) {\n        var type = typeof callback;\n\n        if (type != \"function\") {\n            throw new TypeError(\"sinon.test needs to wrap a test function, got \" + type);\n        }\n\n        return function () {\n            var config = sinon.getConfig(sinon.config);\n            config.injectInto = config.injectIntoThis && this || config.injectInto;\n            var sandbox = sinon.sandbox.create(config);\n            var exception, result;\n            var args = Array.prototype.slice.call(arguments).concat(sandbox.args);\n\n            try {\n                result = callback.apply(this, args);\n            } catch (e) {\n                exception = e;\n            }\n\n            if (typeof exception !== \"undefined\") {\n                sandbox.restore();\n                throw exception;\n            }\n            else {\n                sandbox.verifyAndRestore();\n            }\n\n            return result;\n        };\n    }\n\n    test.config = {\n        injectIntoThis: true,\n        injectInto: null,\n        properties: [\"spy\", \"stub\", \"mock\", \"clock\", \"server\", \"requests\"],\n        useFakeTimers: true,\n        useFakeServer: true\n    };\n\n    if (commonJSModule) {\n        module.exports = test;\n    } else {\n        sinon.test = test;\n    }\n}(typeof sinon == \"object\" && sinon || null));\n\n/**\n * @depend ../sinon.js\n * @depend test.js\n */\n/*jslint eqeqeq: false, onevar: false, eqeqeq: false*/\n/*global module, require, sinon*/\n/**\n * Test case, sandboxes all test functions\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\n(function (sinon) {\n    var commonJSModule = typeof module !== 'undefined' && module.exports;\n\n    if (!sinon && commonJSModule) {\n        sinon = require(\"../sinon\");\n    }\n\n    if (!sinon || !Object.prototype.hasOwnProperty) {\n        return;\n    }\n\n    function createTest(property, setUp, tearDown) {\n        return function () {\n            if (setUp) {\n                setUp.apply(this, arguments);\n            }\n\n            var exception, result;\n\n            try {\n                result = property.apply(this, arguments);\n            } catch (e) {\n                exception = e;\n            }\n\n            if (tearDown) {\n                tearDown.apply(this, arguments);\n            }\n\n            if (exception) {\n                throw exception;\n            }\n\n            return result;\n        };\n    }\n\n    function testCase(tests, prefix) {\n        /*jsl:ignore*/\n        if (!tests || typeof tests != \"object\") {\n            throw new TypeError(\"sinon.testCase needs an object with test functions\");\n        }\n        /*jsl:end*/\n\n        prefix = prefix || \"test\";\n        var rPrefix = new RegExp(\"^\" + prefix);\n        var methods = {}, testName, property, method;\n        var setUp = tests.setUp;\n        var tearDown = tests.tearDown;\n\n        for (testName in tests) {\n            if (tests.hasOwnProperty(testName)) {\n                property = tests[testName];\n\n                if (/^(setUp|tearDown)$/.test(testName)) {\n                    continue;\n                }\n\n                if (typeof property == \"function\" && rPrefix.test(testName)) {\n                    method = property;\n\n                    if (setUp || tearDown) {\n                        method = createTest(property, setUp, tearDown);\n                    }\n\n                    methods[testName] = sinon.test(method);\n                } else {\n                    methods[testName] = tests[testName];\n                }\n            }\n        }\n\n        return methods;\n    }\n\n    if (commonJSModule) {\n        module.exports = testCase;\n    } else {\n        sinon.testCase = testCase;\n    }\n}(typeof sinon == \"object\" && sinon || null));\n\n/**\n * @depend ../sinon.js\n * @depend stub.js\n */\n/*jslint eqeqeq: false, onevar: false, nomen: false, plusplus: false*/\n/*global module, require, sinon*/\n/**\n * Assertions matching the test spy retrieval interface.\n *\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2010-2013 Christian Johansen\n */\n\n(function (sinon, global) {\n    var commonJSModule = typeof module !== \"undefined\" && module.exports;\n    var slice = Array.prototype.slice;\n    var assert;\n\n    if (!sinon && commonJSModule) {\n        sinon = require(\"../sinon\");\n    }\n\n    if (!sinon) {\n        return;\n    }\n\n    function verifyIsStub() {\n        var method;\n\n        for (var i = 0, l = arguments.length; i < l; ++i) {\n            method = arguments[i];\n\n            if (!method) {\n                assert.fail(\"fake is not a spy\");\n            }\n\n            if (typeof method != \"function\") {\n                assert.fail(method + \" is not a function\");\n            }\n\n            if (typeof method.getCall != \"function\") {\n                assert.fail(method + \" is not stubbed\");\n            }\n        }\n    }\n\n    function failAssertion(object, msg) {\n        object = object || global;\n        var failMethod = object.fail || assert.fail;\n        failMethod.call(object, msg);\n    }\n\n    function mirrorPropAsAssertion(name, method, message) {\n        if (arguments.length == 2) {\n            message = method;\n            method = name;\n        }\n\n        assert[name] = function (fake) {\n            verifyIsStub(fake);\n\n            var args = slice.call(arguments, 1);\n            var failed = false;\n\n            if (typeof method == \"function\") {\n                failed = !method(fake);\n            } else {\n                failed = typeof fake[method] == \"function\" ?\n                    !fake[method].apply(fake, args) : !fake[method];\n            }\n\n            if (failed) {\n                failAssertion(this, fake.printf.apply(fake, [message].concat(args)));\n            } else {\n                assert.pass(name);\n            }\n        };\n    }\n\n    function exposedName(prefix, prop) {\n        return !prefix || /^fail/.test(prop) ? prop :\n            prefix + prop.slice(0, 1).toUpperCase() + prop.slice(1);\n    }\n\n    assert = {\n        failException: \"AssertError\",\n\n        fail: function fail(message) {\n            var error = new Error(message);\n            error.name = this.failException || assert.failException;\n\n            throw error;\n        },\n\n        pass: function pass(assertion) {},\n\n        callOrder: function assertCallOrder() {\n            verifyIsStub.apply(null, arguments);\n            var expected = \"\", actual = \"\";\n\n            if (!sinon.calledInOrder(arguments)) {\n                try {\n                    expected = [].join.call(arguments, \", \");\n                    var calls = slice.call(arguments);\n                    var i = calls.length;\n                    while (i) {\n                        if (!calls[--i].called) {\n                            calls.splice(i, 1);\n                        }\n                    }\n                    actual = sinon.orderByFirstCall(calls).join(\", \");\n                } catch (e) {\n                    // If this fails, we'll just fall back to the blank string\n                }\n\n                failAssertion(this, \"expected \" + expected + \" to be \" +\n                              \"called in order but were called as \" + actual);\n            } else {\n                assert.pass(\"callOrder\");\n            }\n        },\n\n        callCount: function assertCallCount(method, count) {\n            verifyIsStub(method);\n\n            if (method.callCount != count) {\n                var msg = \"expected %n to be called \" + sinon.timesInWords(count) +\n                    \" but was called %c%C\";\n                failAssertion(this, method.printf(msg));\n            } else {\n                assert.pass(\"callCount\");\n            }\n        },\n\n        expose: function expose(target, options) {\n            if (!target) {\n                throw new TypeError(\"target is null or undefined\");\n            }\n\n            var o = options || {};\n            var prefix = typeof o.prefix == \"undefined\" && \"assert\" || o.prefix;\n            var includeFail = typeof o.includeFail == \"undefined\" || !!o.includeFail;\n\n            for (var method in this) {\n                if (method != \"export\" && (includeFail || !/^(fail)/.test(method))) {\n                    target[exposedName(prefix, method)] = this[method];\n                }\n            }\n\n            return target;\n        },\n\n        match: function match(actual, expectation) {\n            var matcher = sinon.match(expectation);\n            if (matcher.test(actual)) {\n                assert.pass(\"match\");\n            } else {\n                var formatted = [\n                    \"expected value to match\",\n                    \"    expected = \" + sinon.format(expectation),\n                    \"    actual = \" + sinon.format(actual)\n                ]\n                failAssertion(this, formatted.join(\"\\n\"));\n            }\n        }\n    };\n\n    mirrorPropAsAssertion(\"called\", \"expected %n to have been called at least once but was never called\");\n    mirrorPropAsAssertion(\"notCalled\", function (spy) { return !spy.called; },\n                          \"expected %n to not have been called but was called %c%C\");\n    mirrorPropAsAssertion(\"calledOnce\", \"expected %n to be called once but was called %c%C\");\n    mirrorPropAsAssertion(\"calledTwice\", \"expected %n to be called twice but was called %c%C\");\n    mirrorPropAsAssertion(\"calledThrice\", \"expected %n to be called thrice but was called %c%C\");\n    mirrorPropAsAssertion(\"calledOn\", \"expected %n to be called with %1 as this but was called with %t\");\n    mirrorPropAsAssertion(\"alwaysCalledOn\", \"expected %n to always be called with %1 as this but was called with %t\");\n    mirrorPropAsAssertion(\"calledWithNew\", \"expected %n to be called with new\");\n    mirrorPropAsAssertion(\"alwaysCalledWithNew\", \"expected %n to always be called with new\");\n    mirrorPropAsAssertion(\"calledWith\", \"expected %n to be called with arguments %*%C\");\n    mirrorPropAsAssertion(\"calledWithMatch\", \"expected %n to be called with match %*%C\");\n    mirrorPropAsAssertion(\"alwaysCalledWith\", \"expected %n to always be called with arguments %*%C\");\n    mirrorPropAsAssertion(\"alwaysCalledWithMatch\", \"expected %n to always be called with match %*%C\");\n    mirrorPropAsAssertion(\"calledWithExactly\", \"expected %n to be called with exact arguments %*%C\");\n    mirrorPropAsAssertion(\"alwaysCalledWithExactly\", \"expected %n to always be called with exact arguments %*%C\");\n    mirrorPropAsAssertion(\"neverCalledWith\", \"expected %n to never be called with arguments %*%C\");\n    mirrorPropAsAssertion(\"neverCalledWithMatch\", \"expected %n to never be called with match %*%C\");\n    mirrorPropAsAssertion(\"threw\", \"%n did not throw exception%C\");\n    mirrorPropAsAssertion(\"alwaysThrew\", \"%n did not always throw exception%C\");\n\n    if (commonJSModule) {\n        module.exports = assert;\n    } else {\n        sinon.assert = assert;\n    }\n}(typeof sinon == \"object\" && sinon || null, typeof window != \"undefined\" ? window : global));\n\nreturn sinon;}.call(typeof window != 'undefined' && window || {}));\n/**\n * End of original code.\n */\n\n  // Every assertion in Sinon.JS fails by calling this method.\n  //\n  // (In fact, in vanilla Sinon.JS 1.0.0. this is not really the case,\n  //  because the \"fail\" method of the TestCase takes precedence over\n  // \"fail\" method of Sinon.JS)\n  //\n  // Instead of throwing an exception directly, delegate to the\n  // \"fail\" method of the TestCase. In Testrunner2, this means\n  // that the wrapped fail method is called and ensures that\n  // the entire body of each test function is executed.\n  //\n  this.sinon.assert.fail = function(msg) {\n    this.fail(msg, true);\n  };\n\n  // HTTP Status 207 is missing in map to resolve code to status text\n  this.sinon.FakeXMLHttpRequest.statusCodes[207] = \"Multi-Status\";\n\n\n  var origSinon = this.sinon;\n\n  // Expose to qooxdoo\n  var Sinon = qx.dev.unit.Sinon;\n  Sinon.getSinon = function() {\n    return origSinon;\n  };\n\n\n}).call(window);\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Connects the widgets to the browser DOM events.\n */\nqx.Class.define(\"qx.ui.core.EventHandler\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventHandler,\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    this.__manager = qx.event.Registration.getManager(window);\n  },\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_FIRST,\n\n    /** @type {Map} Supported event types. Identical to events map of qx.ui.core.Widget */\n    SUPPORTED_TYPES :\n    {\n      // mouse events\n      mousemove : 1,\n      mouseover : 1,\n      mouseout : 1,\n      mousedown : 1,\n      mouseup : 1,\n      click : 1,\n      auxclick : 1,\n      dblclick : 1,\n      contextmenu : 1,\n      mousewheel : 1,\n\n      // key events\n      keyup : 1,\n      keydown : 1,\n      keypress : 1,\n      keyinput : 1,\n\n      // mouse capture\n      capture : 1,\n      losecapture : 1,\n\n      // focus events\n      focusin : 1,\n      focusout : 1,\n      focus : 1,\n      blur : 1,\n      activate : 1,\n      deactivate : 1,\n\n      // appear events\n      appear : 1,\n      disappear : 1,\n\n      // drag drop events\n      dragstart : 1,\n      dragend : 1,\n      dragover : 1,\n      dragleave : 1,\n      drop : 1,\n      drag : 1,\n      dragchange : 1,\n      droprequest : 1,\n\n      // touch events\n      touchstart : 1,\n      touchend : 1,\n      touchmove : 1,\n      touchcancel : 1,\n\n      // gestures\n      tap : 1,\n      longtap : 1,\n      swipe : 1,\n      dbltap : 1,\n      track : 1,\n      trackend : 1,\n      trackstart : 1,\n      pinch : 1,\n      rotate : 1,\n      roll : 1,\n\n      // pointer events\n      pointermove : 1,\n      pointerover : 1,\n      pointerout : 1,\n      pointerdown : 1,\n      pointerup : 1,\n      pointercancel : 1\n    },\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : false\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __manager : null,\n\n\n    /**\n     * @type {Map} Supported focus event types\n     *\n     * @lint ignoreReferenceField(__focusEvents)\n     */\n    __focusEvents :\n    {\n      focusin : 1,\n      focusout : 1,\n      focus : 1,\n      blur : 1\n    },\n\n\n    /**\n     * @type {Map} Map of events which should be fired independently from being disabled\n     *\n     * @lint ignoreReferenceField(__ignoreDisabled)\n     */\n    __ignoreDisabled :\n    {\n      // mouse events\n      mouseover : 1,\n      mouseout : 1,\n\n      // appear events\n      appear : 1,\n      disappear : 1\n    },\n\n\n    // interface implementation\n    canHandleEvent : function(target, type) {\n      return target instanceof qx.ui.core.Widget;\n    },\n\n\n    /**\n     * Dispatches a DOM event on a widget.\n     *\n     * @param domEvent {qx.event.type.Event} The event object to dispatch.\n     */\n    _dispatchEvent : function(domEvent)\n    {\n      // EVENT TARGET\n      var domTarget = domEvent.getTarget();\n\n      var widgetTarget = qx.ui.core.Widget.getWidgetByElement(domTarget);\n      var targetChanged = false;\n      while (widgetTarget && widgetTarget.isAnonymous())\n      {\n        var targetChanged = true;\n        widgetTarget = widgetTarget.getLayoutParent();\n      }\n\n      // don't activate anonymous widgets!\n      if (widgetTarget && targetChanged && domEvent.getType() == \"activate\") {\n        widgetTarget.getContentElement().activate();\n      }\n\n\n      // Correcting target for focus events\n      if (this.__focusEvents[domEvent.getType()])\n      {\n        widgetTarget = widgetTarget && widgetTarget.getFocusTarget();\n\n        // Whether nothing is returned\n        if (!widgetTarget) {\n          return;\n        }\n      }\n\n\n      // EVENT RELATED TARGET\n      if (domEvent.getRelatedTarget)\n      {\n        var domRelatedTarget = domEvent.getRelatedTarget();\n\n        var widgetRelatedTarget = qx.ui.core.Widget.getWidgetByElement(domRelatedTarget);\n        while (widgetRelatedTarget && widgetRelatedTarget.isAnonymous()) {\n          widgetRelatedTarget = widgetRelatedTarget.getLayoutParent();\n        }\n\n        if (widgetRelatedTarget)\n        {\n          // Correcting target for focus events\n          if (this.__focusEvents[domEvent.getType()]) {\n            widgetRelatedTarget = widgetRelatedTarget.getFocusTarget();\n          }\n\n          // If target and related target are identical ignore the event\n          if (widgetRelatedTarget === widgetTarget) {\n            return;\n          }\n        }\n      }\n\n\n      // EVENT CURRENT TARGET\n      var currentTarget = domEvent.getCurrentTarget();\n\n\n      var currentWidget = qx.ui.core.Widget.getWidgetByElement(currentTarget);\n      if (!currentWidget || currentWidget.isAnonymous()) {\n        return;\n      }\n\n      // Correcting target for focus events\n      if (this.__focusEvents[domEvent.getType()]) {\n        currentWidget = currentWidget.getFocusTarget();\n      }\n\n      // Ignore most events in the disabled state.\n      var type = domEvent.getType();\n      if (!currentWidget || !(currentWidget.isEnabled() || this.__ignoreDisabled[type])) {\n        return;\n      }\n\n\n      // PROCESS LISTENERS\n\n      // Load listeners\n      var capture = domEvent.getEventPhase() == qx.event.type.Event.CAPTURING_PHASE;\n      var listeners = this.__manager.getListeners(currentWidget, type, capture);\n\n      if (domEvent.getEventPhase() == qx.event.type.Event.AT_TARGET) {\n        if (!listeners) {\n          listeners = [];\n        }\n        var otherListeners = this.__manager.getListeners(currentWidget, type, !capture);\n        if (otherListeners) {\n          listeners = listeners.concat(otherListeners);\n        }\n      }\n\n      if (!listeners || listeners.length === 0) {\n        return;\n      }\n\n      // Create cloned event with correct target\n      var widgetEvent = qx.event.Pool.getInstance().getObject(domEvent.constructor);\n      domEvent.clone(widgetEvent);\n\n      widgetEvent.setTarget(widgetTarget);\n      widgetEvent.setRelatedTarget(widgetRelatedTarget||null);\n      widgetEvent.setCurrentTarget(currentWidget);\n\n      // Keep original target of DOM event, otherwise map it to the original\n      var orig = domEvent.getOriginalTarget();\n      if (orig)\n      {\n        var widgetOriginalTarget = qx.ui.core.Widget.getWidgetByElement(orig);\n        while (widgetOriginalTarget && widgetOriginalTarget.isAnonymous()) {\n          widgetOriginalTarget = widgetOriginalTarget.getLayoutParent();\n        }\n\n        widgetEvent.setOriginalTarget(widgetOriginalTarget);\n      }\n      else\n      {\n        widgetEvent.setOriginalTarget(domTarget);\n      }\n\n      // Dispatch it on all listeners\n      var tracker = {};\n      qx.event.Utils.then(tracker, function() {\n        return qx.event.Utils.series(listeners, function(listener) {\n          var context = listener.context || currentWidget;\n          return listener.handler.call(context, widgetEvent);\n        });\n      });\n\n      // Synchronize propagation stopped/prevent default property\n      qx.event.Utils.then(tracker, function() {\n        if (widgetEvent.getPropagationStopped()) {\n          domEvent.stopPropagation();\n        }\n\n        if (widgetEvent.getDefaultPrevented()) {\n          domEvent.preventDefault();\n        }\n      });\n\n      return qx.event.Utils.then(tracker, function() {\n        qx.event.Pool.getInstance().poolObject(widgetEvent);\n      });\n    },\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture)\n    {\n      var elem;\n\n      if (type === \"focus\" || type === \"blur\") {\n        elem = target.getFocusElement();\n      } else {\n        elem = target.getContentElement();\n      }\n\n      if (elem) {\n        elem.addListener(type, this._dispatchEvent, this, capture);\n      }\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture)\n    {\n      var elem;\n\n      if (type === \"focus\" || type === \"blur\") {\n        elem = target.getFocusElement();\n      } else {\n        elem = target.getContentElement();\n      }\n\n      if (elem) {\n        elem.removeListener(type, this._dispatchEvent, this, capture);\n      }\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this.__manager = null;\n  },\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Event dispatcher for all bubbling events.\n */\nqx.Class.define(\"qx.event.dispatch.AbstractBubbling\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventDispatcher,\n  type : \"abstract\",\n\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager) {\n    this._manager = manager;\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT DISPATCHER HELPER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the parent of the given target\n     *\n     * @abstract\n     * @param target {var} The target which parent should be found\n     * @return {var} The parent of the given target\n     */\n    _getParent : function(target) {\n      throw new Error(\"Missing implementation\");\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT DISPATCHER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canDispatchEvent : function(target, event, type) {\n      return event.getBubbles();\n    },\n\n\n    // interface implementation\n    dispatchEvent : function(target, event, type)\n    {\n      var parent = target;\n      var manager = this._manager;\n      var captureListeners, bubbleListeners;\n      var context;\n\n      // Cache list for AT_TARGET\n      var targetList = [];\n\n      captureListeners = manager.getListeners(target, type, true);\n      bubbleListeners = manager.getListeners(target, type, false);\n\n      if (captureListeners) {\n        targetList.push(captureListeners);\n      }\n\n      if (bubbleListeners) {\n        targetList.push(bubbleListeners);\n      }\n\n      // Cache list for CAPTURING_PHASE and BUBBLING_PHASE\n      var parent = this._getParent(target);\n\n      var bubbleList = [];\n      var bubbleTargets = [];\n\n      var captureList = [];\n      var captureTargets = [];\n\n      // Walk up the tree and look for event listeners\n      while (parent != null)\n      {\n        // Attention:\n        // We do not follow the DOM2 events specifications here\n        // http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-flow-capture\n        // Opera is the only browser which conforms to the spec.\n        // Safari and Mozilla do it the same way like qooxdoo does\n        // and add the capture events of the target to the execution list.\n        captureListeners = manager.getListeners(parent, type, true);\n        if (captureListeners)\n        {\n          captureList.push(captureListeners);\n          captureTargets.push(parent);\n        }\n\n        bubbleListeners = manager.getListeners(parent, type, false);\n\n        if (bubbleListeners)\n        {\n          bubbleList.push(bubbleListeners);\n          bubbleTargets.push(parent);\n        }\n\n        parent = this._getParent(parent);\n      }\n\n      var self = this;\n      var tracker = {};\n\n      var __TRACE_LOGGING = false;//(event._type == \"pointerup\" && event._target.className === \"qx-toolbar-button-checked\");\n      var __TRACE = function(){};\n      if (__TRACE_LOGGING) {\n        var serial = (this.SERIAL||0)+1;\n        this.SERIAL=serial + 1;\n        __TRACE = function() {\n          var args = [].slice.apply(arguments);\n          args.unshift(\"serial #\" + serial + \": \");\n          console.log.apply(this, args);\n        }\n      }\n\n      qx.event.Utils.catch(tracker, function() {\n        // This function must exist to suppress \"unhandled rejection\" messages from promises\n        __TRACE(\"Aborted serial=\" + serial + \", type=\" + event.getType());\n      });\n\n      // capturing phase\n      qx.event.Utils.then(tracker, function() {\n        // loop through the hierarchy in reverted order (from root)\n        event.setEventPhase(qx.event.type.Event.CAPTURING_PHASE);\n\n        __TRACE(\"captureList=\" + captureList.length);\n        return qx.event.Utils.series(captureList, function(localList, i) {\n\n          __TRACE(\"captureList[\" + i + \"]: localList.length=\" + localList.length);\n\n          var currentTarget = captureTargets[i];\n          event.setCurrentTarget(currentTarget);\n\n          var result = qx.event.Utils.series(localList, function(listener, listenerIndex) {\n            context = listener.context || currentTarget;\n\n            if (qx.core.Environment.get(\"qx.debug\")) {\n              // warn if the context is disposed\n              if (context && context.isDisposed && context.isDisposed()) {\n                self.warn(\n                  \"The context object '\" + context + \"' for the event '\" +\n                  type + \"' of '\" + currentTarget + \"'is already disposed.\"\n                );\n              }\n            }\n\n            if (!self._manager.isBlacklisted(listener.unique)) {\n              __TRACE(\"captureList[\" + i + \"] => localList[\" + listenerIndex + \"] callListener\");\n              return listener.handler.call(context, event);\n            } else {\n              __TRACE(\"captureList[\" + i + \"] => localList[\" + listenerIndex + \"] is blacklisted\");\n            }\n          }, true);\n          if (result === qx.event.Utils.ABORT) {\n            return qx.event.Utils.reject(tracker);\n          }\n          if (event.getPropagationStopped()) {\n            return qx.event.Utils.reject(tracker);\n          }\n          return result;\n        });\n      });\n\n\n      // at target\n      qx.event.Utils.then(tracker, function() {\n        event.setEventPhase(qx.event.type.Event.AT_TARGET);\n        event.setCurrentTarget(target);\n\n        __TRACE(\"targetList=\" + targetList.length);\n        return qx.event.Utils.series(targetList, function(localList, i) {\n          __TRACE(\"targetList[\" + i + \"] localList.length=\" + localList.length);\n\n          var result = qx.event.Utils.series(localList, function(listener, listenerIndex) {\n            __TRACE(\"targetList[\" + i + \"] -> localList[\" + listenerIndex + \"] callListener\");\n            context = listener.context || target;\n\n            if (qx.core.Environment.get(\"qx.debug\")) {\n              // warn if the context is disposed\n              if (context && context.isDisposed && context.isDisposed()) {\n                self.warn(\n                  \"The context object '\" + context + \"' for the event '\" +\n                  type + \"' of '\" + target + \"'is already disposed.\"\n                );\n              }\n            }\n\n            __TRACE(\"Calling target serial=\" + serial + \", type=\" + event.getType());\n            return listener.handler.call(context, event);\n          }, true);\n          if (result === qx.event.Utils.ABORT) {\n            return qx.event.Utils.reject(tracker);\n          }\n          if (event.getPropagationStopped()) {\n            return qx.event.Utils.reject(tracker);\n          }\n          return result;\n        });\n      });\n\n\n      // bubbling phase\n      // loop through the hierarchy in normal order (to root)\n      qx.event.Utils.then(tracker, function() {\n        event.setEventPhase(qx.event.type.Event.BUBBLING_PHASE);\n\n        __TRACE(\"bubbleList=\" + bubbleList.length);\n        return qx.event.Utils.series(bubbleList, function(localList, i) {\n          __TRACE(\"bubbleList[\" + i + \"] localList.length=\" + localList.length);\n          var currentTarget = bubbleTargets[i];\n          event.setCurrentTarget(currentTarget);\n\n          var result = qx.event.Utils.series(localList, function(listener, listenerIndex) {\n            __TRACE(\"bubbleList[\" + i + \"] -> localList[\" + listenerIndex + \"] callListener\");\n            context = listener.context || currentTarget;\n\n            if (qx.core.Environment.get(\"qx.debug\")) {\n              // warn if the context is disposed\n              if (context && context.isDisposed && context.isDisposed()) {\n                self.warn(\n                  \"The context object '\" + context + \"' for the event '\" +\n                  type + \"' of '\" + currentTarget + \"'is already disposed.\"\n                );\n              }\n            }\n\n            return listener.handler.call(context, event);\n          }, true);\n\n          if (result === qx.event.Utils.ABORT) {\n            return qx.event.Utils.reject(tracker);\n          }\n          if (event.getPropagationStopped()) {\n            return qx.event.Utils.reject(tracker);\n          }\n          return result;\n        });\n      });\n\n      if (__TRACE_LOGGING) {\n        if (tracker.promise) {\n          __TRACE(\"events promised\");\n          qx.event.Utils.then(tracker, function() {\n            __TRACE(\"events promised done\");\n          });\n        } else {\n          __TRACE(\"events done\");\n        }\n      }\n      return tracker.promise;\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Event dispatcher for all bubbling events on DOM elements.\n */\nqx.Class.define(\"qx.event.dispatch.DomBubbling\",\n{\n  extend : qx.event.dispatch.AbstractBubbling,\n\n\n  statics :\n  {\n    /** @type {Integer} Priority of this dispatcher */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL\n  },\n\n\n  members :\n  {\n    // overridden\n    _getParent : function(target) {\n      return target.parentNode;\n    },\n\n\n    // interface implementation\n    canDispatchEvent : function(target, event, type) {\n      return target.nodeType !== undefined && event.getBubbles();\n    }\n  },\n\n\n  defer : function(statics) {\n    qx.event.Registration.addDispatcher(statics);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Common base class for all DOM events.\n */\nqx.Class.define(\"qx.event.type.Dom\",\n{\n  extend : qx.event.type.Native,\n\n\n\n  statics :\n  {\n    /** @type {Integer} The modifier mask for the shift key. */\n    SHIFT_MASK : 1,\n\n    /** @type {Integer} The modifier mask for the control key. */\n    CTRL_MASK  : 2,\n\n    /** @type {Integer} The modifier mask for the alt key. */\n    ALT_MASK   : 4,\n\n    /** @type {Integer} The modifier mask for the meta key (e.g. apple key on Macs). */\n    META_MASK  : 8,\n\n    /** @type {Integer} The modifier mask for the CapsLock modifier. */\n    CAPSLOCK_MASK : 16,\n\n    /** @type {Integer} The modifier mask for the NumLock modifier. */\n    NUMLOCK_MASK : 32,\n\n    /** @type {Integer} The modifier mask for the ScrollLock modifier. */\n    SCROLLLOCK_MASK : 64\n  },\n\n\n  members :\n  {\n    // overridden\n    _cloneNativeEvent : function(nativeEvent, clone)\n    {\n      var clone = this.base(arguments, nativeEvent, clone);\n\n      clone.shiftKey = nativeEvent.shiftKey;\n      clone.ctrlKey = nativeEvent.ctrlKey;\n      clone.altKey = nativeEvent.altKey;\n      clone.metaKey = nativeEvent.metaKey;\n\n      if (typeof nativeEvent.getModifierState === \"function\") {\n        clone.numLock = nativeEvent.getModifierState(\"NumLock\");\n        clone.capsLock = nativeEvent.getModifierState(\"CapsLock\");\n        clone.scrollLock = nativeEvent.getModifierState(\"ScrollLock\");\n      }\n      else {\n        clone.numLock = false;\n        clone.capsLock = false;\n        clone.scrollLock = false;\n      }\n\n      return clone;\n    },\n\n\n    /**\n     * Return in a bit map, which modifier keys are pressed. The constants\n     * {@link #SHIFT_MASK}, {@link #CTRL_MASK}, {@link #ALT_MASK},\n     * {@link #META_MASK} and {@link #CAPSLOCK_MASK} define the bit positions\n     * of the corresponding keys.\n     *\n     * @return {Integer} A bit map with the pressed modifier keys.\n     */\n    getModifiers : function()\n    {\n      var mask = 0;\n      var evt = this._native;\n      if (evt.shiftKey) {\n        mask |= qx.event.type.Dom.SHIFT_MASK;\n      }\n      if (evt.ctrlKey) {\n        mask |= qx.event.type.Dom.CTRL_MASK;\n      }\n      if (evt.altKey) {\n        mask |= qx.event.type.Dom.ALT_MASK;\n      }\n      if (evt.metaKey) {\n        mask |= qx.event.type.Dom.META_MASK;\n      }\n      return mask;\n    },\n\n    /**\n     * Return in a bit map, which lock keys are pressed. The constants\n     * {@link #CAPSLOCK_MASK}, {@link #NUMLOCK_MASK}, and {@link #SCROLLLOCK_MASK} \n     * define the bit positions of the corresponding keys.\n     *\n     * @return {Integer} A bit map with the locked keys.\n     */\n    getKeyLockState: function () {\n      var mask = 0;\n      var evt = this._native;\n\n      if (evt.capsLock) {\n        mask |= qx.event.type.Dom.CAPSLOCK_MASK;\n      }\n      if (evt.numLock) {\n        mask |= qx.event.type.Dom.NUMLOCK_MASK;\n      }\n      if (evt.scrollLock) {\n        mask |= qx.event.type.Dom.SCROLLLOCK_MASK;\n      }\n      return mask;\n    },\n\n\n    /**\n     * Returns whether the ctrl key is pressed.\n     *\n     * @return {Boolean} whether the ctrl key is pressed.\n     */\n    isCtrlPressed : function() {\n      return this._native.ctrlKey;\n    },\n\n\n    /**\n     * Returns whether the shift key is pressed.\n     *\n     * @return {Boolean} whether the shift key is pressed.\n     */\n    isShiftPressed : function() {\n      return this._native.shiftKey;\n    },\n\n\n    /**\n     * Returns whether the alt key is pressed.\n     *\n     * @return {Boolean} whether the alt key is pressed.\n     */\n    isAltPressed : function() {\n      return this._native.altKey;\n    },\n\n\n    /**\n     * Returns whether the meta key is pressed.\n     *\n     * @return {Boolean} whether the meta key is pressed.\n     */\n    isMetaPressed : function() {\n      return this._native.metaKey;\n    },\n\n    /**\n      * Returns whether the caps-lock modifier is active\n      *\n      * @return {Boolean} whether the CapsLock key is pressed.\n      */\n    isCapsLocked: function () {\n      return this._native.capsLock;\n    },\n\n    /**\n      * Returns whether the num-lock modifier is active\n      *\n      * @return {Boolean} whether the NumLock key is pressed.\n      */\n    isNumLocked: function () {\n      return this._native.numLock;\n    },\n\n    /**\n      * Returns whether the scroll-lock modifier is active\n      *\n      * @return {Boolean} whether the ScrollLock key is pressed.\n      */\n    isScrollLocked: function () {\n      return this._native.scrollLock;\n    },\n\n    /**\n     * Returns whether the ctrl key or (on the Mac) the command key is pressed.\n     *\n     * @return {Boolean} <code>true</code> if the command key is pressed on the Mac\n     *           or the ctrl key is pressed on another system.\n     */\n    isCtrlOrCommandPressed : function()\n    {\n      // Opera seems to use ctrlKey for the cmd key so don't fix that for opera\n      // on mac [BUG #5884]\n      if (\n        qx.core.Environment.get(\"os.name\") == \"osx\" &&\n        qx.core.Environment.get(\"engine.name\") != \"opera\"\n      ) {\n        return this._native.metaKey;\n      } else {\n        return this._native.ctrlKey;\n      }\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Mouse event object.\n *\n * the interface of this class is based on the DOM Level 2 mouse event\n * interface: http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-eventgroupings-mouseevents\n */\nqx.Class.define(\"qx.event.type.Mouse\",\n{\n  extend : qx.event.type.Dom,\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    // overridden\n    _cloneNativeEvent : function(nativeEvent, clone)\n    {\n      var clone = this.base(arguments, nativeEvent, clone);\n\n      clone.button = nativeEvent.button;\n      clone.clientX = Math.round(nativeEvent.clientX);\n      clone.clientY = Math.round(nativeEvent.clientY);\n      clone.pageX = nativeEvent.pageX ? Math.round(nativeEvent.pageX) : undefined;\n      clone.pageY = nativeEvent.pageY ? Math.round(nativeEvent.pageY) : undefined;\n      clone.screenX = Math.round(nativeEvent.screenX);\n      clone.screenY = Math.round(nativeEvent.screenY);\n      clone.wheelDelta = nativeEvent.wheelDelta;\n      clone.wheelDeltaX = nativeEvent.wheelDeltaX;\n      clone.wheelDeltaY = nativeEvent.wheelDeltaY;\n      clone.delta = nativeEvent.delta;\n      clone.deltaX = nativeEvent.deltaX;\n      clone.deltaY = nativeEvent.deltaY;\n      clone.deltaZ = nativeEvent.deltaZ;\n      clone.detail = nativeEvent.detail;\n      clone.axis = nativeEvent.axis;\n      clone.wheelX = nativeEvent.wheelX;\n      clone.wheelY = nativeEvent.wheelY;\n      clone.HORIZONTAL_AXIS = nativeEvent.HORIZONTAL_AXIS;\n      clone.srcElement = nativeEvent.srcElement;\n      clone.target = nativeEvent.target;\n\n      return clone;\n    },\n\n\n    /**\n     * @type {Map} Contains the button ID to identifier data.\n     *\n     * @lint ignoreReferenceField(__buttonsDom2EventModel)\n     */\n    __buttonsDom2EventModel :\n    {\n      0 : \"left\",\n      2 : \"right\",\n      1 : \"middle\"\n    },\n\n\n    /**\n     * @type {Map} Contains the button ID to identifier data.\n     *\n     * @lint ignoreReferenceField(__buttonsDom3EventModel)\n     */\n    __buttonsDom3EventModel :\n    {\n      0 : \"none\",\n      1 : \"left\",\n      2 : \"right\",\n      4 : \"middle\"\n    },\n\n\n    /**\n     * @type {Map} Contains the button ID to identifier data.\n     *\n     * @lint ignoreReferenceField(__buttonsMshtmlEventModel)\n     */\n    __buttonsMshtmlEventModel :\n    {\n      1 : \"left\",\n      2 : \"right\",\n      4 : \"middle\"\n    },\n\n\n    // overridden\n    stop : function() {\n      this.stopPropagation();\n    },\n\n\n    /**\n     * During mouse events caused by the depression or release of a mouse button,\n     * this method can be used to check which mouse button changed state.\n     *\n     * Only internet explorer can compute the button during mouse move events. For\n     * all other browsers the button only contains sensible data during\n     * \"click\" events like \"click\", \"dblclick\", \"mousedown\", \"mouseup\" or \"contextmenu\".\n     *\n     * But still, browsers act different on click:\n     * <pre>\n     * <- = left mouse button\n     * -> = right mouse button\n     * ^  = middle mouse button\n     *\n     * Browser | click, dblclick | contextmenu\n     * ---------------------------------------\n     * Firefox | <- ^ ->         | ->\n     * Chrome  | <- ^            | ->\n     * Safari  | <- ^            | ->\n     * IE      | <- (^ is <-)    | ->\n     * Opera   | <-              | -> (twice)\n     * </pre>\n     *\n     * @return {String} One of \"left\", \"right\", \"middle\" or \"none\"\n     */\n    getButton : function()\n    {\n      switch(this._type)\n      {\n        case \"contextmenu\":\n          return \"right\";\n\n        case \"click\":\n          // IE does not support buttons on click --> assume left button\n          if (qx.core.Environment.get(\"browser.name\") === \"ie\" &&\n          qx.core.Environment.get(\"browser.documentmode\") < 9)\n          {\n            return \"left\";\n          }\n\n        default:\n          if (!(qx.core.Environment.get(\"engine.name\") == \"mshtml\" && qx.core.Environment.get(\"browser.documentmode\") <= 8)) {\n            // if the button value is -1, we should use the DOM level 3 .buttons attribute\n            // the value -1 is only set for pointer events: http://msdn.microsoft.com/en-us/library/ie/ff974877(v=vs.85).aspx\n            if (this._native.button === -1) {\n              return this.__buttonsDom3EventModel[this._native.buttons] || \"none\";\n            }\n            return this.__buttonsDom2EventModel[this._native.button] || \"none\";\n          } else {\n            return this.__buttonsMshtmlEventModel[this._native.button] || \"none\";\n          }\n      }\n    },\n\n\n    /**\n     * Whether the left button is pressed\n     *\n     * @return {Boolean} true when the left button is pressed\n     */\n    isLeftPressed : function() {\n      return this.getButton() === \"left\";\n    },\n\n\n    /**\n     * Whether the middle button is pressed\n     *\n     * @return {Boolean} true when the middle button is pressed\n     */\n    isMiddlePressed : function() {\n      return this.getButton() === \"middle\";\n    },\n\n\n    /**\n     * Whether the right button is pressed\n     *\n     * @return {Boolean} true when the right button is pressed\n     */\n    isRightPressed : function() {\n      return this.getButton() === \"right\";\n    },\n\n\n    /**\n     * Get a secondary event target related to an UI event. This attribute is\n     * used with the mouseover event to indicate the event target which the\n     * pointing device exited and with the mouseout event to indicate the\n     * event target which the pointing device entered.\n     *\n     * @return {Element} The secondary event target.\n     * @signature function()\n     */\n    getRelatedTarget : function() {\n      return this._relatedTarget;\n    },\n\n\n    /**\n     * Get the he horizontal coordinate at which the event occurred relative\n     * to the viewport.\n     *\n     * @return {Integer} The horizontal mouse position\n     */\n    getViewportLeft : function() {\n      return Math.round(this._native.clientX);\n    },\n\n\n    /**\n     * Get the vertical coordinate at which the event occurred relative\n     * to the viewport.\n     *\n     * @return {Integer} The vertical mouse position\n     * @signature function()\n     */\n    getViewportTop : function() {\n      return Math.round(this._native.clientY);\n    },\n\n\n    /**\n     * Get the horizontal position at which the event occurred relative to the\n     * left of the document. This property takes into account any scrolling of\n     * the page.\n     *\n     * @return {Integer} The horizontal mouse position in the document.\n     */\n    getDocumentLeft : function()\n    {\n      if (this._native.pageX !== undefined) {\n        return Math.round(this._native.pageX);\n      } else if (this._native.srcElement) {\n        var win = qx.dom.Node.getWindow(this._native.srcElement);\n        return Math.round(this._native.clientX) + qx.bom.Viewport.getScrollLeft(win);\n      } else {\n        return Math.round(this._native.clientX) + qx.bom.Viewport.getScrollLeft(window);\n      }\n    },\n\n\n    /**\n     * Get the vertical position at which the event occurred relative to the\n     * top of the document. This property takes into account any scrolling of\n     * the page.\n     *\n     * @return {Integer} The vertical mouse position in the document.\n     */\n    getDocumentTop : function()\n    {\n      if (this._native.pageY !== undefined) {\n        return Math.round(this._native.pageY);\n      } else if (this._native.srcElement) {\n        var win = qx.dom.Node.getWindow(this._native.srcElement);\n        return Math.round(this._native.clientY) + qx.bom.Viewport.getScrollTop(win);\n      } else {\n        return Math.round(this._native.clientY) + qx.bom.Viewport.getScrollTop(window);\n      }\n    },\n\n\n    /**\n     * Get the horizontal coordinate at which the event occurred relative to\n     * the origin of the screen coordinate system.\n     *\n     * Note: This value is usually not very useful unless you want to\n     * position a native popup window at this coordinate.\n     *\n     * @return {Integer} The horizontal mouse position on the screen.\n     */\n    getScreenLeft : function() {\n      return Math.round(this._native.screenX);\n    },\n\n\n    /**\n     * Get the vertical coordinate at which the event occurred relative to\n     * the origin of the screen coordinate system.\n     *\n     * Note: This value is usually not very useful unless you want to\n     * position a native popup window at this coordinate.\n     *\n     * @return {Integer} The vertical mouse position on the screen.\n     */\n    getScreenTop : function() {\n      return Math.round(this._native.screenY);\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * Pointer event object.\n *\n * the interface of this class is based on the pointer event interface:\n * http://www.w3.org/TR/pointerevents/\n */\nqx.Class.define(\"qx.event.type.Pointer\",\n{\n  extend : qx.event.type.Mouse,\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    // overridden\n    _cloneNativeEvent : function(nativeEvent, clone)\n    {\n      clone = this.base(arguments, nativeEvent, clone);\n\n      clone.pointerId = nativeEvent.pointerId;\n      clone.width = nativeEvent.width;\n      clone.height = nativeEvent.height;\n      clone.pressure = nativeEvent.pressure;\n      clone.tiltX = nativeEvent.tiltX;\n      clone.tiltY = nativeEvent.tiltY;\n      clone.pointerType = nativeEvent.pointerType;\n      clone.isPrimary = nativeEvent.isPrimary;\n      clone._original = nativeEvent._original;\n      clone.MSPOINTER_TYPE_MOUSE = nativeEvent.MSPOINTER_TYPE_MOUSE;\n      clone.MSPOINTER_TYPE_PEN = nativeEvent.MSPOINTER_TYPE_PEN;\n      clone.MSPOINTER_TYPE_TOUCH = nativeEvent.MSPOINTER_TYPE_TOUCH;\n\n      return clone;\n    },\n\n\n    // overridden\n    getDocumentLeft : function() {\n      var x = this.base(arguments);\n      // iOS 6 does not copy pageX over to the fake pointer event\n      if (x == 0 && this.getPointerType() == \"touch\" && this._native._original !== undefined) {\n        x = Math.round(this._native._original.changedTouches[0].pageX) || 0;\n      }\n      return x;\n    },\n\n\n    // overridden\n    getDocumentTop : function() {\n      var y = this.base(arguments);\n      // iOS 6 does not copy pageY over to the fake pointer event\n      if (y == 0 && this.getPointerType() == \"touch\" && this._native._original !== undefined) {\n        y = Math.round(this._native._original.changedTouches[0].pageY) || 0;\n      }\n      return y;\n    },\n\n\n    /**\n     * Returns a unique identified for the pointer. This id is\n     * unique for all active pointers.\n     *\n     * @return {Number} The unique id.\n     */\n    getPointerId : function() {\n      return this._native.pointerId || 0;\n    },\n\n\n\n    /**\n     * Returns the contact geometry in it's width.\n     *\n     * @return {Number} The number of pixels (width) of the contact geometry.\n     */\n    getWidth : function() {\n      return this._native.width || 0;\n    },\n\n\n    /**\n     * Returns the contact geometry in it's height.\n     *\n     * @return {Number} The number of pixels (height) of the contact geometry.\n     */\n    getHeight : function() {\n      return this._native.height || 0;\n    },\n\n\n    /**\n     * Returns the pressure of the pointer in a rage from 0 to 1.\n     *\n     * @return {Number} <code>1</code> for full pressure. The default is 0.\n     */\n    getPressure : function() {\n      return this._native.pressure || 0;\n    },\n\n\n    /**\n     * Returns the plane angle in degrees between the Y-Z plane and the\n     * plane containing e.g. the stylus and the Y axis.\n     *\n     * @return {Number} A value between -90 and 90. The default is 0.\n     */\n    getTiltX : function() {\n      return this._native.tiltX || 0;\n    },\n\n\n    /**\n     * Returns the plane angle in degrees between the X-Z plane and the\n     * plane containing e.g. the stylus and the X axis.\n     *\n     * @return {Number} A value between -90 and 90. The default is 0.\n     */\n    getTiltY : function() {\n      return this._native.tiltY || 0;\n    },\n\n\n    // overridden\n    getOriginalTarget : function() {\n      if (this._native && this._native._original) { // fake pointer events\n        var orig = this._native._original;\n        // In IE8, the original event can be a DispCEventObj which throws an\n        // exception when trying to access its properties.\n        try {\n          // touch events have a wrong target compared to mouse events\n          if (orig.type.indexOf(\"touch\") == 0) {\n            if (orig.changedTouches[0]) {\n              return document.elementFromPoint(orig.changedTouches[0].clientX, orig.changedTouches[0].clientY);\n            }\n          }\n        } catch(ex) {\n          return qx.bom.Event.getTarget(this._native);\n        }\n        return qx.bom.Event.getTarget(orig);\n      } else if (this._native) { // native pointer events\n        return qx.bom.Event.getTarget(this._native);\n      }\n      return this.base(arguments);\n    },\n\n\n    /**\n     * Returns the device type which the event triggered. This can be one\n     * of the following strings: <code>mouse</code>, <code>wheel</code>,\n     * <code>pen</code> or <code>touch</code>.\n     *\n     * @return {String} The type of the pointer.\n     */\n    getPointerType : function() {\n      if (typeof this._native.pointerType == \"string\") {\n        return this._native.pointerType;\n      }\n\n      if (typeof this._native.pointerType == \"number\") {\n        if (this._native.pointerType == this._native.MSPOINTER_TYPE_MOUSE) {\n          return \"mouse\";\n        }\n        if (this._native.pointerType == this._native.MSPOINTER_TYPE_PEN) {\n          return \"pen\";\n        }\n        if (this._native.pointerType == this._native.MSPOINTER_TYPE_TOUCH) {\n          return \"touch\";\n        }\n      }\n\n      return \"\";\n    },\n\n\n    /**\n     * Returns whether the pointer is the primary pointer.\n     *\n     * @return {Boolean} <code>true</code>, if it's the primary pointer.\n     */\n    isPrimary : function() {\n      return !!this._native.isPrimary;\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Cross-browser custom UI event\n */\nqx.Bootstrap.define(\"qx.event.type.dom.Custom\", {\n\n  extend : Object,\n\n  statics : {\n    PROPERTIES : {\n      bubbles : false,\n      cancelable : true\n    }\n  },\n\n  /**\n   * @param type {String} event type\n   * @param domEvent {Event} Native event that will be used as a template for the new event\n   * @param customProps {Map} Map of event properties (will override the domEvent's values)\n   * @return {Event} event object\n   */\n  construct : function(type, domEvent, customProps) {\n    this._type = type;\n    this._event = this._createEvent();\n    this._initEvent(domEvent, customProps);\n    this._event._original = domEvent;\n\n    this._event.preventDefault = function() {\n      if (this._original.preventDefault) {\n        this._original.preventDefault();\n      } else {\n        // In IE8, the original event can be a DispCEventObj which throws an\n        // exception when trying to access its properties.\n        try {\n          this._original.returnValue = false;\n        } catch(ex) {}\n      }\n    };\n\n    if (this._event.stopPropagation) {\n      this._event._nativeStopPropagation = this._event.stopPropagation;\n    }\n\n    this._event.stopPropagation = function() {\n      this._stopped = true;\n      if (this._nativeStopPropagation) {\n        this._original.stopPropagation();\n        this._nativeStopPropagation();\n      } else {\n        this._original.cancelBubble = true;\n      }\n    };\n\n    return this._event;\n  },\n\n  members : {\n    _type : null,\n    _event : null,\n\n\n    /**\n     * Creates a custom event object\n     * @return {Event} event object\n     */\n    _createEvent : function() {\n      var evt;\n      if (qx.core.Environment.get(\"event.customevent\")) {\n        evt = new window.CustomEvent(this._type);\n      } else if (typeof document.createEvent == \"function\") {\n        evt = document.createEvent(\"UIEvents\");\n      } else if (typeof document.createEventObject == \"object\") {\n        // IE8 doesn't support custom event types\n        evt = {};\n        evt.type = this._type;\n      }\n\n      return evt;\n    },\n\n    /**\n     * Initializes a custom event\n     *\n     * @param domEvent {Event} Native event that will be used as a template for the new event\n     * @param customProps {Map?} Map of event properties (will override the domEvent's values)\n     */\n    _initEvent : function(domEvent, customProps) {\n      customProps = customProps || {};\n      var properties = qx.lang.Object.clone(qx.event.type.dom.Custom.PROPERTIES);\n      for (var prop in customProps) {\n        properties[prop] = customProps[prop];\n      }\n\n      if (this._event.initEvent) {\n        this._event.initEvent(this._type, properties.bubbles, properties.cancelable);\n      }\n\n      for (var prop in properties) {\n        try {\n          this._event[prop] = properties[prop];\n        }catch(ex) {\n          //Nothing - strict mode prevents writing to read only properties\n        }\n      }\n\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Synthetic pointer event\n */\nqx.Bootstrap.define(\"qx.event.type.dom.Pointer\", {\n  extend: qx.event.type.dom.Custom,\n\n  statics : {\n\n    MOUSE_PROPERTIES : [\n      \"bubbles\",\n      \"cancelable\",\n      \"view\",\n      \"detail\",\n      \"screenX\",\n      \"screenY\",\n      \"clientX\",\n      \"clientY\",\n      \"pageX\",\n      \"pageY\",\n      \"ctrlKey\",\n      \"altKey\",\n      \"shiftKey\",\n      \"metaKey\",\n      \"button\",\n      \"which\",\n      \"relatedTarget\",\n      // IE8 properties:\n      \"fromElement\",\n      \"toElement\"\n    ],\n\n    POINTER_PROPERTIES : {\n      pointerId: 1,\n      width: 0,\n      height: 0,\n      pressure: 0.5,\n      tiltX: 0,\n      tiltY: 0,\n      pointerType: \"\",\n      isPrimary: false\n    },\n\n    READONLY_PROPERTIES : [],\n\n    BIND_METHODS : [\"getPointerType\", \"getViewportLeft\", \"getViewportTop\",\n      \"getDocumentLeft\", \"getDocumentTop\", \"getScreenLeft\", \"getScreenTop\"],\n\n    /**\n     * Returns the device type which the event triggered. This can be one\n     * of the following strings: <code>mouse</code>, <code>pen</code>\n     * or <code>touch</code>.\n     *\n     * @return {String} The type of the pointer.\n     */\n    getPointerType : function() {\n      if (typeof this.pointerType == \"string\") {\n        return this.pointerType;\n      }\n\n      if (typeof this.pointerType == \"number\") {\n        if (this.pointerType == this.MSPOINTER_TYPE_MOUSE) {\n          return \"mouse\";\n        }\n        if (this.pointerType == this.MSPOINTER_TYPE_PEN) {\n          return \"pen\";\n        }\n        if (this.pointerType == this.MSPOINTER_TYPE_TOUCH) {\n          return \"touch\";\n        }\n      }\n\n      return \"\";\n    },\n\n\n    /**\n     * Get the horizontal coordinate at which the event occurred relative\n     * to the viewport.\n     *\n     * @return {Number} The horizontal mouse position\n     */\n    getViewportLeft : function() {\n      return this.clientX;\n    },\n\n\n    /**\n     * Get the vertical coordinate at which the event occurred relative\n     * to the viewport.\n     *\n     * @return {Number} The vertical mouse position\n     * @signature function()\n     */\n    getViewportTop : function() {\n      return this.clientY;\n    },\n\n\n    /**\n     * Get the horizontal position at which the event occurred relative to the\n     * left of the document. This property takes into account any scrolling of\n     * the page.\n     *\n     * @return {Number} The horizontal mouse position in the document.\n     */\n    getDocumentLeft : function()\n    {\n      if (this.pageX !== undefined) {\n        return this.pageX;\n      } else {\n        var win = qx.dom.Node.getWindow(this.srcElement);\n        return this.clientX + qx.bom.Viewport.getScrollLeft(win);\n      }\n    },\n\n\n    /**\n     * Get the vertical position at which the event occurred relative to the\n     * top of the document. This property takes into account any scrolling of\n     * the page.\n     *\n     * @return {Number} The vertical mouse position in the document.\n     */\n    getDocumentTop : function()\n    {\n      if (this.pageY !== undefined) {\n        return this.pageY;\n      } else {\n        var win = qx.dom.Node.getWindow(this.srcElement);\n        return this.clientY + qx.bom.Viewport.getScrollTop(win);\n      }\n    },\n\n\n    /**\n     * Get the horizontal coordinate at which the event occurred relative to\n     * the origin of the screen coordinate system.\n     *\n     * Note: This value is usually not very useful unless you want to\n     * position a native popup window at this coordinate.\n     *\n     * @return {Number} The horizontal mouse position on the screen.\n     */\n    getScreenLeft : function() {\n      return this.screenX;\n    },\n\n\n    /**\n     * Get the vertical coordinate at which the event occurred relative to\n     * the origin of the screen coordinate system.\n     *\n     * Note: This value is usually not very useful unless you want to\n     * position a native popup window at this coordinate.\n     *\n     * @return {Number} The vertical mouse position on the screen.\n     */\n    getScreenTop : function() {\n      return this.screenY;\n    },\n\n\n    /**\n     * Manipulates the event object, adding methods if they're not\n     * already present\n     *\n     * @param event {Event} Native event object\n     */\n    normalize : function(event) {\n      var bindMethods = qx.event.type.dom.Pointer.BIND_METHODS;\n      for (var i=0, l=bindMethods.length; i<l; i++) {\n        if (typeof event[bindMethods[i]] != \"function\") {\n          event[bindMethods[i]] = qx.event.type.dom.Pointer[bindMethods[i]].bind(event);\n        }\n      }\n    }\n\n  },\n\n  construct : function(type, domEvent, customProps) {\n    return this.base(arguments, type, domEvent, customProps);\n  },\n\n  members : {\n\n    _createEvent : function() {\n      var evt;\n      if (qx.core.Environment.get(\"event.mouseevent\")) {\n        evt = new window.MouseEvent(this._type);\n      } else if (typeof document.createEvent == \"function\") {\n        /* In IE9, the pageX property of synthetic MouseEvents is always 0\n        and cannot be overridden, so we create a plain UIEvent and add\n        the mouse event properties ourselves. */\n        evt = document.createEvent(qx.core.Environment.get(\"event.mousecreateevent\"));\n      } else if (typeof document.createEventObject == \"object\") {\n        // IE8 doesn't support custom event types\n        evt = {};\n        evt.type = this._type;\n      }\n      return evt;\n    },\n\n\n    _initEvent : function(domEvent, customProps) {\n      customProps = customProps || {};\n      var evt = this._event;\n      var properties = {};\n\n      qx.event.type.dom.Pointer.normalize(domEvent);\n\n      Object.keys(qx.event.type.dom.Pointer.POINTER_PROPERTIES).concat(qx.event.type.dom.Pointer.MOUSE_PROPERTIES)\n      .forEach(function(propName) {\n        if (typeof customProps[propName] !== \"undefined\") {\n          properties[propName] = customProps[propName];\n        } else if (typeof domEvent[propName] !== \"undefined\") {\n          properties[propName] = domEvent[propName];\n        } else if (typeof qx.event.type.dom.Pointer.POINTER_PROPERTIES[propName] !== \"undefined\") {\n          properties[propName] = qx.event.type.dom.Pointer.POINTER_PROPERTIES[propName];\n        }\n      });\n\n      var buttons;\n      switch (domEvent.which) {\n        case 1:\n          buttons = 1;\n          break;\n        case 2:\n          buttons = 4;\n          break;\n        case 3:\n          buttons = 2;\n          break;\n        default:\n          buttons = 0;\n      }\n\n      if (buttons !== undefined) {\n        properties.buttons = buttons;\n        properties.pressure = buttons ? 0.5 : 0;\n      }\n\n      if (evt.initMouseEvent) {\n        evt.initMouseEvent(this._type, properties.bubbles, properties.cancelable, properties.view, properties.detail,\n          properties.screenX, properties.screenY, properties.clientX, properties.clientY, properties.ctrlKey,\n          properties.altKey, properties.shiftKey, properties.metaKey, properties.button, properties.relatedTarget);\n      }\n      else if (evt.initUIEvent) {\n        evt.initUIEvent(this._type,\n          properties.bubbles, properties.cancelable, properties.view, properties.detail);\n      }\n\n      for (var prop in properties) {\n        if (evt[prop] !== properties[prop] && qx.event.type.dom.Pointer.READONLY_PROPERTIES.indexOf(prop) === -1) {\n          try {\n            evt[prop] = properties[prop];\n          }catch(ex) {\n            // Nothing - cannot override properties in strict mode\n          }\n        }\n      }\n\n      // normalize Windows 8 pointer types\n      switch(evt.pointerType) {\n        case domEvent.MSPOINTER_TYPE_MOUSE:\n          evt.pointerType = \"mouse\";\n          break;\n        case domEvent.MSPOINTER_TYPE_PEN:\n          evt.pointerType = \"pen\";\n          break;\n        case domEvent.MSPOINTER_TYPE_TOUCH:\n          evt.pointerType = \"touch\";\n          break;\n      }\n\n      if (evt.pointerType == \"mouse\") {\n        evt.isPrimary = true;\n      }\n    }\n  },\n\n\n  defer: function(statics) {\n    if (qx.core.Environment.get(\"engine.name\") == \"gecko\") {\n      statics.READONLY_PROPERTIES.push(\"buttons\");\n    }\n    else if (qx.core.Environment.get(\"os.name\") == \"ios\" && parseFloat(qx.core.Environment.get(\"os.version\")) >= 8) {\n      statics.READONLY_PROPERTIES = statics.READONLY_PROPERTIES.concat(statics.MOUSE_PROPERTIES);\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Internal class which contains the checks used by {@link qx.core.Environment}.\n * All checks in here are marked as internal which means you should never use\n * them directly.\n *\n * This class should contain all checks about events.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Event\",\n{\n  statics :\n  {\n    /**\n     * Checks if touch events are supported.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if touch events are supported.\n     */\n    getTouch : function() {\n      return (\"ontouchstart\" in window);\n    },\n\n\n    /**\n     * Checks if MSPointer events are available.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if pointer events are supported.\n     */\n    getMsPointer : function()\n    {\n      // Fixes issue #9182: new unified pointer input model since Chrome 55\n      // see https://github.com/qooxdoo/qooxdoo/issues/9182\n      if (\"PointerEvent\" in window) {\n        return true;\n      }\n\n      if (\"pointerEnabled\" in window.navigator) {\n        return window.navigator.pointerEnabled;\n      } else if (\"msPointerEnabled\" in window.navigator) {\n        return window.navigator.msPointerEnabled;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Checks if the proprietary <code>help</code> event is available.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if the \"help\" event is supported.\n     */\n    getHelp : function()\n    {\n      return (\"onhelp\" in document);\n    },\n\n\n    /**\n     * Checks if the <code>hashchange</code> event is available\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if the \"hashchange\" event is supported.\n     */\n    getHashChange : function()\n    {\n      // avoid false positive in IE7\n      var engine = qx.bom.client.Engine.getName();\n      var hashchange = \"onhashchange\" in window;\n      return (engine !== \"mshtml\" && hashchange) ||\n      (engine === \"mshtml\" && \"documentMode\" in document &&\n       document.documentMode >= 8 && hashchange);\n    },\n\n\n    /**\n     * Checks if the DOM2 dispatchEvent method is available\n     * @return {Boolean} <code>true</code> if dispatchEvent is supported.\n     */\n    getDispatchEvent : function() {\n      return typeof document.dispatchEvent == \"function\";\n    },\n\n\n    /**\n     * Checks if the CustomEvent constructor is available and supports\n     * custom event types.\n     *\n     * @return {Boolean} <code>true</code> if Custom Events are available\n     */\n    getCustomEvent : function() {\n      if (!window.CustomEvent) {\n        return false;\n      }\n      try {\n        new window.CustomEvent(\"foo\");\n        return true;\n      } catch(ex) {\n        return false;\n      }\n    },\n\n    /**\n     * Checks if the MouseEvent constructor is available and supports\n     * custom event types.\n     *\n     * @return {Boolean} <code>true</code> if Mouse Events are available\n     */\n    getMouseEvent : function() {\n      if (!window.MouseEvent) {\n        return false;\n      }\n      try {\n        new window.MouseEvent(\"foo\");\n        return true;\n      } catch(ex) {\n        return false;\n      }\n    },\n\n    /**\n     * Returns the event type used in pointer layer to create mouse events.\n     *\n     * @return {String} Either <code>MouseEvents</code> or <code>UIEvents</code>\n     */\n    getMouseCreateEvent : function() {\n      /* For instance, in IE9, the pageX property of synthetic MouseEvents is\n      always 0 and cannot be overridden, so plain UIEvents have to be used with\n      mouse event properties added accordingly. */\n      try {\n        var e = document.createEvent(\"MouseEvents\");\n        var orig = e.pageX;\n\n        e.initMouseEvent(\"click\", false, false, window, 0, 0, 0, orig+1, 0,\n            false, false, false, false, 0, null);\n\n        if(e.pageX !== orig) {\n          return \"MouseEvents\";\n        }\n        return \"UIEvents\";\n      } catch(ex) {\n        return \"UIEvents\";\n      }\n    },\n\n    /**\n     * Checks if the MouseWheel event is available and on which target.\n     *\n     * @param win {Window ? null} An optional window instance to check.\n     * @return {Map} A map containing two values: type and target.\n     */\n    getMouseWheel : function(win) {\n      if (!win) {\n        win = window;\n      }\n\n      // Fix for bug #3234\n      var targets = [win, win.document, win.document.body];\n      var target = win;\n      var type = \"DOMMouseScroll\"; // for FF < 17\n\n      for (var i = 0; i < targets.length; i++) {\n        // check for the spec event (DOM-L3)\n        if (qx.bom.Event.supportsEvent(targets[i], \"wheel\")) {\n          type = \"wheel\";\n          target = targets[i];\n          break;\n        }\n        // check for the non spec event\n        if (qx.bom.Event.supportsEvent(targets[i], \"mousewheel\")) {\n          type = \"mousewheel\";\n          target = targets[i];\n          break;\n        }\n      };\n\n      return {type: type, target: target};\n    },\n    \n    /**\n     * Detects if the engine/browser supports auxclick events\n     * \n     * See https://github.com/qooxdoo/qooxdoo/issues/9268 \n     *\n     * @return {Boolean} <code>true</code> if auxclick events are supported.\n     */\n    getAuxclickEvent : function() {\n      var hasAuxclick = false;\n      try {\n        hasAuxclick = (\"onauxclick\" in document.documentElement);\n      }\n      catch(ex) {};\n      \n      return (hasAuxclick ? true : false);\n    },\n\n    /**\n     * Checks whether the browser supports passive event handlers.\n     */\n    getPassive: function () {\n      var passiveSupported = false;\r\n      try {\r\n        var options = Object.defineProperties(\r\n          {}, {\r\n            passive: {\r\n              get: function () {\r\n                // this function will be called when the browser\r\n                // attempts to access the passive property.\r\n                passiveSupported = true;\r\n              }\r\n            }\r\n          }\r\n        );\r\n        window.addEventListener(\"test\", options, options);\r\n        window.removeEventListener(\"test\", options, options);\r\n      }\r\n      catch (err) {\r\n          passiveSupported = false;\r\n      }\r\n      return passiveSupported;\n    }\n\n  },\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"event.touch\", statics.getTouch);\n    qx.core.Environment.add(\"event.mouseevent\", statics.getMouseEvent);\n    qx.core.Environment.add(\"event.mousecreateevent\", statics.getMouseCreateEvent);\n    qx.core.Environment.add(\"event.dispatchevent\", statics.getDispatchEvent);\n    qx.core.Environment.add(\"event.customevent\", statics.getCustomEvent);\n    qx.core.Environment.add(\"event.mspointer\", statics.getMsPointer);\n    qx.core.Environment.add(\"event.help\", statics.getHelp);\n    qx.core.Environment.add(\"event.hashchange\", statics.getHashChange);\n    qx.core.Environment.add(\"event.mousewheel\", statics.getMouseWheel);\n    qx.core.Environment.add(\"event.auxclick\", statics.getAuxclickEvent);\n    qx.core.Environment.add(\"event.passive\", statics.getPassive);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * The class is responsible for device detection. This is specially useful\n * if you are on a mobile device.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Device\",\n{\n  statics :\n  {\n    /** Maps user agent names to device IDs */\n    __ids : {\n      \"Windows Phone\": \"iemobile\",\n      \"iPod\" : \"ipod\",\n      \"iPad\" : \"ipad\",\n      \"iPhone\" : \"iphone\",\n      \"PSP\" : \"psp\",\n      \"PLAYSTATION 3\" : \"ps3\",\n      \"Nintendo Wii\" : \"wii\",\n      \"Nintendo DS\" : \"ds\",\n      \"XBOX\" : \"xbox\",\n      \"Xbox\" : \"xbox\"\n    },\n\n\n    /**\n     * Returns the name of the current device if detectable. It falls back to\n     * <code>pc</code> if the detection for other devices fails.\n     *\n     * @internal\n     * @return {String} The string of the device found.\n     */\n    getName : function() {\n      var str = [];\n      for (var key in qx.bom.client.Device.__ids) {\n        str.push(key);\n      }\n      var reg = new RegExp(\"(\" + str.join(\"|\").replace(/\\./g, \"\\.\") + \")\", \"g\");\n      var match = reg.exec(navigator.userAgent);\n\n      if (match && match[1]) {\n        return qx.bom.client.Device.__ids[match[1]];\n      }\n\n      return \"pc\";\n    },\n\n\n    /**\n     * Determines on what type of device the application is running.\n     * Valid values are: \"mobile\", \"tablet\" or \"desktop\".\n     * @return {String} The device type name of determined device.\n     */\n    getType : function() {\n      return qx.bom.client.Device.detectDeviceType(navigator.userAgent);\n    },\n\n\n    /**\n     * Detects the device type, based on given userAgentString.\n     *\n     * @param userAgentString {String} userAgent parameter, needed for decision.\n     * @return {String} The device type name of determined device: \"mobile\",\"desktop\",\"tablet\"\n     */\n    detectDeviceType : function(userAgentString) {\n      if(qx.bom.client.Device.detectTabletDevice(userAgentString)){\n        return \"tablet\";\n      } else if (qx.bom.client.Device.detectMobileDevice(userAgentString)){\n        return \"mobile\";\n      }\n\n      return \"desktop\";\n    },\n\n\n    /**\n     * Detects if a device is a mobile phone. (Tablets excluded.)\n     * @param userAgentString {String} userAgent parameter, needed for decision.\n     * @return {Boolean} Flag which indicates whether it is a mobile device.\n     */\n    detectMobileDevice : function(userAgentString){\n      return /android.+mobile|ip(hone|od)|bada\\/|blackberry|BB10|maemo|opera m(ob|in)i|fennec|NetFront|phone|psp|symbian|IEMobile|windows (ce|phone)|xda/i.test(userAgentString);\n    },\n\n\n    /**\n     * Detects if a device is a tablet device.\n     * @param userAgentString {String} userAgent parameter, needed for decision.\n     * @return {Boolean} Flag which indicates whether it is a tablet device.\n     */\n    detectTabletDevice : function(userAgentString){\n      var isIE10Tablet = (/MSIE 10/i.test(userAgentString)) && (/ARM/i.test(userAgentString)) && !(/windows phone/i.test(userAgentString));\n      var isCommonTablet = (!(/android.+mobile|Tablet PC/i.test(userAgentString)) && (/Android|ipad|tablet|playbook|silk|kindle|psp/i.test(userAgentString)));\n\n      return  isIE10Tablet || isCommonTablet;\n    },\n\n\n    /**\n     * Detects the device's pixel ratio. Returns 1 if detection is not possible.\n     *\n     * @return {Number} The device's pixel ratio\n     */\n    getDevicePixelRatio : function() {\n      if (typeof window.devicePixelRatio !== \"undefined\") {\n        return window.devicePixelRatio;\n      }\n\n      return 1;\n    },\n\n\n    /**\n     * Detects if either touch events or pointer events are supported.\n     * Additionally it checks if touch is enabled for pointer events.\n     *\n     * @return {Boolean} <code>true</code>, if the device supports touch\n     */\n    getTouch : function() {\n      return ((\"ontouchstart\" in window) ||\n        window.navigator.maxTouchPoints > 0 ||\n        window.navigator.msMaxTouchPoints > 0);\n    }\n  },\n\n\n  defer : function(statics) {\n      qx.core.Environment.add(\"device.name\", statics.getName);\n      qx.core.Environment.add(\"device.touch\", statics.getTouch);\n      qx.core.Environment.add(\"device.type\", statics.getType);\n      qx.core.Environment.add(\"device.pixelRatio\", statics.getDevicePixelRatio);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Low-level pointer event handler.\n *\n * @require(qx.bom.client.Event)\n * @require(qx.bom.client.Device)\n */\nqx.Bootstrap.define(\"qx.event.handler.PointerCore\", {\n\n  extend : Object,\n  implement: [ qx.core.IDisposable ],\n\n  statics : {\n    MOUSE_TO_POINTER_MAPPING: {\n      mousedown: \"pointerdown\",\n      mouseup: \"pointerup\",\n      mousemove: \"pointermove\",\n      mouseout: \"pointerout\",\n      mouseover: \"pointerover\"\n    },\n\n    TOUCH_TO_POINTER_MAPPING: {\n      touchstart: \"pointerdown\",\n      touchend: \"pointerup\",\n      touchmove: \"pointermove\",\n      touchcancel: \"pointercancel\"\n    },\n\n    MSPOINTER_TO_POINTER_MAPPING: {\n      MSPointerDown : \"pointerdown\",\n      MSPointerMove : \"pointermove\",\n      MSPointerUp : \"pointerup\",\n      MSPointerCancel : \"pointercancel\",\n      MSPointerLeave : \"pointerleave\",\n      MSPointerEnter: \"pointerenter\",\n      MSPointerOver : \"pointerover\",\n      MSPointerOut : \"pointerout\"\n    },\n\n    POINTER_TO_GESTURE_MAPPING : {\n      pointerdown : \"gesturebegin\",\n      pointerup : \"gesturefinish\",\n      pointercancel : \"gesturecancel\",\n      pointermove : \"gesturemove\"\n    },\n\n    LEFT_BUTTON : (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n      qx.core.Environment.get(\"browser.documentmode\") <= 8) ? 1 : 0,\n\n    SIM_MOUSE_DISTANCE : 25,\n\n    SIM_MOUSE_DELAY : 2500,\n\n    /**\n     * Coordinates of the last touch. This needs to be static because the target could\n     * change between touch and simulated mouse events. Touch events will be detected\n     * by one instance which moves the target. The simulated mouse events will be fired with\n     * a delay which causes another target and with that, another instance of this handler.\n     * last touch was.\n     */\n    __lastTouch : null\n  },\n\n  /**\n   * Create a new instance\n   *\n   * @param target {Element} element on which to listen for native touch events\n   * @param emitter {qx.event.Emitter?} Event emitter (used if dispatchEvent\n   * is not supported, e.g. in IE8)\n   */\n  construct : function(target, emitter) {\n    this.__defaultTarget = target;\n    this.__emitter = emitter;\n    this.__eventNames = [];\n    this.__buttonStates = [];\n    this.__activeTouches = [];\n    this._processedFlag = \"$$qx\" +\n      this.classname.substr(this.classname.lastIndexOf(\".\") + 1) +\n      \"Processed\";\n\n    var engineName = qx.core.Environment.get(\"engine.name\");\n    var docMode = parseInt(qx.core.Environment.get(\"browser.documentmode\"), 10);\n    if (engineName == \"mshtml\" && docMode == 10) {\n      // listen to native prefixed events and custom unprefixed (see bug #8921)\n      this.__eventNames = [\n        \"MSPointerDown\", \"MSPointerMove\", \"MSPointerUp\", \"MSPointerCancel\", \"MSPointerOver\", \"MSPointerOut\",\n        \"pointerdown\", \"pointermove\", \"pointerup\", \"pointercancel\", \"pointerover\", \"pointerout\"\n      ];\n      this._initPointerObserver();\n    } else {\n      if (qx.core.Environment.get(\"event.mspointer\")) {\n        this.__nativePointerEvents = true;\n      }\n      this.__eventNames = [\n        \"pointerdown\", \"pointermove\", \"pointerup\", \"pointercancel\", \"pointerover\", \"pointerout\"\n      ];\n      this._initPointerObserver();\n    }\n    if (!qx.core.Environment.get(\"event.mspointer\")) {\n      if (qx.core.Environment.get(\"device.touch\")) {\n        this.__eventNames = [\"touchstart\", \"touchend\", \"touchmove\", \"touchcancel\"];\n        this._initObserver(this._onTouchEvent);\n      }\n\n      this.__eventNames = [\n        \"mousedown\", \"mouseup\", \"mousemove\", \"mouseover\", \"mouseout\", \"contextmenu\"\n      ];\n      this._initObserver(this._onMouseEvent);\n    }\n  },\n\n\n  members : {\n    __defaultTarget : null,\n    __emitter : null,\n    __eventNames : null,\n    __nativePointerEvents : false,\n    __wrappedListener : null,\n    __lastButtonState : 0,\n    __buttonStates : null,\n    __primaryIdentifier : null,\n    __activeTouches : null,\n    _processedFlag : null,\n\n    /**\n     * Adds listeners to native pointer events if supported\n     */\n    _initPointerObserver : function() {\n      this._initObserver(this._onPointerEvent);\n    },\n\n\n    /**\n     * Register native event listeners\n     * @param callback {Function} listener callback\n     * @param useEmitter {Boolean} attach listener to Emitter instead of\n     * native event\n     */\n    _initObserver : function(callback, useEmitter) {\n      this.__wrappedListener = qx.lang.Function.listener(callback, this);\n      this.__eventNames.forEach(function(type) {\n        if (useEmitter && qx.dom.Node.isDocument(this.__defaultTarget)) {\n          if (!this.__defaultTarget.$$emitter) {\n            this.__defaultTarget.$$emitter = new qx.event.Emitter();\n          }\n          this.__defaultTarget.$$emitter.on(type, this.__wrappedListener);\n        } else {\n          qx.bom.Event.addNativeListener(this.__defaultTarget, type, this.__wrappedListener);\n        }\n      }.bind(this));\n    },\n\n    /**\n     * Handler for native pointer events\n     * @param domEvent {Event}  Native DOM event\n     */\n    _onPointerEvent : function(domEvent) {\n      if (!qx.core.Environment.get(\"event.mspointer\") ||\n          // workaround for bug #8533\n          (qx.core.Environment.get(\"browser.documentmode\") === 10 && domEvent.type.toLowerCase().indexOf(\"ms\") == -1)\n        )\n      {\n        return;\n      }\n      if (!this.__nativePointerEvents) {\n        domEvent.stopPropagation();\n      }\n      var type = qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[domEvent.type] || domEvent.type;\n      var target = qx.bom.Event.getTarget(domEvent);\n      var evt = new qx.event.type.dom.Pointer(type, domEvent);\n      this._fireEvent(evt, type, target);\n    },\n\n\n    /**\n     * Handler for touch events\n     * @param domEvent {Event} Native DOM event\n     */\n    _onTouchEvent: function(domEvent) {\n      if (domEvent[this._processedFlag]) {\n        return;\n      }\n      domEvent[this._processedFlag] = true;\n      var type = qx.event.handler.PointerCore.TOUCH_TO_POINTER_MAPPING[domEvent.type];\n      var changedTouches = domEvent.changedTouches;\n\n      this._determineActiveTouches(domEvent.type, changedTouches);\n\n      // Detecting vacuum touches. (Touches which are not active anymore, but did not fire a touchcancel event)\n      if (domEvent.touches.length < this.__activeTouches.length) {\n        // Firing pointer cancel for previously active touches.\n        for (var i = this.__activeTouches.length - 1; i >= 0; i--) {\n          var cancelEvent = new qx.event.type.dom.Pointer(\"pointercancel\", domEvent, {\n            identifier: this.__activeTouches[i].identifier,\n            target: domEvent.target,\n            pointerType: \"touch\",\n            pointerId: this.__activeTouches[i].identifier + 2\n          });\n\n          this._fireEvent(cancelEvent, \"pointercancel\", domEvent.target);\n        }\n\n        // Reset primary identifier\n        this.__primaryIdentifier = null;\n\n        // cleanup of active touches array.\n        this.__activeTouches = [];\n\n        // Do nothing after pointer cancel.\n        return;\n      }\n\n      if (domEvent.type == \"touchstart\" && this.__primaryIdentifier === null) {\n        this.__primaryIdentifier = changedTouches[0].identifier;\n      }\n\n      for (var i = 0, l = changedTouches.length; i < l; i++) {\n        var touch = changedTouches[i];\n\n        var touchTarget = domEvent.view.document.elementFromPoint(touch.clientX,touch.clientY) || domEvent.target;\n\n        var touchProps = {\n          clientX: touch.clientX,\n          clientY: touch.clientY,\n          pageX: touch.pageX,\n          pageY: touch.pageY,\n          identifier: touch.identifier,\n          screenX: touch.screenX,\n          screenY: touch.screenY,\n          target: touchTarget,\n          pointerType: \"touch\",\n          pointerId: touch.identifier + 2\n        };\n\n        if (domEvent.type == \"touchstart\") {\n          // Fire pointerenter before pointerdown\n          var overEvt = new qx.event.type.dom.Pointer(\"pointerover\", domEvent, touchProps);\n          this._fireEvent(overEvt, \"pointerover\", touchProps.target);\n        }\n\n        if (touch.identifier == this.__primaryIdentifier) {\n          touchProps.isPrimary = true;\n          // always simulate left click on touch interactions for primary pointer\n          touchProps.button = 0;\n          touchProps.buttons = 1;\n          qx.event.handler.PointerCore.__lastTouch = {\n            \"x\": touch.clientX,\n            \"y\": touch.clientY,\n            \"time\": new Date().getTime()\n          };\n        }\n\n        var evt = new qx.event.type.dom.Pointer(type, domEvent, touchProps);\n\n        this._fireEvent(evt, type, touchProps.target);\n\n        if (domEvent.type == \"touchend\" || domEvent.type == \"touchcancel\") {\n          // Fire pointerout after pointerup\n          var outEvt = new qx.event.type.dom.Pointer(\"pointerout\", domEvent, touchProps);\n          // fire on the original target to make sure over / out event are on the same target\n          this._fireEvent(outEvt, \"pointerout\", domEvent.target);\n\n          if (this.__primaryIdentifier == touch.identifier) {\n            this.__primaryIdentifier = null;\n          }\n        }\n      }\n    },\n\n\n    /**\n    * Handler for touch events\n    * @param domEvent {Event} Native DOM event\n    */\n    _onMouseEvent : function(domEvent) {\n      if (domEvent[this._processedFlag]) {\n        return;\n      }\n      domEvent[this._processedFlag] = true;\n\n      if (this._isSimulatedMouseEvent(domEvent.clientX, domEvent.clientY)) {\n        /*\n          Simulated MouseEvents are fired by browsers directly after TouchEvents\n          for improving compatibility. They should not trigger PointerEvents.\n        */\n        return;\n      }\n\n      if (domEvent.type == \"mousedown\") {\n        this.__buttonStates[domEvent.which] = 1;\n      } else if (domEvent.type == \"mouseup\") {\n        if (qx.core.Environment.get(\"os.name\") == \"osx\" && qx.core.Environment.get(\"engine.name\") == \"gecko\") {\n          if (this.__buttonStates[domEvent.which] != 1 && domEvent.ctrlKey) {\n            this.__buttonStates[1] = 0;\n          }\n        }\n\n        this.__buttonStates[domEvent.which] = 0;\n      }\n\n      var type = qx.event.handler.PointerCore.MOUSE_TO_POINTER_MAPPING[domEvent.type];\n      var target = qx.bom.Event.getTarget(domEvent);\n\n      var buttonsPressed = qx.lang.Array.sum(this.__buttonStates);\n\n      var mouseProps = {pointerType : \"mouse\", pointerId: 1};\n\n      // if the button state changes but not from or to zero\n      if (this.__lastButtonState != buttonsPressed && buttonsPressed !== 0 && this.__lastButtonState !== 0) {\n        var moveEvt = new qx.event.type.dom.Pointer(\"pointermove\", domEvent, mouseProps);\n        this._fireEvent(moveEvt, \"pointermove\", target);\n      }\n      this.__lastButtonState = buttonsPressed;\n\n      // pointerdown should only trigger form the first pressed button.\n      if (domEvent.type == \"mousedown\" && buttonsPressed > 1) {\n        return;\n      }\n\n      // pointerup should only trigger if user releases all buttons.\n      if (domEvent.type == \"mouseup\" && buttonsPressed > 0) {\n        return;\n      }\n\n      if (domEvent.type == \"contextmenu\") {\n        this.__buttonStates[domEvent.which] = 0;\n        return;\n      }\n\n      var evt = new qx.event.type.dom.Pointer(type, domEvent, mouseProps);\n      this._fireEvent(evt, type, target);\n    },\n\n\n    /**\n     * Determines the current active touches.\n     * @param type {String} the DOM event type.\n     * @param changedTouches {Array} the current changed touches.\n     */\n    _determineActiveTouches: function(type, changedTouches) {\n      if (type == \"touchstart\") {\n        for (var i = 0; i < changedTouches.length; i++) {\n          this.__activeTouches.push(changedTouches[i]);\n        }\n      } else if (type == \"touchend\" || type == \"touchcancel\") {\n        var updatedActiveTouches = [];\n\n        for (var i = 0; i < this.__activeTouches.length; i++) {\n          var add = true;\n          for (var j = 0; j < changedTouches.length; j++) {\n            if (this.__activeTouches[i].identifier == changedTouches[j].identifier) {\n              add = false;\n              break;\n            }\n          }\n\n          if (add) {\n            updatedActiveTouches.push(this.__activeTouches[i]);\n          }\n        }\n        this.__activeTouches = updatedActiveTouches;\n      }\n    },\n\n\n    /**\n     * Detects whether the given MouseEvent position is identical to the previously fired TouchEvent position.\n     * If <code>true</code> the corresponding event can be identified as simulated.\n     * @param x {Integer} current mouse x\n     * @param y {Integer} current mouse y\n     * @return {Boolean} <code>true</code> if passed mouse position is a synthetic MouseEvent.\n     */\n    _isSimulatedMouseEvent: function(x, y) {\n      var touch = qx.event.handler.PointerCore.__lastTouch;\n      if (touch) {\n        var timeSinceTouch = new Date().getTime() - touch.time;\n        var dist = qx.event.handler.PointerCore.SIM_MOUSE_DISTANCE;\n        var distX = Math.abs(x - qx.event.handler.PointerCore.__lastTouch.x);\n        var distY = Math.abs(y - qx.event.handler.PointerCore.__lastTouch.y);\n        if (timeSinceTouch < qx.event.handler.PointerCore.SIM_MOUSE_DELAY) {\n          if (distX < dist || distY < dist) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n\n\n    /**\n     * Removes native pointer event listeners.\n     */\n    _stopObserver : function() {\n      for (var i = 0; i < this.__eventNames.length; i++) {\n        qx.bom.Event.removeNativeListener(this.__defaultTarget, this.__eventNames[i], this.__wrappedListener);\n      }\n    },\n\n    /**\n     * Fire a touch event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     * @return {qx.Promise?} a promise, if one was returned by event handlers\n     */\n    _fireEvent : function(domEvent, type, target)\n    {\n      target = target || domEvent.target;\n      type = type || domEvent.type;\n\n      var gestureEvent;\n      if ((domEvent.pointerType !== \"mouse\" ||\n           domEvent.button <= qx.event.handler.PointerCore.LEFT_BUTTON) &&\n        (type == \"pointerdown\" || type == \"pointerup\" || type == \"pointermove\"))\n      {\n        gestureEvent = new qx.event.type.dom.Pointer(\n          qx.event.handler.PointerCore.POINTER_TO_GESTURE_MAPPING[type],\n          domEvent);\n        qx.event.type.dom.Pointer.normalize(gestureEvent);\n        try {\n          gestureEvent.srcElement = target;\n        }catch(ex) {\n          // Nothing - strict mode prevents writing to read only properties\n        }\n      }\n\n      if (qx.core.Environment.get(\"event.dispatchevent\")) {\n        var tracker = {};\n        if (!this.__nativePointerEvents) {\n          qx.event.Utils.then(tracker, function() {\n            return target.dispatchEvent(domEvent);\n          });\n        }\n        if (gestureEvent) {\n          qx.event.Utils.then(tracker, function() {\n            return target.dispatchEvent(gestureEvent);\n          });\n        }\n        return tracker.promise;\n      } else {\n        // ensure compatibility with native events for IE8\n        try {\n          domEvent.srcElement = target;\n        }catch(ex) {\n          // Nothing - strict mode prevents writing to read only properties\n        }\n\n        while (target) {\n          if (target.$$emitter) {\n            domEvent.currentTarget = target;\n            if (!domEvent._stopped) {\n              target.$$emitter.emit(type, domEvent);\n            }\n            if (gestureEvent && !gestureEvent._stopped) {\n              gestureEvent.currentTarget = target;\n              target.$$emitter.emit(gestureEvent.type, gestureEvent);\n            }\n          }\n          target = target.parentNode;\n        }\n      }\n    },\n\n    /**\n     * Dispose this object\n     */\n    dispose : function() {\n      this._stopObserver();\n      this.__defaultTarget = this.__emitter = null;\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Unified pointer event handler.\n * @require(qx.event.dispatch.DomBubbling)\n * @require(qx.event.type.Pointer) // load-time dependency for early native events\n * @require(qx.event.type.dom.Pointer)\n */\nqx.Class.define(\"qx.event.handler.Pointer\",\n{\n  extend : qx.event.handler.PointerCore,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n  statics : {\n\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES : {\n      pointermove : 1,\n      pointerover : 1,\n      pointerout : 1,\n      pointerdown : 1,\n      pointerup : 1,\n      pointercancel : 1,\n\n      gesturebegin : 1,\n      gesturemove : 1,\n      gesturefinish : 1,\n      gesturecancel : 1\n    },\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE + qx.event.IEventHandler.TARGET_DOCUMENT,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    // Define shorthands\n    this.__manager = manager;\n    this.__window = manager.getWindow();\n    this.__root = this.__window.document;\n\n    qx.event.handler.PointerCore.apply(this, [this.__root]);\n  },\n\n  members : {\n    __manager : null,\n    __window : null,\n    __root : null,\n\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // overridden\n    _initPointerObserver : function() {\n      var useEmitter = false;\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9) {\n        // Workaround for bug #8293: Use an emitter to listen to the\n        // pointer events fired by a pointer handler attached by qxWeb.\n        useEmitter = true;\n      }\n      this._initObserver(this._onPointerEvent, useEmitter);\n    },\n\n\n    /**\n     * Fire a pointer event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     */\n    _fireEvent : function(domEvent, type, target)\n    {\n      if (!target) {\n        target = qx.bom.Event.getTarget(domEvent);\n      }\n\n      // respect anonymous elements\n      while (target && target.getAttribute && target.getAttribute(\"qxanonymous\")) {\n        target = target.parentNode;\n      }\n\n      if (!type) {\n        type = domEvent.type;\n      }\n\n      type = qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[type] || type;\n\n      if (target && target.nodeType)\n      {\n        qx.event.type.dom.Pointer.normalize(domEvent);\n        // ensure compatibility with native events for IE8\n        try {\n          domEvent.srcElement = target;\n        }catch(ex) {\n          // Nothing - cannot change properties in strict mode\n        }\n\n        var tracker = {};\n        var self = this;\n        qx.event.Utils.track(tracker, function() {\n          return qx.event.Registration.fireEvent(\n              target,\n              type,\n              qx.event.type.Pointer,\n              [domEvent, target, null, true, true]\n            );\n        });\n\n        qx.event.Utils.then(tracker, function() {\n          if ((domEvent.getPointerType() !== \"mouse\" ||\n              domEvent.button <= qx.event.handler.PointerCore.LEFT_BUTTON) &&\n              (type == \"pointerdown\" || type == \"pointerup\" || type == \"pointermove\" || type == \"pointercancel\"))\n          {\n             return qx.event.Registration.fireEvent(\n               self.__root,\n               qx.event.handler.PointerCore.POINTER_TO_GESTURE_MAPPING[type],\n               qx.event.type.Pointer,\n               [domEvent, target, null, false, false]\n             );\n           }\n        });\n        qx.event.Utils.then(tracker, function() {\n          // Fire user action event\n          return qx.event.Registration.fireEvent(self.__window, \"useraction\", qx.event.type.Data, [type]);\n        });\n        return tracker.promise;\n      }\n    },\n\n    // overridden\n    _onPointerEvent : function(domEvent) {\n      if (domEvent._original && domEvent._original[this._processedFlag]) {\n        return;\n      }\n\n      var type = qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[domEvent.type] || domEvent.type;\n      return this._fireEvent(domEvent, type, qx.bom.Event.getTarget(domEvent));\n    },\n\n\n    /**\n     * Dispose this object\n     */\n    dispose : function()\n    {\n      this.__callBase(\"dispose\");\n      this.__manager = this.__window = this.__root = null;\n    },\n\n\n    /**\n     * Call overridden method.\n     *\n     * @param method {String} Name of the overridden method.\n     * @param args {Array} Arguments.\n     */\n    __callBase: function(method, args) {\n      qx.event.handler.PointerCore.prototype[method].apply(this, args || []);\n    }\n  },\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n    qx.event.Registration.getManager(document).getHandler(statics);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Listens for (native or synthetic) pointer events and fires events\n * for gestures like \"tap\" or \"swipe\"\n */\nqx.Bootstrap.define(\"qx.event.handler.GestureCore\", {\n  extend : Object,\n  implement: [ qx.core.IDisposable ],\n\n  statics : {\n\n    TYPES : [\"tap\", \"swipe\", \"longtap\", \"dbltap\", \"track\", \"trackstart\", \"trackend\", \"rotate\", \"pinch\", \"roll\"],\n\n    GESTURE_EVENTS : [\"gesturebegin\", \"gesturefinish\", \"gesturemove\", \"gesturecancel\"],\n\n    /** @type {Map} Maximum distance between a pointer-down and pointer-up event, values are configurable */\n    TAP_MAX_DISTANCE : {\"touch\": 40, \"mouse\": 5, \"pen\": 20}, // values are educated guesses\n\n    /** @type {Map} Maximum distance between two subsequent taps, values are configurable */\n    DOUBLETAP_MAX_DISTANCE : {\"touch\": 10, \"mouse\": 4, \"pen\": 10}, // values are educated guesses\n\n    /** @type {Map} The direction of a swipe relative to the axis */\n    SWIPE_DIRECTION :\n    {\n      x : [\"left\", \"right\"],\n      y : [\"up\", \"down\"]\n    },\n\n    /**\n     * @type {Integer} The time delta in milliseconds to fire a long tap event.\n     */\n    LONGTAP_TIME : 500,\n\n    /**\n     * @type {Integer} Maximum time between two tap events that will still trigger a\n     * dbltap event.\n     */\n    DOUBLETAP_TIME : 500,\n\n    /**\n     * @type {Integer} Factor which is used for adapting the delta of the mouse wheel\n     * event to the roll events,\n     */\n    ROLL_FACTOR: 18,\n\n    /**\n     * @type {Integer} Factor which is used for adapting the delta of the touchpad gesture\n     * event to the roll events,\n     */\n    TOUCHPAD_ROLL_FACTOR: 1,\n\n    /**\n     * @type {Integer} Minimum number of wheel events to receive during the\n     * TOUCHPAD_WHEEL_EVENTS_PERIOD to detect a touchpad.\n     */\n    TOUCHPAD_WHEEL_EVENTS_THRESHOLD: 10,\n\n    /**\n     * @type {Integer} Period (in ms) during which the wheel events are counted in order\n     * to detect a touchpad.\n     */\n    TOUCHPAD_WHEEL_EVENTS_PERIOD: 100,\n\n    /**\n     * @type {Integer} Timeout (in ms) after which the touchpad detection is reset if no wheel\n     * events are received in the meantime.\n     */\n    TOUCHPAD_WHEEL_EVENTS_TIMEOUT: 5000\n  },\n\n  /**\n   * @param target {Element} DOM Element that should fire gesture events\n   * @param emitter {qx.event.Emitter?} Event emitter (used if dispatchEvent\n   * is not supported, e.g. in IE8)\n   */\n  construct : function(target, emitter) {\n    this.__defaultTarget = target;\n    this.__emitter = emitter;\n    this.__gesture = {};\n    this.__lastTap = {};\n    this.__stopMomentum = {};\n    this.__momentum = {};\n    this.__rollEvents = [];\n    this._initObserver();\n  },\n\n  members : {\n    __defaultTarget : null,\n    __emitter : null,\n    __gesture : null,\n    __eventName : null,\n    __primaryTarget : null,\n    __isMultiPointerGesture : null,\n    __initialAngle : null,\n    __lastTap : null,\n    __rollImpulseId : null,\n    __stopMomentum : null,\n    __initialDistance : null,\n    __momentum : null,\n    __rollEvents : null,\n    __rollEventsCountStart : 0,\n    __rollEventsCount : 0,\n    __touchPadDetectionPerformed : false,\n    __lastRollEventTime: 0,\n\n    /**\n     * Register pointer event listeners\n     */\n    _initObserver : function() {\n      qx.event.handler.GestureCore.GESTURE_EVENTS.forEach(function(gestureType) {\n        qxWeb(this.__defaultTarget).on(gestureType, this.checkAndFireGesture, this);\n      }.bind(this));\n\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9)\n      {\n        qxWeb(this.__defaultTarget).on(\"dblclick\", this._onDblClick, this);\n      }\n\n      // list to wheel events\n      var data = qx.core.Environment.get(\"event.mousewheel\");\n      qxWeb(data.target).on(data.type, this._fireRoll, this);\n    },\n\n\n    /**\n     * Remove native pointer event listeners.\n     */\n    _stopObserver : function() {\n      qx.event.handler.GestureCore.GESTURE_EVENTS.forEach(function(pointerType) {\n        qxWeb(this.__defaultTarget).off(pointerType, this.checkAndFireGesture, this);\n      }.bind(this));\n\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9)\n      {\n        qxWeb(this.__defaultTarget).off(\"dblclick\", this._onDblClick, this);\n      }\n\n      var data = qx.core.Environment.get(\"event.mousewheel\");\n      qxWeb(data.target).off(data.type, this._fireRoll, this);\n    },\n\n\n    /**\n     * Checks if a gesture was made and fires the gesture event.\n     *\n     * @param domEvent {qx.event.type.Pointer} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     */\n    checkAndFireGesture : function(domEvent, type, target) {\n      if (!type) {\n        type = domEvent.type;\n      }\n\n      if (!target) {\n        target = qx.bom.Event.getTarget(domEvent);\n      }\n\n      if (type == \"gesturebegin\") {\n        this.gestureBegin(domEvent, target);\n      } else if (type == \"gesturemove\") {\n        this.gestureMove(domEvent, target);\n      } else if (type == \"gesturefinish\") {\n        this.gestureFinish(domEvent, target);\n      } else if (type == \"gesturecancel\") {\n        this.gestureCancel(domEvent.pointerId);\n      }\n    },\n\n    /**\n     * Helper method for gesture start.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    gestureBegin : function(domEvent, target) {\n      if (this.__gesture[domEvent.pointerId]) {\n        this.__stopLongTapTimer(this.__gesture[domEvent.pointerId]);\n        delete this.__gesture[domEvent.pointerId];\n      }\n\n      /*\n        If the dom event's target or one of its ancestors have\n        a gesture handler, we don't need to fire the gesture again\n        since it bubbles.\n       */\n      if (this._hasIntermediaryHandler(target)) {\n        return;\n      }\n\n      this.__gesture[domEvent.pointerId] = {\n        \"startTime\" : new Date().getTime(),\n        \"lastEventTime\" : new Date().getTime(),\n        \"startX\" : domEvent.clientX,\n        \"startY\" : domEvent.clientY,\n        \"clientX\" : domEvent.clientX,\n        \"clientY\" : domEvent.clientY,\n        \"velocityX\" : 0,\n        \"velocityY\" : 0,\n        \"target\" : target,\n        \"isTap\" : true,\n        \"isPrimary\" : domEvent.isPrimary,\n        \"longTapTimer\" : window.setTimeout(\n          this.__fireLongTap.bind(this, domEvent, target),\n          qx.event.handler.GestureCore.LONGTAP_TIME\n        )\n      };\n\n      if(domEvent.isPrimary) {\n        this.__isMultiPointerGesture = false;\n        this.__primaryTarget = target;\n        this.__fireTrack(\"trackstart\", domEvent, target);\n      } else {\n        this.__isMultiPointerGesture = true;\n        if(Object.keys(this.__gesture).length === 2) {\n          this.__initialAngle = this._calcAngle();\n          this.__initialDistance = this._calcDistance();\n        }\n      }\n    },\n\n\n    /**\n     * Helper method for gesture move.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    gestureMove : function(domEvent, target) {\n      var gesture = this.__gesture[domEvent.pointerId];\n\n      if (gesture) {\n        var oldClientX = gesture.clientX;\n        var oldClientY = gesture.clientY;\n\n        gesture.clientX = domEvent.clientX;\n        gesture.clientY = domEvent.clientY;\n        gesture.lastEventTime = new Date().getTime();\n\n        if(oldClientX) {\n          gesture.velocityX = gesture.clientX - oldClientX;\n        }\n        if(oldClientY) {\n          gesture.velocityY = gesture.clientY - oldClientY;\n        }\n\n        if (Object.keys(this.__gesture).length === 2) {\n          this.__fireRotate(domEvent, gesture.target);\n          this.__firePinch(domEvent, gesture.target);\n        }\n\n        if(!this.__isMultiPointerGesture) {\n          this.__fireTrack(\"track\", domEvent, gesture.target);\n          this._fireRoll(domEvent, \"touch\", gesture.target);\n        }\n\n        // abort long tap timer if the distance is too big\n        if (gesture.isTap) {\n          gesture.isTap = this._isBelowTapMaxDistance(domEvent);\n          if (!gesture.isTap) {\n            this.__stopLongTapTimer(gesture);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Checks if a DOM element located between the target of a gesture\n     * event and the element this handler is attached to has a gesture\n     * handler of its own.\n     *\n     * @param target {Element} The gesture event's target\n     * @return {Boolean}\n     */\n    _hasIntermediaryHandler: function(target) {\n      while (target && target !== this.__defaultTarget) {\n        if (target.$$gestureHandler) {\n          return true;\n        }\n        target = target.parentNode;\n      }\n      return false;\n    },\n\n\n    /**\n     * Helper method for gesture end.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    gestureFinish : function(domEvent, target) {\n      // If no start position is available for this pointerup event, cancel gesture recognition.\n      if (!this.__gesture[domEvent.pointerId]) {\n        return;\n      }\n\n      var gesture = this.__gesture[domEvent.pointerId];\n      // delete the long tap\n      this.__stopLongTapTimer(gesture);\n\n      /*\n        If the dom event's target or one of its ancestors have\n        a gesture handler, we don't need to fire the gesture again\n        since it bubbles.\n       */\n      if (this._hasIntermediaryHandler(target)) {\n        return;\n      }\n\n      // always start the roll impulse on the original target\n      this.__handleRollImpulse(\n        gesture.velocityX,\n        gesture.velocityY,\n        domEvent,\n        gesture.target\n      );\n\n      this.__fireTrack(\"trackend\", domEvent, gesture.target);\n\n      if (gesture.isTap) {\n        if (target !== gesture.target) {\n\n          delete this.__gesture[domEvent.pointerId];\n          return;\n        }\n\n        this._fireEvent(domEvent, \"tap\", domEvent.target || target);\n\n        var isDblTap = false;\n        if (Object.keys(this.__lastTap).length > 0) {\n          // delete old tap entries\n          var limit = Date.now() - qx.event.handler.GestureCore.DOUBLETAP_TIME;\n          for (var time in this.__lastTap) {\n\n            if (time < limit) {\n              delete this.__lastTap[time];\n            } else {\n              var lastTap = this.__lastTap[time];\n              var isBelowDoubleTapDistance = this.__isBelowDoubleTapDistance(\n                lastTap.x,\n                lastTap.y,\n                domEvent.clientX,\n                domEvent.clientY,\n                domEvent.getPointerType()\n              );\n              var isSameTarget = lastTap.target === (domEvent.target || target);\n              var isSameButton = lastTap.button === domEvent.button;\n\n              if (isBelowDoubleTapDistance && isSameButton && isSameTarget) {\n                isDblTap = true;\n                delete this.__lastTap[time];\n                this._fireEvent(domEvent, \"dbltap\", domEvent.target || target);\n              }\n            }\n          }\n        }\n\n        if (!isDblTap) {\n          this.__lastTap[Date.now()] = {\n            x: domEvent.clientX,\n            y: domEvent.clientY,\n            target: domEvent.target || target,\n            button: domEvent.button\n          };\n        }\n\n      } else if (!this._isBelowTapMaxDistance(domEvent)) {\n        var swipe = this.__getSwipeGesture(domEvent, target);\n        if (swipe) {\n          domEvent.swipe = swipe;\n          this._fireEvent(domEvent, \"swipe\", gesture.target || target);\n        }\n      }\n\n      delete this.__gesture[domEvent.pointerId];\n    },\n\n\n    /**\n     * Stops the momentum scrolling currently running.\n     *\n     * @param id {Integer} The timeoutId of a 'roll' event\n     */\n    stopMomentum : function(id) {\n      this.__stopMomentum[id] = true;\n    },\n\n\n    /**\n     * Cancels the gesture if running.\n     * @param id {Number} The pointer Id.\n     */\n    gestureCancel : function(id) {\n      if (this.__gesture[id]) {\n        this.__stopLongTapTimer(this.__gesture[id]);\n        delete this.__gesture[id];\n      }\n      if (this.__momentum[id]) {\n        this.stopMomentum(this.__momentum[id]);\n        delete this.__momentum[id];\n      }\n    },\n\n\n    /**\n     * Update the target of a running gesture. This is used in virtual widgets\n     * when the DOM element changes.\n     *\n     * @param id {String} The pointer id.\n     * @param target {Element} The new target element.\n     * @internal\n     */\n    updateGestureTarget : function(id, target) {\n      this.__gesture[id].target = target;\n    },\n\n\n    /**\n     * Method which will be called recursively to provide a momentum scrolling.\n     * @param deltaX {Number} The last offset in X direction\n     * @param deltaY {Number} The last offset in Y direction\n     * @param domEvent {Event} The original gesture event\n     * @param target {Element} The target of the momentum roll events\n     * @param time {Number ?} The time in ms between the last two calls\n     */\n    __handleRollImpulse : function(deltaX, deltaY, domEvent, target, time) {\n      var oldTimeoutId = domEvent.timeoutId;\n      if (!time && this.__momentum[domEvent.pointerId]) {\n        // new roll impulse started, stop the old one\n        this.stopMomentum(this.__momentum[domEvent.pointerId]);\n      }\n      // do nothing if we don't need to scroll\n      if ((Math.abs(deltaY) < 1 && Math.abs(deltaX) < 1) || this.__stopMomentum[oldTimeoutId] || !this.getWindow()) {\n        delete this.__stopMomentum[oldTimeoutId];\n        delete this.__momentum[domEvent.pointerId];\n        return;\n      }\n\n      if (!time) {\n        time = 1;\n        var startFactor = 2.8;\n        deltaY = deltaY / startFactor;\n        deltaX = deltaX / startFactor;\n      }\n      time += 0.0006;\n\n      deltaY = deltaY / time;\n      deltaX = deltaX / time;\n\n      // set up a new timer with the new delta\n      var timeoutId = qx.bom.AnimationFrame.request(\n        qx.lang.Function.bind(\n          function(deltaX, deltaY, domEvent, target, time) {\n            this.__handleRollImpulse(deltaX, deltaY, domEvent, target, time);\n          },\n          this, deltaX, deltaY, domEvent, target, time)\n      );\n\n      deltaX = Math.round(deltaX * 100) / 100;\n      deltaY = Math.round(deltaY * 100) / 100;\n\n      // scroll the desired new delta\n      domEvent.delta = {\n        x: -deltaX,\n        y: -deltaY\n      };\n      domEvent.momentum = true;\n      domEvent.timeoutId = timeoutId;\n      this.__momentum[domEvent.pointerId] = timeoutId;\n      this._fireEvent(domEvent, \"roll\", domEvent.target || target);\n    },\n\n\n    /**\n    * Calculates the angle of the primary and secondary pointer.\n    * @return {Number} the rotation angle of the 2 pointers.\n    */\n    _calcAngle : function() {\n      var pointerA = null;\n      var pointerB = null;\n\n      for (var pointerId in this.__gesture) {\n        var gesture = this.__gesture[pointerId];\n        if (pointerA === null) {\n          pointerA = gesture;\n        } else {\n          pointerB = gesture;\n        }\n      }\n\n      var x = pointerA.clientX - pointerB.clientX;\n      var y = pointerA.clientY - pointerB.clientY;\n\n      return (360 + Math.atan2(y, x) * (180/Math.PI)) % 360;\n    },\n\n\n    /**\n     * Calculates the scaling distance between two pointers.\n     * @return {Number} the calculated distance.\n     */\n    _calcDistance : function() {\n      var pointerA = null;\n      var pointerB = null;\n\n      for (var pointerId in this.__gesture) {\n        var gesture = this.__gesture[pointerId];\n        if (pointerA === null) {\n          pointerA = gesture;\n        } else {\n          pointerB = gesture;\n        }\n      }\n\n      var scale = Math.sqrt( Math.pow(pointerA.clientX - pointerB.clientX, 2) + Math.pow(pointerA.clientY - pointerB.clientY, 2));\n      return scale;\n    },\n\n\n    /**\n     * Checks if the distance between the x/y coordinates of DOM event\n     * exceeds TAP_MAX_DISTANCE and returns the result.\n     *\n     * @param domEvent {Event} The DOM event from the browser.\n     * @return {Boolean|null} true if distance is below TAP_MAX_DISTANCE.\n     */\n    _isBelowTapMaxDistance: function(domEvent) {\n      var delta = this._getDeltaCoordinates(domEvent);\n      var maxDistance = qx.event.handler.GestureCore.TAP_MAX_DISTANCE[domEvent.getPointerType()];\n      if (!delta) {\n        return null;\n      }\n\n      return (Math.abs(delta.x) <= maxDistance &&\n              Math.abs(delta.y) <= maxDistance);\n    },\n\n\n    /**\n     * Checks if the distance between the x1/y1 and x2/y2 is\n     * below the TAP_MAX_DISTANCE and returns the result.\n     *\n     * @param x1 {Number} The x position of point one.\n     * @param y1 {Number} The y position of point one.\n     * @param x2 {Number} The x position of point two.\n     * @param y2 {Number} The y position of point two.\n     * @param type {String} The pointer type e.g. \"mouse\"\n     * @return {Boolean} <code>true</code>, if points are in range\n     */\n    __isBelowDoubleTapDistance : function(x1, y1, x2, y2, type) {\n      var clazz = qx.event.handler.GestureCore;\n\n      var inX = Math.abs(x1 - x2) < clazz.DOUBLETAP_MAX_DISTANCE[type];\n      var inY = Math.abs(y1 - y2) < clazz.DOUBLETAP_MAX_DISTANCE[type];\n\n      return inX && inY;\n    },\n\n\n    /**\n    * Calculates the delta coordinates in relation to the position on <code>pointerstart</code> event.\n    * @param domEvent {Event} The DOM event from the browser.\n    * @return {Map} containing the deltaX as x, and deltaY as y.\n    */\n    _getDeltaCoordinates : function(domEvent) {\n      var gesture = this.__gesture[domEvent.pointerId];\n      if (!gesture) {\n        return null;\n      }\n\n      var deltaX = domEvent.clientX - gesture.startX;\n      var deltaY = domEvent.clientY - gesture.startY;\n\n      var axis = \"x\";\n      if (Math.abs(deltaX / deltaY) < 1) {\n        axis = \"y\";\n      }\n\n      return {\n        \"x\": deltaX,\n        \"y\": deltaY,\n        \"axis\": axis\n      };\n    },\n\n\n    /**\n     * Fire a gesture event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String} type of the event\n     * @param target {Element ? null} event target\n     * @return {qx.Promise?} a promise, if one or more of the event handlers returned a promise\n     */\n    _fireEvent : function(domEvent, type, target) {\n      // The target may have been removed, e.g. menu hide on tap\n      if (!this.__defaultTarget) {\n        return;\n      }\n      var evt;\n      if (qx.core.Environment.get(\"event.dispatchevent\")) {\n        evt = new qx.event.type.dom.Custom(type, domEvent, {\n          bubbles: true,\n          swipe: domEvent.swipe,\n          scale: domEvent.scale,\n          angle: domEvent.angle,\n          delta: domEvent.delta,\n          pointerType: domEvent.pointerType,\n          momentum : domEvent.momentum\n        });\n        return target.dispatchEvent(evt);\n      } else if (this.__emitter) {\n        evt = new qx.event.type.dom.Custom(type, domEvent, {\n          target : this.__defaultTarget,\n          currentTarget : this.__defaultTarget,\n          srcElement : this.__defaultTarget,\n          swipe: domEvent.swipe,\n          scale: domEvent.scale,\n          angle: domEvent.angle,\n          delta: domEvent.delta,\n          pointerType: domEvent.pointerType,\n          momentum : domEvent.momentum\n        });\n\n        this.__emitter.emit(type, domEvent);\n      }\n    },\n\n\n    /**\n     * Fire \"tap\" and \"dbltap\" events after a native \"dblclick\"\n     * event to fix IE 8's broken mouse event sequence.\n     *\n     * @param domEvent {Event} dblclick event\n     */\n    _onDblClick : function(domEvent) {\n      var target = qx.bom.Event.getTarget(domEvent);\n      this._fireEvent(domEvent, \"tap\", target);\n      this._fireEvent(domEvent, \"dbltap\", target);\n    },\n\n\n    /**\n     * Returns the swipe gesture when the user performed a swipe.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     * @return {Map|null} returns the swipe data when the user performed a swipe, null if the gesture was no swipe.\n     */\n    __getSwipeGesture : function(domEvent, target) {\n      var gesture = this.__gesture[domEvent.pointerId];\n      if (!gesture) {\n        return null;\n      }\n\n      var clazz = qx.event.handler.GestureCore;\n      var deltaCoordinates = this._getDeltaCoordinates(domEvent);\n      var duration = new Date().getTime() - gesture.startTime;\n      var axis = (Math.abs(deltaCoordinates.x) >= Math.abs(deltaCoordinates.y)) ? \"x\" : \"y\";\n      var distance = deltaCoordinates[axis];\n      var direction = clazz.SWIPE_DIRECTION[axis][distance < 0 ? 0 : 1];\n      var velocity = (duration !== 0) ? distance / duration : 0;\n\n      var swipe = {\n        startTime: gesture.startTime,\n        duration: duration,\n        axis: axis,\n        direction: direction,\n        distance: distance,\n        velocity: velocity\n      };\n\n      return swipe;\n    },\n\n\n    /**\n     * Fires a track event.\n     *\n     * @param type {String} the track type\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    __fireTrack : function(type, domEvent, target) {\n      domEvent.delta = this._getDeltaCoordinates(domEvent);\n      this._fireEvent(domEvent, type, domEvent.target || target);\n    },\n\n\n    /**\n     * Fires a roll event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     * @param rollFactor {Integer} the roll factor to apply\n     */\n    __fireRollEvent: function (domEvent, target, rollFactor) {\n      domEvent.delta = {\n        x: qx.util.Wheel.getDelta(domEvent, \"x\") * rollFactor,\n        y: qx.util.Wheel.getDelta(domEvent, \"y\") * rollFactor\n      };\n      domEvent.delta.axis = Math.abs(domEvent.delta.x / domEvent.delta.y) < 1 ? \"y\" : \"x\";\n      domEvent.pointerType = \"wheel\";\n      this._fireEvent(domEvent, \"roll\", domEvent.target || target);\n    },\n\n    /**\n     * Triggers the adaptative roll scrolling.\n     *\n     * @param target {Element} event target\n     */\n    __performAdaptativeRollScrolling: function (target) {\n      var rollFactor = qx.event.handler.GestureCore.ROLL_FACTOR;\n      if (qx.util.Wheel.IS_TOUCHPAD) {\n        // The domEvent was generated by a touchpad\n        rollFactor = qx.event.handler.GestureCore.TOUCHPAD_ROLL_FACTOR;\n      }\n      this.__lastRollEventTime = new Date().getTime();\n      var reLength = this.__rollEvents.length;\n      for (var i = 0; i < reLength; i++) {\n        var domEvent = this.__rollEvents[i];\n        this.__fireRollEvent(domEvent, target, rollFactor);\n      }\n      this.__rollEvents = [];\n    },\n\n    /**\n     * Ends touch pad detection process.\n     */\n    __endTouchPadDetection: function () {\n      if (this.__rollEvents.length > qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_THRESHOLD) {\n        qx.util.Wheel.IS_TOUCHPAD = true;\n      } else {\n        qx.util.Wheel.IS_TOUCHPAD = false;\n      }\n      if (qx.core.Environment.get(\"qx.debug.touchpad.detection\")) {\n        qx.log.Logger.debug(this, \"IS_TOUCHPAD : \" + qx.util.Wheel.IS_TOUCHPAD);\n      }\n      this.__touchPadDetectionPerformed = true;\n    },\n\n    /**\n     * Is touchpad detection enabled ? Default implementation activates it only for Mac OS after Sierra (>= 10.12).\n     * @return {boolean} true if touchpad detection should occur.\n     * @internal\n     */\n    _isTouchPadDetectionEnabled: function () {\n      return qx.core.Environment.get(\"os.name\") == \"osx\" && qx.core.Environment.get(\"os.version\") >= 10.12;\n    },\n\n    /**\n     * Fires a roll event after determining the roll factor to apply. Mac OS Sierra (10.12+)\n     * introduces a lot more wheel events fired from the trackpad, so the roll factor to be applied\n     * has to be reduced in order to make the scrolling less sensitive.\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String} The type of the dom event\n     * @param target {Element} event target\n     */\n    _fireRoll : function(domEvent, type, target) {\n      var now;\n      var detectionTimeout;\n      if (domEvent.type === qx.core.Environment.get(\"event.mousewheel\").type) {\n        if (this._isTouchPadDetectionEnabled()) {\n          now = new Date().getTime();\n          detectionTimeout = qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_TIMEOUT;\n          if (this.__lastRollEventTime > 0 && now - this.__lastRollEventTime > detectionTimeout) {\n            // The detection timeout was reached. A new detection step should occur.\n            this.__touchPadDetectionPerformed = false;\n            this.__rollEvents = [];\n            this.__lastRollEventTime = 0;\n          }\n          if (!this.__touchPadDetectionPerformed) {\n            // We are into a detection session. We count the events so that we can decide if\n            // they were fired by a real mouse wheel or a touchpad. Just swallow them until the\n            // detection period is over.\n            if (this.__rollEvents.length === 0) {\n              // detection starts\n              this.__rollEventsCountStart = now;\n              qx.event.Timer.once(function () {\n                if (!this.__touchPadDetectionPerformed) {\n                  // There were not enough events during the TOUCHPAD_WHEEL_EVENTS_PERIOD to actually\n                  // trigger a scrolling. Trigger it manually.\n                  this.__endTouchPadDetection();\n                  this.__performAdaptativeRollScrolling(target);\n                }\n              }, this, qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_PERIOD + 50)\n            }\n            this.__rollEvents.push(domEvent);\n            this.__rollEventsCount++;\n            if (now - this.__rollEventsCountStart > qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_PERIOD) {\n              this.__endTouchPadDetection();\n            }\n          }\n          if (this.__touchPadDetectionPerformed) {\n            if (this.__rollEvents.length === 0) {\n              this.__rollEvents.push(domEvent);\n            }\n            // Detection is done. We can now decide the roll factor to apply to the delta.\n            // Default to a real mouse wheel event as opposed to a touchpad one.\n            this.__performAdaptativeRollScrolling(target);\n          }\n        } else {\n          this.__fireRollEvent(domEvent, target, qx.event.handler.GestureCore.ROLL_FACTOR);\n        }\n      } else {\n        var gesture = this.__gesture[domEvent.pointerId];\n        domEvent.delta = {\n          x: -gesture.velocityX,\n          y: -gesture.velocityY,\n          axis : Math.abs(gesture.velocityX / gesture.velocityY) < 1 ? \"y\" : \"x\"\n        };\n        this._fireEvent(domEvent, \"roll\", domEvent.target || target);\n      }\n    },\n\n\n    /**\n     * Fires a rotate event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    __fireRotate : function(domEvent, target) {\n      if(!domEvent.isPrimary) {\n        var angle = this._calcAngle();\n        domEvent.angle = Math.round((angle - this.__initialAngle) % 360);\n        this._fireEvent(domEvent, \"rotate\", this.__primaryTarget);\n      }\n    },\n\n\n    /**\n     * Fires a pinch event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    __firePinch: function(domEvent, target) {\n      if (!domEvent.isPrimary) {\n        var distance = this._calcDistance();\n        var scale = distance / this.__initialDistance;\n        domEvent.scale = (Math.round(scale * 100) / 100);\n        this._fireEvent(domEvent, \"pinch\", this.__primaryTarget);\n      }\n    },\n\n\n    /**\n     * Fires the long tap event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    __fireLongTap : function(domEvent, target) {\n      var gesture = this.__gesture[domEvent.pointerId];\n      if (gesture) {\n        this._fireEvent(domEvent, \"longtap\", domEvent.target || target);\n        gesture.longTapTimer = null;\n        gesture.isTap = false;\n      }\n    },\n\n\n    /**\n     * Stops the time for the long tap event.\n     * @param gesture {Map} Data may representing the gesture.\n     */\n    __stopLongTapTimer : function(gesture) {\n      if (gesture.longTapTimer) {\n        window.clearTimeout(gesture.longTapTimer);\n        gesture.longTapTimer = null;\n      }\n    },\n\n    /**\n     * Dispose the current instance\n     */\n    dispose : function() {\n      for(var gesture in this.__gesture) {\n        this.__stopLongTapTimer(gesture);\n      }\n\n      this._stopObserver();\n      this.__defaultTarget = this.__emitter = null;\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tino Butz (tbtz)\n\n************************************************************************ */\n\n\n/**\n * Tap is a single pointer gesture fired when one pointer goes down and up on\n * the same location.\n */\nqx.Class.define(\"qx.event.type.Tap\",\n{\n    extend : qx.event.type.Pointer\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tino Butz (tbtz)\n\n************************************************************************ */\n\n\n/**\n * Swipe is a single pointer gesture fired when a pointer is moved in one direction.\n * It contains some additional data like the primary axis, the velocity and the distance.\n */\nqx.Class.define(\"qx.event.type.Swipe\",\n{\n    extend : qx.event.type.Pointer,\n\n\n    /*\n    *****************************************************************************\n       MEMBERS\n    *****************************************************************************\n    */\n\n    members :\n    {\n      // overridden\n      _cloneNativeEvent : function(nativeEvent, clone)\n      {\n        var clone = this.base(arguments, nativeEvent, clone);\n\n        clone.swipe = nativeEvent.swipe;\n\n        return clone;\n      },\n\n\n      /**\n       * Returns the start time of the performed swipe.\n       *\n       * @return {Integer} the start time\n       */\n      getStartTime : function() {\n        return this._native.swipe.startTime;\n      },\n\n\n      /**\n       * Returns the duration the performed swipe took.\n       *\n       * @return {Integer} the duration\n       */\n      getDuration : function() {\n        return this._native.swipe.duration;\n      },\n\n\n      /**\n       * Returns whether the performed swipe was on the x or y axis.\n       *\n       * @return {String} \"x\"/\"y\" axis\n       */\n      getAxis : function() {\n        return this._native.swipe.axis;\n      },\n\n\n      /**\n       * Returns the direction of the performed swipe in reference to the axis.\n       * y = up / down\n       * x = left / right\n       *\n       * @return {String} the direction\n       */\n      getDirection : function() {\n        return this._native.swipe.direction;\n      },\n\n\n      /**\n       * Returns the velocity of the performed swipe.\n       *\n       * @return {Number} the velocity\n       */\n      getVelocity : function() {\n        return this._native.swipe.velocity;\n      },\n\n\n      /**\n       * Returns the distance of the performed swipe.\n       *\n       * @return {Integer} the distance\n       */\n      getDistance : function() {\n        return this._native.swipe.distance;\n      }\n    }\n  });\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n\n/**\n * Rotate is a multi pointer gesture fired when two finger moved around\n * a single point. It contains the angle of the rotation.\n */\nqx.Class.define(\"qx.event.type.Rotate\",\n{\n    extend : qx.event.type.Pointer,\n\n\n    members : {\n\n      // overridden\n      _cloneNativeEvent : function(nativeEvent, clone)\n      {\n        var clone = this.base(arguments, nativeEvent, clone);\n\n        clone.angle = nativeEvent.angle;\n\n        return clone;\n      },\n\n\n      /**\n       * Returns a number with the current calculated angle between the primary and secondary active pointers.\n       *\n       * @return {Number} the angle of the two active pointers.\n       */\n      getAngle : function() {\n        return this._native.angle;\n      }\n    }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n\n/**\n * Pinch is a multi pointer gesture fired when two finger moved towards\n * or away from each other. It contains the scaling factor of the pinch.\n */\nqx.Class.define(\"qx.event.type.Pinch\",\n{\n    extend : qx.event.type.Pointer,\n\n\n    members : {\n\n      // overridden\n      _cloneNativeEvent : function(nativeEvent, clone)\n      {\n        var clone = this.base(arguments, nativeEvent, clone);\n\n        clone.scale = nativeEvent.scale;\n\n        return clone;\n      },\n\n\n      /**\n       * Returns the calculated scale of this event.\n       *\n       * @return {Float} the scale value of this event.\n       */\n      getScale : function() {\n        return this._native.scale;\n      }\n    }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n\n/**\n * Track is a single pointer gesture and contains of a three vent types:\n * <code>trackstart</code>, <code>track</code> and <code>trackend</code>. These\n * events will be fired when a pointer grabs an item and moves the pointer on it.\n */\nqx.Class.define(\"qx.event.type.Track\",\n{\n    extend : qx.event.type.Pointer,\n\n\n    members : {\n      // overridden\n      _cloneNativeEvent : function(nativeEvent, clone)\n      {\n        var clone = this.base(arguments, nativeEvent, clone);\n\n        clone.delta = nativeEvent.delta;\n\n        return clone;\n      },\n\n\n      /**\n       * Returns a map with the calculated delta coordinates and axis,\n       * relative to the position on <code>trackstart</code> event.\n       *\n       * @return {Map} a map with contains the delta as <code>x</code> and\n       * <code>y</code> and the movement axis as <code>axis</code>.\n       */\n      getDelta : function() {\n        return this._native.delta;\n      }\n    }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n\n/**\n * Roll event object.\n */\nqx.Class.define(\"qx.event.type.Roll\",\n{\n    extend : qx.event.type.Pointer,\n\n\n    members : {\n      // overridden\n      stop : function()\n      {\n        this.stopPropagation();\n        this.preventDefault();\n      },\n\n\n      // overridden\n      _cloneNativeEvent : function(nativeEvent, clone)\n      {\n        var clone = this.base(arguments, nativeEvent, clone);\n\n        clone.delta = nativeEvent.delta;\n        clone.momentum = nativeEvent.momentum;\n        clone.timeoutId = nativeEvent.timeoutId;\n\n        return clone;\n      },\n\n\n      /**\n       * Boolean flag to indicate if this event was triggered by a momentum.\n       * @return {Boolean} <code>true</code>, if the event is momentum based\n       */\n      getMomentum : function() {\n        return this._native.momentum;\n      },\n\n\n      /**\n       * Stops the momentum events.\n       */\n      stopMomentum : function() {\n        if (this._native.timeoutId) {\n          qx.event.Registration.getManager(this._originalTarget)\n            .getHandler(qx.event.handler.Gesture)\n            .stopMomentum(this._native.timeoutId);\n        }\n      },\n\n\n      /**\n       * Returns a map with the calculated delta coordinates and axis,\n       * relative to the last <code>roll</code> event.\n       *\n       * @return {Map} a map with contains the delta as <code>x</code> and\n       * <code>y</code>\n       */\n      getDelta : function() {\n        return this._native.delta;\n      }\n    }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Unified gesture event handler.\n *\n * @require(qx.event.handler.Pointer)\n */\nqx.Class.define(\"qx.event.handler.Gesture\",\n{\n  extend : qx.event.handler.GestureCore,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n  statics : {\n\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES : {\n      tap : 1,\n      swipe : 1,\n      longtap : 1,\n      dbltap : 1,\n      rotate : 1,\n      pinch : 1,\n      track : 1,\n      trackstart : 1,\n      trackend : 1,\n      roll : 1\n    },\n\n    GESTURE_EVENTS : [\"gesturebegin\", \"gesturefinish\", \"gesturemove\", \"gesturecancel\"],\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE + qx.event.IEventHandler.TARGET_DOCUMENT,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true,\n\n    EVENT_CLASSES : {\n      \"tap\": qx.event.type.Tap,\n      \"longtap\": qx.event.type.Tap,\n      \"dbltap\": qx.event.type.Tap,\n      \"swipe\": qx.event.type.Swipe,\n      \"rotate\": qx.event.type.Rotate,\n      \"pinch\": qx.event.type.Pinch,\n      \"track\": qx.event.type.Track,\n      \"trackstart\": qx.event.type.Track,\n      \"trackend\": qx.event.type.Track,\n      \"roll\" : qx.event.type.Roll\n    }\n  },\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    // Define shorthands\n    this.__manager = manager;\n    this.__window = manager.getWindow();\n    this.__root = this.__window.document;\n\n    qx.event.handler.GestureCore.apply(this, [this.__root]);\n  },\n\n  members : {\n    __manager : null,\n    __window : null,\n    __root : null,\n    __listener : null,\n    __onDblClickWrapped : null,\n    __fireRollWrapped : null,\n\n    /**\n     * Getter for the internal __window object\n     * @return {Window} DOM window instance\n     */\n    getWindow: function() {\n      return this.__window;\n    },\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n    // overridden\n    _initObserver : function() {\n      this.__listener = qx.lang.Function.listener(this.checkAndFireGesture, this);\n      qx.event.handler.Gesture.GESTURE_EVENTS.forEach(function(type) {\n        qx.event.Registration.addListener(this.__root, type, this.__listener, this);\n      }.bind(this));\n\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9)\n      {\n        this.__onDblClickWrapped = qx.lang.Function.listener(this._onDblClick, this);\n        qx.bom.Event.addNativeListener(this.__root, \"dblclick\", this.__onDblClickWrapped);\n      }\n\n      // list to wheel events\n      var data = qx.bom.client.Event.getMouseWheel(this.__window);\n      this.__fireRollWrapped = qx.lang.Function.listener(this._fireRoll, this);\n      // replaced the useCapture (4th parameter) from this to true\n      // see https://github.com/qooxdoo/qooxdoo/pull/9292\n      qx.bom.Event.addNativeListener(data.target, data.type, this.__fireRollWrapped, true, false);\n    },\n\n    /**\n     * Checks if a gesture was made and fires the gesture event.\n     *\n     * @param pointerEvent {qx.event.type.Pointer} Pointer event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     */\n    checkAndFireGesture : function(pointerEvent, type, target) {\n      this.__callBase(\"checkAndFireGesture\",\n        [pointerEvent.getNativeEvent(), pointerEvent.getType(), pointerEvent.getTarget()]\n      );\n    },\n\n\n    // overridden\n    _stopObserver : function() {\n      qx.event.handler.Gesture.GESTURE_EVENTS.forEach(function(type) {\n        qx.event.Registration.removeListener(this.__root, type, this.__listener);\n      }.bind(this));\n\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9)\n      {\n        qx.bom.Event.removeNativeListener(this.__root, \"dblclick\", this.__onDblClickWrapped);\n      }\n\n      var data = qx.bom.client.Event.getMouseWheel(this.__window);\n      qx.bom.Event.removeNativeListener(data.target, data.type, this.__fireRollWrapped);\n    },\n\n\n    // overridden\n    _hasIntermediaryHandler : function(target) {\n      /* This check is irrelevant for qx.Desktop since there is only one\n         gesture handler */\n      return false;\n    },\n\n\n    /**\n     * Fire a touch event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     */\n    _fireEvent : function(domEvent, type, target) {\n      if (!target) {\n        target = qx.bom.Event.getTarget(domEvent);\n      }\n\n      if (!type) {\n        type = domEvent.type;\n      }\n\n      var eventTypeClass = qx.event.handler.Gesture.EVENT_CLASSES[type] || qx.event.type.Pointer;\n\n      if (target && target.nodeType) {\n        qx.event.Registration.fireEvent(\n          target,\n          type,\n          eventTypeClass,\n          [domEvent, target, null, true, true]\n        );\n      }\n\n      // Fire user action event\n      qx.event.Registration.fireEvent(this.__window, \"useraction\", qx.event.type.Data, [type]);\n    },\n\n\n    /**\n     * Dispose this object\n     */\n    dispose : function()\n    {\n      this._stopObserver();\n      this.__callBase(\"dispose\");\n      this.__manager = this.__window = this.__root = this.__onDblClickWrapped = null;\n    },\n\n\n    /**\n     * Call overridden method.\n     *\n     * @param method {String} Name of the overridden method.\n     * @param args {Array} Arguments.\n     */\n    __callBase: function(method, args) {\n      qx.event.handler.GestureCore.prototype[method].apply(this, args || []);\n    }\n  },\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n    qx.event.Registration.getManager(document).getHandler(statics);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This handler accepts the useraction event fired by the keyboard, mouse and\n * pointer handlers after an user triggered action has occurred.\n */\nqx.Class.define(\"qx.event.handler.UserAction\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventHandler,\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this.__manager = manager;\n    this.__window = manager.getWindow();\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES : {\n      useraction : 1\n    },\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __manager : null,\n    __window: null,\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this.__manager = this.__window = null;\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n",
    "\n/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This class provides unified key event handler for Internet Explorer,\n * Firefox, Opera and Safari.\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.event.handler.UserAction)\n */\nqx.Class.define(\"qx.event.handler.Keyboard\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this.__manager = manager;\n    this.__window = manager.getWindow();\n\n    // Gecko ignores key events when not explicitly clicked in the document.\n    if ((qx.core.Environment.get(\"engine.name\") == \"gecko\")) {\n      this.__root = this.__window;\n    } else {\n      this.__root = this.__window.document.documentElement;\n    }\n\n    // Internal sequence cache\n    this.__lastUpDownType = {};\n\n    // Initialize observer\n    this._initKeyObserver();\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      keyup : 1,\n      keydown : 1,\n      keypress : 1,\n      keyinput : 1\n    },\n\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,\n\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n\n    __onKeyUpDownWrapper  : null,\n    __manager : null,\n    __window : null,\n    __root : null,\n    __lastUpDownType : null,\n    __lastKeyCode : null,\n    __inputListeners : null,\n    __onKeyPressWrapper : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPER\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Fire a key input event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param charCode {Integer} character code\n     * @return {qx.Promise?} a promise if the event handlers created one\n     */\n    _fireInputEvent : function(domEvent, charCode)\n    {\n      var target = this.__getEventTarget();\n      var tracker = {};\n      var self = this;\n\n      // Only fire when target is defined and visible\n      if (target && target.offsetWidth != 0)\n      {\n        var event = qx.event.Registration.createEvent(\"keyinput\", qx.event.type.KeyInput, [domEvent, target, charCode]);\n        qx.event.Utils.then(tracker, function() { self.__manager.dispatchEvent(target, event); });\n      }\n\n      // Fire user action event\n      // Needs to check if still alive first\n      if (this.__window) {\n        var self = this;\n        qx.event.Utils.then(tracker, function() {\n          return qx.event.Registration.fireEvent(self.__window, \"useraction\", qx.event.type.Data, [\"keyinput\"]);\n        });\n      }\n      \n      return tracker.promise;\n    },\n\n\n    /**\n     * Fire a key up/down/press event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String} type og the event\n     * @param keyIdentifier {String} key identifier\n     * @return {qx.Promise?} a promise, if any of the event handlers returned a promise\n     */\n    _fireSequenceEvent : function(domEvent, type, keyIdentifier)\n    {\n      var target = this.__getEventTarget();\n      var keyCode = domEvent.keyCode;\n      var tracker = {};\n      var self = this;\n\n      // Fire key event\n      var event = qx.event.Registration.createEvent(type, qx.event.type.KeySequence, [domEvent, target, keyIdentifier]);\n      qx.event.Utils.then(tracker, function() {\n        return self.__manager.dispatchEvent(target, event);\n      });\n\n      // IE and Safari suppress a \"keypress\" event if the \"keydown\" event's\n      // default action was prevented. In this case we emulate the \"keypress\"\n      //\n      // FireFox suppresses \"keypress\" when \"keydown\" default action is prevented.\n      // from version 29: https://bugzilla.mozilla.org/show_bug.cgi?id=935876.\n      if (event.getDefaultPrevented() && type == \"keydown\") {\n        if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" ||\n            qx.core.Environment.get(\"engine.name\") == \"webkit\" ||\n            (qx.core.Environment.get(\"engine.name\") == \"gecko\" && qx.core.Environment.get(\"browser.version\") >= 29)) {\n\n          // some key press events are already emulated. Ignore these events.\n          if (!qx.event.util.Keyboard.isNonPrintableKeyCode(keyCode) && !this._emulateKeyPress[keyCode]) {\n            qx.event.Utils.then(tracker, function() {\n              return self._fireSequenceEvent(domEvent, \"keypress\", keyIdentifier);\n            });\n          }\n        }\n      }\n      \n      // Fire user action event\n      // Needs to check if still alive first\n      if (this.__window) {\n        qx.event.Utils.then(tracker, function() {\n          return qx.event.Registration.fireEvent(self.__window, \"useraction\", qx.event.type.Data, [type]);\n        });\n      }\n      \n      return tracker.promise;\n    },\n\n\n    /**\n     * Get the target element for key events\n     *\n     * @return {Element} the event target element\n     */\n    __getEventTarget : function()\n    {\n      var focusHandler = this.__manager.getHandler(qx.event.handler.Focus);\n      var target = focusHandler.getActive();\n\n      // Fallback to focused element when active is null or invisible\n      if (!target || target.offsetWidth == 0) {\n        target = focusHandler.getFocus();\n      }\n\n      // Fallback to body when focused is null or invisible\n      if (!target || target.offsetWidth == 0) {\n        target = this.__manager.getWindow().document.body;\n      }\n\n      return target;\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER INIT/STOP\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Initializes the native key event listeners.\n     *\n     * @signature function()\n     */\n    _initKeyObserver : function()\n    {\n      this.__onKeyUpDownWrapper = qx.lang.Function.listener(this.__onKeyUpDown, this);\n      this.__onKeyPressWrapper = qx.lang.Function.listener(this.__onKeyPress, this);\n\n      var Event = qx.bom.Event;\n\n      Event.addNativeListener(this.__root, \"keyup\", this.__onKeyUpDownWrapper);\n      Event.addNativeListener(this.__root, \"keydown\", this.__onKeyUpDownWrapper);\n      Event.addNativeListener(this.__root, \"keypress\", this.__onKeyPressWrapper);\n    },\n\n\n    /**\n     * Stops the native key event listeners.\n     *\n     * @signature function()\n     */\n    _stopKeyObserver : function()\n    {\n      var Event = qx.bom.Event;\n\n      Event.removeNativeListener(this.__root, \"keyup\", this.__onKeyUpDownWrapper);\n      Event.removeNativeListener(this.__root, \"keydown\", this.__onKeyUpDownWrapper);\n      Event.removeNativeListener(this.__root, \"keypress\", this.__onKeyPressWrapper);\n\n      for (var key in (this.__inputListeners || {}))\n      {\n        var listener = this.__inputListeners[key];\n        Event.removeNativeListener(listener.target, \"keypress\", listener.callback);\n      }\n      delete(this.__inputListeners);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE EVENT OBSERVERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Low level handler for \"keyup\" and \"keydown\" events\n     *\n     * @internal\n     * @signature function(domEvent)\n     * @param domEvent {Event} DOM event object\n     */\n    __onKeyUpDown : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n    {\n      \"gecko|webkit|mshtml\" : function(domEvent)\n      {\n        var keyCode = 0;\n        var charCode = 0;\n        var type = domEvent.type;\n\n        keyCode = domEvent.keyCode;\n        \n        var tracker = {};\n        var self = this;\n\n        qx.event.Utils.track(tracker, this._idealKeyHandler(keyCode, charCode, type, domEvent));\n\n        // On non print-able character be sure to add a keypress event\n        if (type == \"keydown\")\n        {\n          /*\n           * We need an artificial keypress event for every keydown event.\n           * Newer browsers do not fire keypress for a regular charachter key (e.g when typing 'a')\n           * if it was typed with the CTRL, ALT or META Key pressed during typing, like\n           * doing it when typing the combination CTRL+A\n           */\n          var isModifierDown = domEvent.ctrlKey || domEvent.altKey || domEvent.metaKey;\n\n          // non-printable, backspace, tab or the modfier keys are down\n          if (qx.event.util.Keyboard.isNonPrintableKeyCode(keyCode) || this._emulateKeyPress[keyCode] || isModifierDown) {\n            qx.event.Utils.then(tracker, function() {\n              return self._idealKeyHandler(keyCode, charCode, \"keypress\", domEvent);\n            });\n          }\n        }\n\n        // Store last type\n        this.__lastUpDownType[keyCode] = type;\n        \n        return tracker.promise;\n      },\n\n      \"opera\" : function(domEvent)\n      {\n        this.__lastKeyCode = domEvent.keyCode;\n        return this._idealKeyHandler(domEvent.keyCode, 0, domEvent.type, domEvent);\n      }\n    })),\n\n\n    /**\n     * some keys like \"up\", \"down\", \"pageup\", \"pagedown\" do not bubble a\n     * \"keypress\" event in Firefox. To work around this bug we attach keypress\n     * listeners directly to the input events.\n     *\n     * https://bugzilla.mozilla.org/show_bug.cgi?id=467513\n     *\n     * @signature function(target, type, keyCode)\n     * @param target {Element} The event target\n     * @param type {String} The event type\n     * @param keyCode {Integer} the key code\n     */\n    __firefoxInputFix : qx.core.Environment.select(\"engine.name\",\n    {\n      \"gecko\" : function(target, type, keyCode)\n      {\n        if (\n          type === \"keydown\" &&\n          (keyCode == 33 || keyCode == 34 || keyCode == 38 || keyCode == 40) &&\n          target.type == \"text\" &&\n          target.tagName.toLowerCase() === \"input\" &&\n          target.getAttribute(\"autoComplete\") !== \"off\"\n        )\n        {\n          if (!this.__inputListeners) {\n            this.__inputListeners = {};\n          }\n          var hash = qx.core.ObjectRegistry.toHashCode(target);\n          if (this.__inputListeners[hash]) {\n            return;\n          }\n          var self = this;\n          this.__inputListeners[hash] = {\n            target: target,\n            callback : function(domEvent)\n            {\n              qx.bom.Event.stopPropagation(domEvent);\n              self.__onKeyPress(domEvent);\n            }\n          };\n          var listener = qx.event.GlobalError.observeMethod(this.__inputListeners[hash].callback);\n          qx.bom.Event.addNativeListener(target, \"keypress\", listener);\n        }\n      },\n\n      \"default\" : null\n    }),\n\n\n    /**\n     * Low level key press handler\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} DOM event object\n     */\n    __onKeyPress : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(domEvent)\n      {\n        domEvent = window.event || domEvent;\n\n        if (this._charCode2KeyCode[domEvent.keyCode]) {\n          return this._idealKeyHandler(this._charCode2KeyCode[domEvent.keyCode], 0, domEvent.type, domEvent);\n        } else {\n          return this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);\n        }\n      },\n\n      \"gecko\" : function(domEvent)\n      {\n        if(qx.core.Environment.get(\"engine.version\") < 66) {\n          var charCode = domEvent.charCode;\n          var type = domEvent.type;\n\n           return this._idealKeyHandler(domEvent.keyCode, charCode, type, domEvent);\n        } else {\n          if (this._charCode2KeyCode[domEvent.keyCode]) {\n            return this._idealKeyHandler(this._charCode2KeyCode[domEvent.keyCode], 0, domEvent.type, domEvent);\n          } else {\n            return this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);\n          }\n        }\n      },\n\n      \"webkit\" : function(domEvent)\n      {\n        if (this._charCode2KeyCode[domEvent.keyCode]) {\n          return this._idealKeyHandler(this._charCode2KeyCode[domEvent.keyCode], 0, domEvent.type, domEvent);\n        } else {\n          return this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);\n        }\n      },\n\n      \"opera\" : function(domEvent)\n      {\n        var keyCode = domEvent.keyCode;\n        var type = domEvent.type;\n\n        // Some keys are identified differently for key up/down and keypress\n        // (e.g. \"v\" gets identified as \"F7\").\n        // So we store the last key up/down keycode and compare it to the\n        // current keycode.\n        // See http://bugzilla.qooxdoo.org/show_bug.cgi?id=603\n        if(keyCode != this.__lastKeyCode)\n        {\n          return this._idealKeyHandler(0, this.__lastKeyCode, type, domEvent);\n        }\n        else\n        {\n          if (qx.event.util.Keyboard.keyCodeToIdentifierMap[domEvent.keyCode]) {\n            return this._idealKeyHandler(domEvent.keyCode, 0, domEvent.type, domEvent);\n          } else {\n            return this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);\n          }\n        }\n\n      }\n    })),\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      IDEAL KEY HANDLER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Key handler for an idealized browser.\n     * Runs after the browser specific key handlers have normalized the key events.\n     *\n     * @param keyCode {String} keyboard code\n     * @param charCode {String} character code\n     * @param eventType {String} type of the event (keydown, keypress, keyup)\n     * @param domEvent {Element} DomEvent\n     * @return {qx.Promise?} a promise, if an event handler created one\n     */\n    _idealKeyHandler : function(keyCode, charCode, eventType, domEvent)\n    {\n      var keyIdentifier;\n\n      // Use: keyCode\n      if (keyCode || (!keyCode && !charCode))\n      {\n        keyIdentifier = qx.event.util.Keyboard.keyCodeToIdentifier(keyCode);\n\n        return this._fireSequenceEvent(domEvent, eventType, keyIdentifier);\n      }\n\n      // Use: charCode\n      else\n      {\n        keyIdentifier = qx.event.util.Keyboard.charCodeToIdentifier(charCode);\n\n        var tracker = {};\n        var self = this;\n        qx.event.Utils.track(tracker, this._fireSequenceEvent(domEvent, \"keypress\", keyIdentifier));\n        return qx.event.Utils.then(tracker, function() {\n          return self._fireInputEvent(domEvent, charCode);\n        });\n      }\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      KEY MAPS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * @type {Map} maps the charcodes of special keys for key press emulation\n     *\n     * @lint ignoreReferenceField(_emulateKeyPress)\n     */\n    _emulateKeyPress : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : {\n        8: true,\n        9: true\n      },\n\n      \"webkit\" : {\n        8: true,\n        9: true,\n        27: true\n      },\n\n      \"gecko\" : (qx.core.Environment.get(\"browser.version\") >= 65) ?\n      {\n        8: true,\n        9: true,\n        27: true\n      }\n      :\n      {\n      },\n\n      \"default\" : {}\n    }),\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPER METHODS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * converts a key identifier back to a keycode\n     *\n     * @param keyIdentifier {String} The key identifier to convert\n     * @return {Integer} keyboard code\n     */\n    _identifierToKeyCode : function(keyIdentifier) {\n      return qx.event.util.Keyboard.identifierToKeyCodeMap[keyIdentifier] || keyIdentifier.charCodeAt(0);\n    }\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    this._stopKeyObserver();\n    this.__lastKeyCode = this.__manager = this.__window = this.__root = this.__lastUpDownType = null;\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics, members)\n  {\n    // register at the event handler\n    qx.event.Registration.addHandler(statics);\n\n    if ((qx.core.Environment.get(\"engine.name\") !== \"opera\"))\n    {\n      members._charCode2KeyCode =\n      {\n        13 : 13,\n        27 : 27\n      };\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * This class provides capture event support at DOM level.\n */\nqx.Class.define(\"qx.event.handler.Capture\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventHandler,\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      capture : true,\n      losecapture : true\n    },\n\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,\n\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    }\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Event handler, which supports drag events on DOM elements.\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.event.handler.Gesture)\n * @require(qx.event.handler.Keyboard)\n * @require(qx.event.handler.Capture)\n */\nqx.Class.define(\"qx.event.handler.DragDrop\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this.__manager = manager;\n    this.__root = manager.getWindow().document.documentElement;\n\n    // Initialize listener\n    this.__manager.addListener(this.__root, \"longtap\", this._onLongtap, this);\n    this.__manager.addListener(this.__root, \"pointerdown\", this._onPointerdown, this, true);\n\n    qx.event.Registration.addListener(window, \"blur\", this._onWindowBlur, this);\n\n    // Initialize data structures\n    this.__rebuildStructures();\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      dragstart : 1,\n      dragend : 1,\n      dragover : 1,\n      dragleave : 1,\n      drop : 1,\n      drag : 1,\n      dragchange : 1,\n      droprequest : 1\n    },\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true,\n\n    /**\n     * Array of strings holding the names of the allowed mouse buttons\n     * for Drag & Drop. The default is \"left\" but could be extended with\n     * \"middle\" or \"right\"\n     */\n    ALLOWED_BUTTONS: [\"left\"],\n\n\n    /**\n     * The distance needed to change the mouse position before a drag session start.\n     */\n    MIN_DRAG_DISTANCE : 5\n  },\n\n\n  properties : {\n    /**\n     * Widget instance of the drag & drop cursor. If non is given, the default\n     * {@link qx.ui.core.DragDropCursor} will be used.\n     */\n    cursor : {\n      check : \"qx.ui.core.Widget\",\n      nullable : true,\n      init : null\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __manager : null,\n    __root : null,\n    __dropTarget : null,\n    __dragTarget : null,\n    __types : null,\n    __actions : null,\n    __keys : null,\n    __cache : null,\n    __currentType : null,\n    __currentAction : null,\n    __sessionActive : false,\n    __validDrop : false,\n    __validAction : false,\n    __dragTargetWidget : null,\n    __startConfig : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Registers a supported type\n     *\n     * @param type {String} The type to add\n     */\n    addType : function(type) {\n      this.__types[type] = true;\n    },\n\n    /**\n     * Registers a supported action. One of <code>move</code>,\n     * <code>copy</code> or <code>alias</code>.\n     *\n     * @param action {String} The action to add\n     */\n    addAction : function(action) {\n      this.__actions[action] = true;\n    },\n\n\n    /**\n     * Whether the current drag target supports the given type\n     *\n     * @param type {String} Any type\n     * @return {Boolean} Whether the type is supported\n     */\n    supportsType : function(type) {\n      return !!this.__types[type];\n    },\n\n\n    /**\n     * Whether the current drag target supports the given action\n     *\n     * @param type {String} Any type\n     * @return {Boolean} Whether the action is supported\n     */\n    supportsAction : function(type) {\n      return !!this.__actions[type];\n    },\n\n    /**\n     * Whether the current drop target allows the current drag target.\n     *\n     * @param isAllowed {Boolean} False if a drop should be disallowed\n     */\n    setDropAllowed : function(isAllowed) {\n      this.__validDrop = isAllowed;\n      this.__detectAction();\n    },\n\n    /**\n     * Returns the data of the given type during the <code>drop</code> event\n     * on the drop target. This method fires a <code>droprequest</code> at\n     * the drag target which should be answered by calls to {@link #addData}.\n     *\n     * Note that this is a synchronous method and if any of the drag and drop\n     * events handlers are implemented using Promises, this may fail; @see\n     * `getDataAsync`.\n     *\n     * @param type {String} Any supported type\n     * @return {var} The result data in a promise\n     */\n    getData : function(type)\n    {\n      if (!this.__validDrop || !this.__dropTarget) {\n        throw new Error(\"This method must not be used outside the drop event listener!\");\n      }\n\n      if (!this.__types[type]) {\n        throw new Error(\"Unsupported data type: \" + type + \"!\");\n      }\n\n      if (!this.__cache[type])\n      {\n        this.__currentType = type;\n        this.__fireEvent(\"droprequest\", this.__dragTarget, this.__dropTarget, false, false);\n      }\n\n      if (!this.__cache[type]) {\n        throw new Error(\"Please use a droprequest listener to the drag source to fill the manager with data!\");\n      }\n\n      return this.__cache[type] || null;\n    },\n\n\n    /**\n     * Returns the data of the given type during the <code>drop</code> event\n     * on the drop target. This method fires a <code>droprequest</code> at\n     * the drag target which should be answered by calls to {@link #addData}.\n     *\n     * @param type {String} Any supported type\n     * @return {qx.Promise} The result data in a promise\n     */\n    getDataAsync : function(type)\n    {\n      if (!this.__validDrop || !this.__dropTarget) {\n        throw new Error(\"This method must not be used outside the drop event listener!\");\n      }\n\n      if (!this.__types[type]) {\n        throw new Error(\"Unsupported data type: \" + type + \"!\");\n      }\n\n      var tracker = {};\n      var self = this;\n      if (!this.__cache[type]) {\n        qx.event.Utils.then(tracker, function () {\n          self.__currentType = type;\n          return self.__fireEvent(\"droprequest\", self.__dragTarget, self.__dropTarget, false);\n        });\n      }\n\n      return qx.event.Utils.then(tracker, function () {\n        if (!this.__cache[type]) {\n          throw new Error(\"Please use a droprequest listener to the drag source to fill the manager with data!\");\n        }\n\n        return this.__cache[type] || null;\n      });\n    },\n\n\n    /**\n     * Returns the currently selected action (by user keyboard modifiers)\n     *\n     * @return {String} One of <code>move</code>, <code>copy</code> or\n     *    <code>alias</code>\n     */\n    getCurrentAction : function() {\n      this.__detectAction();\n      return this.__currentAction;\n    },\n\n\n    /**\n     * Returns the currently selected action (by user keyboard modifiers)\n     *\n     * @return {qx.Promise|String} One of <code>move</code>, <code>copy</code> or\n     *    <code>alias</code>\n     */\n    getCurrentActionAsync : function() {\n      var self = this;\n      return qx.Promise.resolve(self.__detectAction())\n        .then(function() {\n          return self.__currentAction;\n        });\n    },\n\n\n    /**\n     * Returns the widget which has been the target of the drag start.\n     * @return {qx.ui.core.Widget} The widget on which the drag started.\n     */\n    getDragTarget : function() {\n      return this.__dragTargetWidget;\n    },\n\n\n    /**\n     * Adds data of the given type to the internal storage. The data\n     * is available until the <code>dragend</code> event is fired.\n     *\n     * @param type {String} Any valid type\n     * @param data {var} Any data to store\n     */\n    addData : function(type, data) {\n      this.__cache[type] = data;\n    },\n\n\n    /**\n     * Returns the type which was requested last.\n     *\n     * @return {String} The last requested data type\n     */\n    getCurrentType : function() {\n      return this.__currentType;\n    },\n\n\n    /**\n     * Returns if a drag session is currently active\n     *\n     * @return {Boolean} active drag session\n     */\n    isSessionActive : function() {\n      return this.__sessionActive;\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      INTERNAL UTILS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Rebuilds the internal data storage used during a drag&drop session\n     */\n    __rebuildStructures : function()\n    {\n      this.__types = {};\n      this.__actions = {};\n      this.__keys = {};\n      this.__cache = {};\n    },\n\n\n    /**\n     * Detects the current action and stores it under the private\n     * field <code>__currentAction</code>. Also fires the event\n     * <code>dragchange</code> on every modification.\n     *\n     * @return {qx.Promise|null}\n     */\n    __detectAction : function()\n    {\n      if (this.__dragTarget == null) {\n        if (qx.core.Environment.get(\"qx.promise\")) {\n          return qx.Promise.reject();\n        } else {\n          return null;\n        }\n      }\n\n      var actions = this.__actions;\n      var keys = this.__keys;\n      var current = null;\n\n      if (this.__validDrop)\n      {\n        if (keys.Shift && keys.Control && actions.alias) {\n          current = \"alias\";\n        } else if (keys.Shift && keys.Alt && actions.copy) {\n          current = \"copy\";\n        } else if (keys.Shift && actions.move) {\n          current = \"move\";\n        } else if (keys.Alt && actions.alias) {\n          current = \"alias\";\n        } else if (keys.Control && actions.copy) {\n          current = \"copy\";\n        } else if (actions.move) {\n          current = \"move\";\n        } else if (actions.copy) {\n          current = \"copy\";\n        } else if (actions.alias) {\n          current = \"alias\";\n        }\n      }\n\n      var self = this;\n      var tracker = {};\n      var old = this.__currentAction;\n      if (current != old) {\n        if (this.__dropTarget) {\n          qx.event.Utils.catch(function () {\n            self.__validAction = false;\n            current = null;\n          });\n          qx.event.Utils.then(tracker, function () {\n            self.__currentAction = current;\n            return self.__fireEvent(\"dragchange\", self.__dropTarget, self.__dragTarget, true);\n          });\n          qx.event.Utils.then(tracker, function (validAction) {\n            self.__validAction = validAction;\n            if (!validAction) {\n              current = null;\n            }\n          });\n        }\n      }\n\n      return qx.event.Utils.then(tracker, function() {\n        if (current != old) {\n          self.__currentAction = current;\n          return self.__fireEvent(\"dragchange\", self.__dragTarget, self.__dropTarget, false);\n        }\n      });\n    },\n\n\n    /**\n     * Wrapper for {@link qx.event.Registration#fireEvent} for drag&drop events\n     * needed in this class.\n     *\n     * @param type {String} Event type\n     * @param target {Object} Target to fire on\n     * @param relatedTarget {Object} Related target, i.e. drag or drop target\n     *    depending on the drag event\n     * @param cancelable {Boolean} Whether the event is cancelable\n     * @param original {qx.event.type.Pointer} Original pointer event\n     * @return {qx.Promise|Boolean} <code>true</code> if the event's default behavior was\n     * not prevented\n     */\n    __fireEvent : function(type, target, relatedTarget, cancelable, original, async)\n    {\n      var Registration = qx.event.Registration;\n      var dragEvent = Registration.createEvent(type, qx.event.type.Drag, [ cancelable, original ]);\n\n      if (target !== relatedTarget) {\n        dragEvent.setRelatedTarget(relatedTarget);\n      }\n\n      var result = Registration.dispatchEvent(target, dragEvent);\n      if (qx.core.Environment.get(\"qx.promise\")) {\n        if (async === undefined || async) {\n          return qx.Promise.resolve(result)\n            .then(function() {\n              return !dragEvent.getDefaultPrevented();\n            });\n        } else {\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            if (result instanceof qx.Promise) {\n              this.error(\"DragDrop event \\\"\" + type + \"\\\" returned a promise but a synchronous event was required, drag and drop may not work as expected (consider using getDataAsync)\");\n            }\n          }\n          return result;\n        }\n      } else {\n        return result;\n      }\n    },\n\n\n    /**\n     * Finds next draggable parent of the given element. Maybe the element itself as well.\n     *\n     * Looks for the attribute <code>qxDraggable</code> with the value <code>on</code>.\n     *\n     * @param elem {Element} The element to query\n     * @return {Element} The next parent element which is draggable. May also be <code>null</code>\n     */\n    __findDraggable : function(elem)\n    {\n      while (elem && elem.nodeType == 1)\n      {\n        if (elem.getAttribute(\"qxDraggable\") == \"on\") {\n          return elem;\n        }\n\n        elem = elem.parentNode;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Finds next droppable parent of the given element. Maybe the element itself as well.\n     *\n     * Looks for the attribute <code>qxDroppable</code> with the value <code>on</code>.\n     *\n     * @param elem {Element} The element to query\n     * @return {Element} The next parent element which is droppable. May also be <code>null</code>\n     */\n    __findDroppable : function(elem)\n    {\n      while (elem && elem.nodeType == 1)\n      {\n        if (elem.getAttribute(\"qxDroppable\") == \"on\") {\n          return elem;\n        }\n\n        elem = elem.parentNode;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Cleans up a drag&drop session when <code>dragstart</code> was fired before.\n     *\n     * @return {qx.Promise?} promise, if one was created by event handlers\n     */\n    clearSession : function()\n    {\n      //this.debug(\"clearSession\");\n\n      // Deregister from root events\n      this.__manager.removeListener(this.__root, \"pointermove\", this._onPointermove, this);\n      this.__manager.removeListener(this.__root, \"pointerup\", this._onPointerup, this, true);\n\n      this.__manager.removeListener(this.__root, \"keydown\", this._onKeyDown, this, true);\n      this.__manager.removeListener(this.__root, \"keyup\", this._onKeyUp, this, true);\n      this.__manager.removeListener(this.__root, \"keypress\", this._onKeyPress, this, true);\n      this.__manager.removeListener(this.__root, \"roll\", this._onRoll, this, true);\n\n      var tracker = {};\n      var self = this;\n\n      // Fire dragend event\n      if (this.__dragTarget) {\n        qx.event.Utils.then(tracker, function() {\n          return self.__fireEvent(\"dragend\", self.__dragTarget, self.__dropTarget, false);\n        });\n      }\n\n      return qx.event.Utils.then(tracker, function() {\n        // Cleanup\n        self.__validDrop = false;\n        self.__dropTarget = null;\n        if (self.__dragTargetWidget) {\n          self.__dragTargetWidget.removeState(\"drag\");\n          self.__dragTargetWidget = null;\n        }\n\n        // Clear init\n        //self.debug(\"Clearing drag target\");\n        self.__dragTarget = null;\n        self.__sessionActive = false;\n        self.__startConfig = null;\n        self.__rebuildStructures();\n      });\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Handler for long tap which takes care of starting the drag & drop session for\n     * touch interactions.\n     * @param e {qx.event.type.Tap} The longtap event.\n     */\n    _onLongtap : function(e) {\n      // only for touch\n      if (e.getPointerType() != \"touch\") {\n        return;\n      }\n      // prevent scrolling\n      this.__manager.addListener(this.__root, \"roll\", this._onRoll, this, true);\n      return this._start(e);\n    },\n\n\n    /**\n     * Helper to start the drag & drop session. It is responsible for firing the\n     * dragstart event and attaching the key listener.\n     * @param e {qx.event.type.Pointer} Either a longtap or pointermove event.\n     *\n     * @return {Boolean} Returns <code>false</code> if drag session should be\n     * canceled.\n     */\n    _start : function(e) {\n      // only for primary pointer and allowed buttons\n      var isButtonOk = qx.event.handler.DragDrop.ALLOWED_BUTTONS.indexOf(e.getButton()) !== -1;\n      if (!e.isPrimary() || !isButtonOk) {\n        return false;\n      }\n\n      // start target can be none as the drag & drop handler might\n      // be created after the first start event\n      var target = this.__startConfig ? this.__startConfig.target : e.getTarget();\n      var draggable = this.__findDraggable(target);\n      if (draggable) {\n        // This is the source target\n        //this.debug(\"Setting dragtarget = \" + draggable);\n        this.__dragTarget = draggable;\n\n        var widgetOriginalTarget = qx.ui.core.Widget.getWidgetByElement(this.__startConfig.original);\n        while (widgetOriginalTarget && widgetOriginalTarget.isAnonymous()) {\n          widgetOriginalTarget = widgetOriginalTarget.getLayoutParent();\n        }\n        if (widgetOriginalTarget) {\n          this.__dragTargetWidget = widgetOriginalTarget;\n          widgetOriginalTarget.addState(\"drag\");\n        }\n\n        // fire cancelable dragstart\n        var self = this;\n        var tracker = {};\n        qx.event.Utils.catch(function() {\n          //self.debug(\"dragstart FAILED, setting __sessionActive=false\");\n          self.__sessionActive = false;\n        });\n        qx.event.Utils.then(tracker, function() {\n          return self.__fireEvent(\"dragstart\", self.__dragTarget, self.__dropTarget, true, e);\n        });\n        return qx.event.Utils.then(tracker, function(validAction) {\n          if (!validAction) {\n            return;\n          }\n          //self.debug(\"dragstart ok, setting __sessionActive=true\")\n          self.__manager.addListener(self.__root, \"keydown\", self._onKeyDown, self, true);\n          self.__manager.addListener(self.__root, \"keyup\", self._onKeyUp, self, true);\n          self.__manager.addListener(self.__root, \"keypress\", self._onKeyPress, self, true);\n          self.__sessionActive = true;\n        });\n      }\n    },\n\n\n    /**\n     * Event handler for the pointerdown event which stores the initial targets and the coordinates.\n     * @param e {qx.event.type.Pointer} The pointerdown event.\n     */\n    _onPointerdown : function(e) {\n      if (e.isPrimary()) {\n        this.__startConfig = {\n          target: e.getTarget(),\n          original: e.getOriginalTarget(),\n          left : e.getDocumentLeft(),\n          top : e.getDocumentTop()\n        };\n\n        this.__manager.addListener(this.__root, \"pointermove\", this._onPointermove, this);\n        this.__manager.addListener(this.__root, \"pointerup\", this._onPointerup, this, true);\n      }\n    },\n\n\n    /**\n     * Event handler for the pointermove event which starts the drag session and\n     * is responsible for firing the drag, dragover and dragleave event.\n     * @param e {qx.event.type.Pointer} The pointermove event.\n     */\n    _onPointermove : function(e) {\n      // only allow drag & drop for primary pointer\n      if (!e.isPrimary()) {\n        return;\n      }\n\n      //this.debug(\"_onPointermove: start\");\n\n      var self = this;\n      var tracker = {};\n\n      qx.event.Utils.catch(function() {\n        return self.clearSession();\n      });\n\n      // start the drag session for mouse\n      if (!self.__sessionActive && e.getPointerType() == \"mouse\") {\n        var delta = self._getDelta(e);\n        // if the mouse moved a bit in any direction\n        var distance = qx.event.handler.DragDrop.MIN_DRAG_DISTANCE;\n        if (delta && (Math.abs(delta.x) > distance || Math.abs(delta.y) > distance)) {\n          //self.debug(\"_onPointermove: outside min drag distance\");\n          qx.event.Utils.then(tracker, function() {\n            return self._start(e);\n          });\n        }\n      }\n\n      return qx.event.Utils.then(tracker, function() {\n        // check if the session has been activated\n        if (!self.__sessionActive) {\n          //self.debug(\"not active\");\n          return;\n        }\n\n        var tracker = {};\n        qx.event.Utils.then(tracker, function() {\n          //self.debug(\"active, firing drag\");\n          return self.__fireEvent(\"drag\", self.__dragTarget, self.__dropTarget, true, e);\n        });\n        qx.event.Utils.then(tracker, function(validAction) {\n          if (!validAction) {\n            this.clearSession();\n          }\n\n          //self.debug(\"drag\");\n          // find current hovered droppable\n          var el = e.getTarget();\n          if (self.__startConfig.target === el) {\n            // on touch devices the native events return wrong elements as target (its always the element where the dragging started)\n            el = e.getNativeEvent().view.document.elementFromPoint(e.getDocumentLeft(), e.getDocumentTop());\n          }\n          var cursor = self.getCursor();\n          if (!cursor) {\n            cursor = qx.ui.core.DragDropCursor.getInstance();\n          }\n          var cursorEl = cursor.getContentElement().getDomElement();\n          if (cursorEl && (el === cursorEl || cursorEl.contains(el))) {\n            var display = qx.bom.element.Style.get(cursorEl, \"display\");\n            // get the cursor out of the way\n            qx.bom.element.Style.set(cursorEl, \"display\", \"none\");\n            el = e.getNativeEvent().view.document.elementFromPoint(e.getDocumentLeft(), e.getDocumentTop());\n            qx.bom.element.Style.set(cursorEl, \"display\", display);\n          }\n\n          if (el !== cursorEl) {\n            var droppable = self.__findDroppable(el);\n\n            // new drop target detected\n            if (droppable && droppable != self.__dropTarget) {\n              var dropLeaveTarget = self.__dropTarget;\n              \n              self.__validDrop = true; // initial value should be true\n              self.__dropTarget = droppable;\n\n              var innerTracker = {};\n              qx.event.Utils.catch(innerTracker, function () {\n                self.__dropTarget = null;\n                self.__validDrop = false;\n              });\n              \n              // fire dragleave for previous drop target\n              if (dropLeaveTarget) {\n                qx.event.Utils.then(innerTracker, function () {\n                  return self.__fireEvent(\"dragleave\", dropLeaveTarget, self.__dragTarget, false, e);\n                });\n              }\n              \n              qx.event.Utils.then(innerTracker, function () {\n                return self.__fireEvent(\"dragover\", droppable, self.__dragTarget, true, e);\n              });\n              \n              return qx.event.Utils.then(innerTracker, function (validDrop) {\n                self.__validDrop = validDrop;\n              });\n            }\n\n            // only previous drop target\n            else if (!droppable && self.__dropTarget) {\n              var innerTracker = {};\n              qx.event.Utils.then(innerTracker, function () {\n                return self.__fireEvent(\"dragleave\", self.__dropTarget, self.__dragTarget, false, e);\n              });\n              return qx.event.Utils.then(innerTracker, function () {\n                self.__dropTarget = null;\n                self.__validDrop = false;\n\n                return self.__detectAction();\n              });\n            }\n          }\n        });\n        return qx.event.Utils.then(tracker, function() {\n          // Reevaluate current action\n          var keys = self.__keys;\n          keys.Control = e.isCtrlPressed();\n          keys.Shift = e.isShiftPressed();\n          keys.Alt = e.isAltPressed();\n          return self.__detectAction();\n        });\n      });\n\n    },\n\n\n    /**\n     * Helper function to compute the delta between current cursor position from given event\n     * and the stored coordinates at {@link #_onPointerdown}.\n     *\n     * @param e {qx.event.type.Pointer} The pointer event\n     *\n     * @return {Map} containing the deltaX as x, and deltaY as y.\n     */\n    _getDelta : function(e)\n    {\n      if (!this.__startConfig) {\n        return null;\n      }\n\n      var deltaX = e.getDocumentLeft() - this.__startConfig.left;\n      var deltaY = e.getDocumentTop() - this.__startConfig.top;\n\n      return {\n        \"x\": deltaX,\n        \"y\": deltaY\n      };\n    },\n\n\n    /**\n     * Handler for the pointerup event which is responsible fore firing the drop event.\n     * @param e {qx.event.type.Pointer} The pointerup event\n     */\n    _onPointerup : function(e) {\n      if (!e.isPrimary()) {\n        return;\n      }\n\n      var tracker = {};\n      var self = this;\n\n      // Fire drop event in success case\n      if (this.__validDrop && this.__validAction) {\n        qx.event.Utils.then(tracker, function() {\n          return self.__fireEvent(\"drop\", self.__dropTarget, self.__dragTarget, false, e);\n        });\n      }\n\n      return qx.event.Utils.then(tracker, function() {\n        // Stop event\n        if (e.getTarget() == self.__dragTarget) {\n          e.stopPropagation();\n        }\n\n        // Clean up\n        return self.clearSession();\n      });\n    },\n\n\n    /**\n     * Roll listener to stop scrolling on touch devices.\n     * @param e {qx.event.type.Roll} The roll event.\n     */\n    _onRoll : function(e) {\n      e.stop();\n    },\n\n\n    /**\n     * Event listener for window's <code>blur</code> event\n     *\n     * @param e {qx.event.type.Event} Event object\n     */\n    _onWindowBlur : function(e) {\n      return this.clearSession();\n    },\n\n\n    /**\n     * Event listener for root's <code>keydown</code> event\n     *\n     * @param e {qx.event.type.KeySequence} Event object\n     */\n    _onKeyDown : function(e) {\n      var iden = e.getKeyIdentifier();\n      switch(iden)\n      {\n        case \"Alt\":\n        case \"Control\":\n        case \"Shift\":\n          if (!this.__keys[iden])\n          {\n            this.__keys[iden] = true;\n            return this.__detectAction();\n          }\n      }\n    },\n\n\n    /**\n     * Event listener for root's <code>keyup</code> event\n     *\n     * @param e {qx.event.type.KeySequence} Event object\n     */\n    _onKeyUp : function(e) {\n      var iden = e.getKeyIdentifier();\n      switch(iden)\n      {\n        case \"Alt\":\n        case \"Control\":\n        case \"Shift\":\n          if (this.__keys[iden])\n          {\n            this.__keys[iden] = false;\n            return this.__detectAction();\n          }\n      }\n    },\n\n\n    /**\n     * Event listener for root's <code>keypress</code> event\n     *\n     * @param e {qx.event.type.KeySequence} Event object\n     */\n    _onKeyPress : function(e) {\n      var iden = e.getKeyIdentifier();\n      switch(iden)\n      {\n        case \"Escape\":\n          return this.clearSession();\n      }\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    qx.event.Registration.removeListener(window, \"blur\", this._onWindowBlur, this);\n\n    // Clear fields\n    this.__dragTarget = this.__dropTarget = this.__manager = this.__root =\n      this.__types = this.__actions = this.__keys = this.__cache = null;\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * A helper class for accessing the property system directly.\n *\n * This class is rather to be used internally. For all regular usage of the\n * property system the default API should be sufficient.\n */\nqx.Class.define(\"qx.util.PropertyUtil\",\n{\n  statics :\n  {\n    /**\n     * Get the property map of the given class\n     *\n     * @param clazz {Class} a qooxdoo class\n     * @return {Map} A properties map as defined in {@link qx.Class#define}\n     *   including the properties of included mixins and not including refined\n     *   properties.\n     */\n    getProperties : function(clazz) {\n      return clazz.$$properties;\n    },\n\n\n    /**\n     * Get the property map of the given class including the properties of all\n     * superclasses!\n     *\n     * @param clazz {Class} a qooxdoo class\n     * @return {Map} The properties map as defined in {@link qx.Class#define}\n     *   including the properties of included mixins of the current class and\n     *   all superclasses.\n     */\n    getAllProperties : function(clazz)\n    {\n\n      var properties = {};\n      var superclass = clazz;\n      // go threw the class hierarchy\n      while (superclass != qx.core.Object) {\n        var currentProperties = this.getProperties(superclass);\n        for (var property in currentProperties) {\n          properties[property] = currentProperties[property];\n        }\n        superclass = superclass.superclass;\n      }\n      return properties;\n    },\n\n\n\n    /*\n    -------------------------------------------------------------------------\n      USER VALUES\n    -------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the user value of the given property\n     *\n     * @param object {Object} The object to access\n     * @param propertyName {String} The name of the property\n     * @return {var} The user value\n     */\n    getUserValue : function(object, propertyName) {\n      return object[\"$$user_\" + propertyName];\n    },\n\n    /**\n    * Sets the user value of the given property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    * @param value {var} The value to set\n    */\n    setUserValue : function(object, propertyName, value) {\n      object[\"$$user_\" + propertyName] = value;\n    },\n\n    /**\n    * Deletes the user value of the given property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    */\n    deleteUserValue : function(object, propertyName) {\n      delete(object[\"$$user_\" + propertyName]);\n    },\n\n\n    /*\n    -------------------------------------------------------------------------\n      INIT VALUES\n    -------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the init value of the given property\n     *\n     * @param object {Object} The object to access\n     * @param propertyName {String} The name of the property\n     * @return {var} The init value\n     */\n    getInitValue : function(object, propertyName) {\n      return object[\"$$init_\" + propertyName];\n    },\n\n    /**\n    * Sets the init value of the given property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    * @param value {var} The value to set\n    */\n    setInitValue : function(object, propertyName, value) {\n      object[\"$$init_\" + propertyName] = value;\n    },\n\n    /**\n    * Deletes the init value of the given property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    */\n    deleteInitValue : function(object, propertyName) {\n      delete(object[\"$$init_\" + propertyName]);\n    },\n\n\n    /*\n    -------------------------------------------------------------------------\n      THEME VALUES\n    -------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the theme value of the given property\n     *\n     * @param object {Object} The object to access\n     * @param propertyName {String} The name of the property\n     * @return {var} The theme value\n     */\n    getThemeValue : function(object, propertyName) {\n      return object[\"$$theme_\" + propertyName];\n    },\n\n    /**\n    * Sets the theme value of the given property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    * @param value {var} The value to set\n    */\n    setThemeValue : function(object, propertyName, value) {\n      object[\"$$theme_\" + propertyName] = value;\n    },\n\n    /**\n    * Deletes the theme value of the given property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    */\n    deleteThemeValue : function(object, propertyName) {\n      delete(object[\"$$theme_\" + propertyName]);\n    },\n\n\n    /*\n    -------------------------------------------------------------------------\n      THEMED PROPERTY\n    -------------------------------------------------------------------------\n    */\n\n    /**\n     * Sets a themed property\n     *\n     * @param object {Object} The object to access\n     * @param propertyName {String} The name of the property\n    * @param value {var} The value to set\n     */\n    setThemed : function(object, propertyName, value)\n    {\n      var styler = qx.core.Property.$$method.setThemed;\n      object[styler[propertyName]](value);\n    },\n\n    /**\n    * Resets a themed property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    */\n    resetThemed : function(object, propertyName)\n    {\n      var unstyler = qx.core.Property.$$method.resetThemed;\n      object[unstyler[propertyName]]();\n    }\n  }\n});",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * The layout queue manages all widgets, which need a recalculation of their\n * layout. The {@link #flush} method computes the layout of all queued widgets\n * and their dependent widgets.\n */\nqx.Class.define(\"qx.ui.core.queue.Layout\",\n{\n  statics :\n  {\n    /** @type {Map} This contains all the queued widgets for the next flush. */\n    __queue : {},\n\n\n    /** Nesting level cache **/\n    __nesting : {},\n\n\n    /**\n     * Clears the widget from the internal queue. Normally only used\n     * during interims disposes of one or a few widgets.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to clear\n     */\n    remove : function(widget) {\n      delete this.__queue[widget.$$hash];\n    },\n\n\n    /**\n     * Mark a widget's layout as invalid and add its layout root to\n     * the queue.\n     *\n     * Should only be used by {@link qx.ui.core.Widget}.\n     *\n     * @param widget {qx.ui.core.Widget} Widget to add.\n     */\n    add : function(widget)\n    {\n      this.__queue[widget.$$hash] = widget;\n      qx.ui.core.queue.Manager.scheduleFlush(\"layout\");\n    },\n\n    /**\n    * Check whether the queue has scheduled changes for a widget.\n    * Note that the layout parent can have changes scheduled that\n    * affect the children widgets.\n    *\n    * @param widget {qx.ui.core.Widget} Widget to check.\n    * @return {Boolean} Whether the widget given has layout changes queued.\n    */\n    isScheduled : function(widget) {\n      return !!this.__queue[widget.$$hash];\n    },\n\n    /**\n     * Update the layout of all widgets, which layout is marked as invalid.\n     *\n     * This is used exclusively by the {@link qx.ui.core.queue.Manager}.\n     *\n     */\n    flush : function()\n    {\n      // get sorted widgets to (re-)layout\n      var queue = this.__getSortedQueue();\n\n      // iterate in reversed order to process widgets with the smallest nesting\n      // level first because these may affect the inner lying children\n      for (var i=queue.length-1; i>=0; i--)\n      {\n        var widget = queue[i];\n\n        // continue if a relayout of one of the root's parents has made the\n        // layout valid\n        if (widget.hasValidLayout()) {\n          continue;\n        }\n\n        // overflow areas or qx.ui.root.*\n        if (widget.isRootWidget() && !widget.hasUserBounds())\n        {\n          // This is a real root widget. Set its size to its preferred size.\n          var hint = widget.getSizeHint();\n          widget.renderLayout(0, 0, hint.width, hint.height);\n        }\n        else\n        {\n          // This is an inner item of layout changes. Do a relayout of its\n          // children without changing its position and size.\n          var bounds = widget.getBounds();\n          widget.renderLayout(bounds.left, bounds.top, bounds.width, bounds.height);\n        }\n      }\n    },\n\n\n    /**\n     * Get the widget's nesting level. Top level widgets have a nesting level\n     * of <code>0</code>.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to query.\n     * @return {Integer} The nesting level\n     */\n    getNestingLevel : function(widget)\n    {\n      var cache = this.__nesting;\n      var level = 0;\n      var parent = widget;\n\n      // Detecting level\n      while (true)\n      {\n        if (cache[parent.$$hash] != null)\n        {\n          level += cache[parent.$$hash];\n          break;\n        }\n\n        if (!parent.$$parent) {\n          break;\n        }\n\n        parent = parent.$$parent;\n        level += 1;\n      }\n\n      // Update the processed hierarchy (runs from inner to outer)\n      var leveldown = level;\n      while (widget && widget !== parent)\n      {\n        cache[widget.$$hash] = leveldown--;\n        widget = widget.$$parent;\n      }\n\n      return level;\n    },\n\n\n    /**\n     * Group widget by their nesting level.\n     *\n     * @return {Map[]} A sparse array. Each entry of the array contains a widget\n     *     map with all widgets of the same level as the array index.\n     */\n    __getLevelGroupedWidgets : function()\n    {\n      var VisibilityQueue = qx.ui.core.queue.Visibility;\n\n      // clear cache\n      this.__nesting = {};\n\n      // sparse level array\n      var levels = [];\n      var queue = this.__queue;\n      var widget, level;\n\n      for (var hash in queue)\n      {\n        widget = queue[hash];\n\n        if (VisibilityQueue.isVisible(widget))\n        {\n          level = this.getNestingLevel(widget);\n\n          // create hierarchy\n          if (!levels[level]) {\n            levels[level] = {};\n          }\n\n          // store widget in level map\n          levels[level][hash] = widget;\n\n          // remove widget from layout queue\n          delete queue[hash];\n        }\n      }\n\n      return levels;\n    },\n\n\n    /**\n     * Compute all layout roots of the given widgets. Layout roots are either\n     * root widgets or widgets, which preferred size has not changed by the\n     * layout changes of its children.\n     *\n     * This function returns the roots ordered by their nesting factors. The\n     * layout with the largest nesting level comes first.\n     *\n     * @return {qx.ui.core.Widget[]} Ordered list or layout roots.\n     */\n    __getSortedQueue : function()\n    {\n      var sortedQueue = [];\n      var levels = this.__getLevelGroupedWidgets();\n\n      for (var level=levels.length-1; level>=0; level--)\n      {\n        // Ignore empty levels (levels is an sparse array)\n        if (!levels[level]) {\n          continue;\n        }\n\n        for (var hash in levels[level])\n        {\n          var widget = levels[level][hash];\n\n          // This is a real layout root. Add it directly to the list\n          if (level == 0 || widget.isRootWidget() || widget.hasUserBounds())\n          {\n            sortedQueue.push(widget);\n            widget.invalidateLayoutCache();\n            continue;\n          }\n\n          // compare old size hint to new size hint\n          var oldSizeHint = widget.getSizeHint(false);\n\n          if (oldSizeHint)\n          {\n            widget.invalidateLayoutCache();\n            var newSizeHint = widget.getSizeHint();\n\n            var hintChanged = (\n              !widget.getBounds() ||\n              oldSizeHint.minWidth !== newSizeHint.minWidth ||\n              oldSizeHint.width !== newSizeHint.width ||\n              oldSizeHint.maxWidth !== newSizeHint.maxWidth ||\n              oldSizeHint.minHeight !== newSizeHint.minHeight ||\n              oldSizeHint.height !== newSizeHint.height ||\n              oldSizeHint.maxHeight !== newSizeHint.maxHeight\n            );\n          }\n          else\n          {\n            hintChanged = true;\n          }\n\n          if (hintChanged)\n          {\n            // Since the level is > 0, the widget must\n            // have a parent != null.\n            var parent = widget.getLayoutParent();\n            if (!levels[level-1]) {\n              levels[level-1] = {};\n            }\n\n            levels[level-1][parent.$$hash] = parent;\n          }\n          else\n          {\n            // this is an internal layout root since its own preferred size\n            // has not changed.\n            sortedQueue.push(widget);\n          }\n        }\n      }\n\n      return sortedQueue;\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Keeps data about the visibility of all widgets. Updates the internal\n * tree when widgets are added, removed or modify their visibility.\n */\nqx.Class.define(\"qx.ui.core.queue.Visibility\",\n{\n  statics :\n  {\n    /** @type {Array} This contains all the queued widgets for the next flush. */\n    __queue : [],\n    \n    /** @type {Map} map of widgets by hash code which are in the queue */\n    __lookup : {},\n\n\n    /** @type {Map} Maps hash codes to visibility */\n    __data : {},\n\n\n    /**\n     * Clears the cached data of the given widget. Normally only used\n     * during interims disposes of one or a few widgets.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to clear\n     */\n    remove : function(widget)\n    {\n    \tif (this.__lookup[widget.$$hash]) {\n\t      delete this.__lookup[widget.$$hash];\n\t      qx.lang.Array.remove(this.__queue, widget);\n    \t}\n      delete this.__data[widget.$$hash];\n    },\n\n\n    /**\n     * Whether the given widget is visible.\n     *\n     * Please note that the information given by this method is queued and may not be accurate\n     * until the next queue flush happens.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to query\n     * @return {Boolean} Whether the widget is visible\n     */\n    isVisible : function(widget) {\n      return this.__data[widget.$$hash] || false;\n    },\n\n\n    /**\n     * Computes the visibility for the given widget\n     *\n     * @param widget {qx.ui.core.Widget} The widget to update\n     * @return {Boolean} Whether the widget is visible\n     */\n    __computeVisible : function(widget)\n    {\n      var data = this.__data;\n      var hash = widget.$$hash;\n      var visible;\n\n      // Respect local value\n      if (widget.isExcluded())\n      {\n        visible = false;\n      }\n      else\n      {\n        // Parent hierarchy\n        var parent = widget.$$parent;\n        if (parent) {\n          visible = this.__computeVisible(parent);\n        } else {\n          visible = widget.isRootWidget();\n        }\n      }\n\n      return data[hash] = visible;\n    },\n\n\n    /**\n     * Adds a widget to the queue.\n     *\n     * Should only be used by {@link qx.ui.core.Widget}.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to add.\n     */\n    add : function(widget)\n    {\n      if (this.__lookup[widget.$$hash]) {\n        return;\n      }\n\n      this.__queue.unshift(widget);\n      this.__lookup[widget.$$hash] = widget;\n      qx.ui.core.queue.Manager.scheduleFlush(\"visibility\");\n    },\n\n\n    /**\n     * Flushes the visibility queue.\n     *\n     * This is used exclusively by the {@link qx.ui.core.queue.Manager}.\n     */\n    flush : function()\n    {\n      // Dispose all registered objects\n      var queue = this.__queue;\n      var data = this.__data;\n\n      // Dynamically add children to queue\n      // Only respect already known widgets because otherwise the children\n      // are also already in the queue (added on their own)\n      for (var i = queue.length - 1; i >= 0; i--)\n      {\n        var hash = queue[i].$$hash;\n        if (data[hash] != null) {\n          // recursive method call which adds widgets to the queue so be\n          // careful with that one (performance critical)\n          queue[i].addChildrenToQueue(queue);\n        }\n      }\n\n      // Cache old data, clear current data\n      // Do this before starting with recomputation because\n      // new data may also be added by related widgets and not\n      // only the widget itself.\n      var oldData = {};\n      for (var i = queue.length - 1; i >= 0; i--)\n      {\n        var hash = queue[i].$$hash;\n        oldData[hash] = data[hash];\n        data[hash] = null;\n      }\n\n      // Finally recompute\n      for (var i = queue.length - 1; i >= 0; i--)\n      {\n        var widget = queue[i];\n        var hash = widget.$$hash;\n        queue.splice(i, 1);\n\n        // Only update when not already updated by another widget\n        if (data[hash] == null) {\n          this.__computeVisible(widget);\n        }\n\n        // Check for updates required to the appearance.\n        // Hint: Invisible widgets are ignored inside appearance flush\n        if (data[hash] && data[hash] != oldData[hash]) {\n          widget.checkAppearanceNeeds();\n        }\n      }\n\n      // Recreate the array is cheaper compared to keep a sparse array over time\n      this.__queue = [];\n      this.__lookup = {};\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Base class for all layout managers.\n *\n * Custom layout manager must derive from\n * this class and implement the methods {@link #invalidateLayoutCache},\n * {@link #renderLayout} and {@link #getSizeHint}.\n */\nqx.Class.define(\"qx.ui.layout.Abstract\",\n{\n  type : \"abstract\",\n  extend : qx.core.Object,\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /** @type {Map} The cached size hint */\n    __sizeHint : null,\n\n    /** @type {Boolean} Whether the children cache is valid. This field is protected\n     *    because sub classes must be able to access it quickly.\n     */\n    _invalidChildrenCache : null,\n\n    /** @type {qx.ui.core.Widget} The connected widget */\n    __widget : null,\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LAYOUT INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Invalidate all layout relevant caches. Automatically deletes the size hint.\n     *\n     * @abstract\n     */\n    invalidateLayoutCache : function() {\n      this.__sizeHint = null;\n    },\n\n\n    /**\n     * Applies the children layout.\n     *\n     * @abstract\n     * @param availWidth {Integer} Final width available for the content (in pixel)\n     * @param availHeight {Integer} Final height available for the content (in pixel)\n     * @param padding {Map} Map containing the padding values. Keys:\n     * <code>top</code>, <code>bottom</code>, <code>left</code>, <code>right</code>\n     */\n    renderLayout : function(availWidth, availHeight, padding) {\n      this.warn(\"Missing renderLayout() implementation!\");\n    },\n\n\n    /**\n     * Computes the layout dimensions and possible ranges of these.\n     *\n     * @return {Map|null} The map with the preferred width/height and the allowed\n     *   minimum and maximum values in cases where shrinking or growing\n     *   is required. Can also return <code>null</code> when this detection\n     *   is not supported by the layout.\n     */\n    getSizeHint : function()\n    {\n      if (this.__sizeHint) {\n        return this.__sizeHint;\n      }\n\n      return this.__sizeHint = this._computeSizeHint();\n    },\n\n\n    /**\n     * Whether the layout manager supports height for width.\n     *\n     * @return {Boolean} Whether the layout manager supports height for width\n     */\n    hasHeightForWidth : function() {\n      return false;\n    },\n\n\n    /**\n     * If layout wants to trade height for width it has to implement this\n     * method and return the preferred height if it is resized to\n     * the given width. This function returns <code>null</code> if the item\n     * do not support height for width.\n     *\n     * @param width {Integer} The computed width\n     * @return {Integer} The desired height\n     */\n    getHeightForWidth : function(width)\n    {\n      this.warn(\"Missing getHeightForWidth() implementation!\");\n      return null;\n    },\n\n\n    /**\n     * This computes the size hint of the layout and returns it.\n     *\n     * @abstract\n     * @return {Map} The size hint.\n     */\n    _computeSizeHint : function() {\n      return null;\n    },\n\n\n    /**\n     * This method is called, on each child \"add\" and \"remove\" action and\n     * whenever the layout data of a child is changed. The method should be used\n     * to clear any children relevant cached data.\n     *\n     */\n    invalidateChildrenCache : function() {\n      this._invalidChildrenCache = true;\n    },\n\n\n    /**\n     * Verifies the value of a layout property.\n     *\n     * Note: This method is only available in the debug builds.\n     *\n     * @signature function(item, name, value)\n     * @param item {Object} The affected layout item\n     * @param name {Object} Name of the layout property\n     * @param value {Object} Value of the layout property\n     */\n    verifyLayoutProperty : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\" : function(item, name, value) {\n        // empty implementation\n      },\n\n      \"false\" : null\n    }),\n\n\n    /**\n     * Remove all currently visible separators\n     */\n    _clearSeparators : function()\n    {\n      // It may be that the widget do not implement clearSeparators which is especially true\n      // when it do not inherit from LayoutItem.\n      var widget = this.__widget;\n      if (widget instanceof qx.ui.core.LayoutItem) {\n        widget.clearSeparators();\n      }\n    },\n\n\n    /**\n     * Renders a separator between two children\n     *\n     * @param separator {String|qx.ui.decoration.IDecorator} The separator to render\n     * @param bounds {Map} Contains the left and top coordinate and the width and height\n     *    of the separator to render.\n     */\n    _renderSeparator : function(separator, bounds) {\n      this.__widget.renderSeparator(separator, bounds);\n    },\n\n\n    /**\n     * This method is called by the widget to connect the widget with the layout.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to connect to.\n     */\n    connectToWidget : function(widget)\n    {\n      if (widget && this.__widget) {\n        throw new Error(\"It is not possible to manually set the connected widget.\");\n      }\n\n      this.__widget = widget;\n\n      // Invalidate cache\n      this.invalidateChildrenCache();\n    },\n\n    /**\n     * Return the widget that is this layout is responsible for.\n     *\n     * @return {qx.ui.core.Widget} The widget connected to this layout.\n     */\n    _getWidget : function()\n    {\n      return this.__widget;\n    },\n\n    /**\n     * Indicate that the layout has layout changed and propagate this information\n     * up the widget hierarchy.\n     *\n     * Also a generic property apply method for all layout relevant properties.\n     */\n    _applyLayoutChange : function()\n    {\n      if (this.__widget) {\n        this.__widget.scheduleLayoutUpdate();\n      }\n    },\n\n\n    /**\n     * Returns the list of all layout relevant children.\n     *\n     * @return {Array} List of layout relevant children.\n     */\n    _getLayoutChildren : function() {\n      return this.__widget.getLayoutChildren();\n    }\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCT\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this.__widget = this.__sizeHint = null;\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Manager for decoration themes\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define(\"qx.theme.manager.Decoration\",\n{\n  type : \"singleton\",\n  extend : qx.core.Object,\n  implement : [ qx.core.IDisposable ],\n\n\n  statics :\n  {\n    /** The prefix for all created CSS classes*/\n    CSS_CLASSNAME_PREFIX : \"qx-\"\n  },\n\n\n\n  construct : function() {\n    this.base(arguments);\n    this.__rules = [];\n    this.__legacyIe = (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n      qx.core.Environment.get(\"browser.documentmode\") < 9);\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** Selected decoration theme */\n    theme :\n    {\n      check : \"Theme\",\n      nullable : true,\n      apply : \"_applyTheme\",\n      event : \"changeTheme\"\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __dynamic : null,\n    __rules : null,\n    __legacyIe : false,\n\n\n    /**\n     * Returns the name which will be / is used as css class name.\n     * @param value {String|qx.ui.decoration.IDecorator} The decorator string or instance.\n     * @return {String} The css class name.\n     */\n    getCssClassName : function(value) {\n      var prefix = qx.theme.manager.Decoration.CSS_CLASSNAME_PREFIX;\n      if (qx.lang.Type.isString(value)) {\n        return prefix + value;\n      } else {\n        return prefix + value.toHashCode();\n      }\n    },\n\n\n    /**\n     * Adds a css class to the global stylesheet for the given decorator.\n     * This includes resolving the decorator if it's a string.\n     * @param value {String|qx.ui.decoration.IDecorator} The decorator string or instance.\n     * @return {String} the css class name.\n     */\n    addCssClass : function(value) {\n      var sheet = qx.ui.style.Stylesheet.getInstance();\n\n      var instance = value;\n\n      value = this.getCssClassName(value);\n      var selector = \".\" + value;\n\n      if (sheet.hasRule(selector)) {\n        return value;\n      }\n\n      if (qx.lang.Type.isString(instance)) {\n        instance = this.resolve(instance);\n      }\n\n      if (!instance) {\n        throw new Error(\"Unable to resolve decorator '\" + value + \"'.\");\n      }\n\n      // create and add a CSS rule\n      var css = \"\";\n      var styles = instance.getStyles(true);\n      \n      // Sort the styles so that more specific styles come after the group styles, \n      // eg background-color comes after background. The sort order is alphabetical\n      // so that short cut rules come before actual\n      Object.keys(styles).sort().forEach(function(key) {\n        // if we find a map value, use it as pseudo class\n        if (qx.Bootstrap.isObject(styles[key])) {\n          var innerCss = \"\";\n          var innerStyles = styles[key];\n          var inner = false;\n          for (var innerKey in innerStyles) {\n            inner = true;\n            innerCss += innerKey + \":\" + innerStyles[innerKey] + \";\";\n          }\n          var innerSelector = this.__legacyIe ? selector :\n            selector + (inner ? \":\" : \"\");\n          this.__rules.push(innerSelector + key);\n          sheet.addRule(innerSelector + key, innerCss);\n          return;\n        }\n        css += key + \":\" + styles[key] + \";\";\n      }, this);\n\n      if (css) {\n        sheet.addRule(selector, css);\n        this.__rules.push(selector);\n      }\n\n      return value;\n    },\n\n\n    /**\n     * Removes all previously by {@link #addCssClass} created CSS rule from\n     * the global stylesheet.\n     */\n    removeAllCssClasses : function()\n    {\n      // remove old rules\n      for (var i=0; i < this.__rules.length; i++) {\n        var selector = this.__rules[i];\n        qx.ui.style.Stylesheet.getInstance().removeRule(selector);\n      };\n      this.__rules = [];\n    },\n\n\n    /**\n     * Returns the dynamically interpreted result for the incoming value\n     *\n     * @param value {String} dynamically interpreted idenfier\n     * @return {var} return the (translated) result of the incoming value\n     */\n    resolve : function(value)\n    {\n      if (!value) {\n        return null;\n      }\n\n      if (typeof value === \"object\") {\n        return value;\n      }\n\n      var cache = this.__dynamic;\n      if (!cache) {\n        cache = this.__dynamic = {};\n      }\n\n      var resolved = cache[value];\n      if (resolved) {\n        return resolved;\n      }\n\n      var theme = this.getTheme();\n      if (!theme) {\n        return null;\n      }\n\n      if(!theme.decorations[value]) {\n        return null;\n      }\n      \n      // create an empty decorator\n      var decorator = new qx.ui.decoration.Decorator();\n\n      // handle recursive decorator includes\n      var recurseDecoratorInclude = function(currentEntry, name) {\n        // follow the include chain to the topmost decorator entry\n        if(currentEntry.include && theme.decorations[currentEntry.include]) {\n          recurseDecoratorInclude(theme.decorations[currentEntry.include], currentEntry.include);\n        }\n\n        // apply styles from the included decorator, \n        // overwriting existing values.\n        if (currentEntry.style) {\n          decorator.set(currentEntry.style);\n        }\n      };\n\n      // start with the current decorator entry\n      recurseDecoratorInclude(theme.decorations[value], value);\n\n      cache[value] = decorator;\n      \n      return cache[value];\n    },\n\n\n    /**\n     * Whether the given value is valid for being used in a property\n     * with the 'check' configured to 'Decorator'.\n     *\n     * @param value {var} Incoming value\n     * @return {Boolean} Whether the value is valid for being used in a Decorator property\n     */\n    isValidPropertyValue : function(value)\n    {\n      if (typeof value === \"string\") {\n        return this.isDynamic(value);\n      }\n      else if (typeof value === \"object\")\n      {\n        var clazz = value.constructor;\n        return qx.Class.hasInterface(clazz, qx.ui.decoration.IDecorator);\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Whether a value is interpreted dynamically\n     *\n     * @param value {String} dynamically interpreted identifier\n     * @return {Boolean} returns <code>true</code> if the value is interpreted dynamically\n     */\n    isDynamic : function(value)\n    {\n      if (!value) {\n        return false;\n      }\n\n      var theme = this.getTheme();\n      if (!theme) {\n        return false;\n      }\n\n      return !!theme.decorations[value];\n    },\n\n\n    /**\n     * Whether the given decorator is cached\n     *\n     * @param decorator {String|qx.ui.decoration.IDecorator} The decorator to check\n     * @return {Boolean} <code>true</code> if the decorator is cached\n     * @internal\n     */\n    isCached : function(decorator)\n    {\n      return !this.__dynamic ? false :\n        qx.lang.Object.contains(this.__dynamic, decorator);\n    },\n\n\n    // property apply\n    _applyTheme : function(value, old)\n    {\n      var aliasManager = qx.util.AliasManager.getInstance();\n\n      // remove old rules\n      this.removeAllCssClasses();\n\n      if (old)\n      {\n        for (var alias in old.aliases) {\n          aliasManager.remove(alias);\n        }\n      }\n\n      if (value)\n      {\n        for (var alias in value.aliases) {\n          aliasManager.add(alias, value.aliases[alias]);\n        }\n      }\n\n      this._disposeMap(\"__dynamic\");\n      this.__dynamic = {};\n    },\n\n\n    /**\n     * Clears internal caches and removes all previously created CSS classes.\n     */\n    clear : function()\n    {\n      // remove aliases\n      var aliasManager = qx.util.AliasManager.getInstance();\n\n      var theme = this.getTheme();\n      if (!aliasManager.isDisposed() && theme && theme.alias) {\n        for (var alias in theme.aliases) {\n          aliasManager.remove(alias, theme.aliases[alias]);\n        }\n      }\n\n      // remove old rules\n      this.removeAllCssClasses();\n\n      this._disposeMap(\"__dynamic\");\n      this.__dynamic = {};\n    },\n\n\n    /**\n     * Refreshes all decorator by clearing internal caches and re applying\n     * aliases.\n     */\n    refresh : function()\n    {\n      this.clear();\n\n      var aliasManager = qx.util.AliasManager.getInstance();\n      var theme = this.getTheme();\n      if (theme && theme.alias) {\n        for (var alias in theme.aliases) {\n          aliasManager.add(alias, theme.aliases[alias]);\n        }\n      }\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this.clear();\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This class performs the auto flush of all layout relevant queues.\n *\n * @require(qx.event.handler.UserAction)\n */\nqx.Class.define(\"qx.ui.core.queue.Manager\",\n{\n  statics :\n  {\n    /** @type {Boolean} Whether a flush was scheduled */\n    __scheduled : false,\n\n    /** @type {Boolean} true, if the flush should not be executed */\n    __canceled : false,\n\n    /** @type {Map} Internal data structure for the current job list */\n    __jobs : {},\n\n\n    /** @type {Integer} Counts how often a flush failed due to exceptions */\n    __retries : 0,\n\n    /** @type {Integer} Maximum number of flush retries */\n    MAX_RETRIES : 10,\n\n\n    /**\n     * Schedule a deferred flush of all queues.\n     *\n     * @param job {String} The job, which should be performed. Valid values are\n     *     <code>layout</code>, <code>decoration</code> and <code>element</code>.\n     */\n    scheduleFlush : function(job)\n    {\n      // Sometimes not executed in context, fix this\n      var self = qx.ui.core.queue.Manager;\n\n      self.__jobs[job] = true;\n\n      if (!self.__scheduled)\n      {\n        self.__canceled = false;\n\n        qx.bom.AnimationFrame.request(function() {\n          if (self.__canceled) {\n            self.__canceled = false;\n            return;\n          }\n          self.flush();\n        }, self);\n        self.__scheduled = true;\n      }\n    },\n\n\n    /**\n     * Flush all layout queues in the correct order. This function is called\n     * deferred if {@link #scheduleFlush} is called.\n     *\n     */\n    flush : function()\n    {\n      // Sometimes not executed in context, fix this\n      var self = qx.ui.core.queue.Manager;\n\n      // Stop when already executed\n      if (self.__inFlush) {\n        return;\n      }\n\n      self.__inFlush = true;\n\n      // Cancel timeout if called manually\n      self.__canceled = true;\n\n      var jobs = self.__jobs;\n\n      self.__executeAndRescheduleOnError(function()\n      {\n        // Process jobs\n        while (jobs.visibility || jobs.widget || jobs.appearance || jobs.layout || jobs.element)\n        {\n          // No else blocks here because each flush can influence the following flushes!\n          if (jobs.widget)\n          {\n            delete jobs.widget;\n\n            if (qx.core.Environment.get(\"qx.debug.ui.queue\")) {\n              try {\n                qx.ui.core.queue.Widget.flush();\n              } catch (e) {\n                qx.log.Logger.error(qx.ui.core.queue.Widget, \"Error in the 'Widget' queue:\" + e, e);\n              }\n            } else {\n              qx.ui.core.queue.Widget.flush();\n            }\n          }\n\n          if (jobs.visibility)\n          {\n            delete jobs.visibility;\n\n            if (qx.core.Environment.get(\"qx.debug.ui.queue\")) {\n              try {\n                qx.ui.core.queue.Visibility.flush();\n              } catch (e) {\n                qx.log.Logger.error(qx.ui.core.queue.Visibility, \"Error in the 'Visibility' queue:\" + e, e);\n              }\n            } else {\n              qx.ui.core.queue.Visibility.flush();\n            }\n          }\n\n          if (jobs.appearance)\n          {\n            delete jobs.appearance;\n\n            if (qx.core.Environment.get(\"qx.debug.ui.queue\")) {\n              try {\n                qx.ui.core.queue.Appearance.flush();\n              } catch (e) {\n                qx.log.Logger.error(qx.ui.core.queue.Appearance, \"Error in the 'Appearance' queue:\" + e, e);\n              }\n            } else {\n              qx.ui.core.queue.Appearance.flush();\n            }\n          }\n\n          // Defer layout as long as possible\n          if (jobs.widget || jobs.visibility || jobs.appearance) {\n            continue;\n          }\n\n          if (jobs.layout)\n          {\n            delete jobs.layout;\n\n            if (qx.core.Environment.get(\"qx.debug.ui.queue\")) {\n              try {\n                qx.ui.core.queue.Layout.flush();\n              } catch (e) {\n                qx.log.Logger.error(qx.ui.core.queue.Layout, \"Error in the 'Layout' queue:\" + e, e);\n              }\n            } else {\n              qx.ui.core.queue.Layout.flush();\n            }\n          }\n\n          // Defer element as long as possible\n          if (jobs.widget || jobs.visibility || jobs.appearance || jobs.layout) {\n            continue;\n          }\n\n          if (jobs.element)\n          {\n            delete jobs.element;\n            qx.html.Element.flush();\n          }\n        }\n      }, function() {\n        self.__scheduled = false;\n      });\n\n      self.__executeAndRescheduleOnError(function()\n      {\n        if (jobs.dispose)\n        {\n          delete jobs.dispose;\n\n          if (qx.core.Environment.get(\"qx.debug.ui.queue\")) {\n            try {\n              qx.ui.core.queue.Dispose.flush();\n            } catch (e) {\n              qx.log.Logger.error(\"Error in the 'Dispose' queue:\" + e);\n            }\n          } else {\n            qx.ui.core.queue.Dispose.flush();\n          }\n        }\n      }, function() {\n        // Clear flag\n        self.__inFlush = false;\n      });\n\n      // flush succeeded successfully. Reset retries\n      self.__retries = 0;\n    },\n\n\n    /**\n     * Executes the callback code. If the callback throws an error the current\n     * flush is cleaned up and rescheduled. The finally code is called after the\n     * callback even if it has thrown an exception.\n     *\n     * @signature function(callback, finallyCode)\n     * @param callback {Function} the callback function\n     * @param finallyCode {Function} function to be called in the finally block\n     */\n    __executeAndRescheduleOnError : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\" : function(callback, finallyCode)\n      {\n        callback();\n        finallyCode();\n      },\n\n\n      \"false\" : function(callback, finallyCode)\n      {\n        var self = qx.ui.core.queue.Manager;\n\n        try\n        {\n          callback();\n        }\n        catch (e)\n        {\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            qx.log.Logger.error(\n              \"Error while layout flush: \" + e + \"\\n\" +\n              \"Stack trace: \\n\" +\n              qx.dev.StackTrace.getStackTraceFromError(e)\n            );\n          }\n          self.__scheduled = false;\n          self.__inFlush = false;\n          self.__retries += 1;\n\n          if (self.__retries <= self.MAX_RETRIES) {\n            self.scheduleFlush();\n          } else {\n            throw new Error(\n              \"Fatal Error: Flush terminated \" + (self.__retries-1) + \" times in a row\" +\n              \" due to exceptions in user code. The application has to be reloaded!\"\n            );\n          }\n\n          throw e;\n        }\n        finally\n        {\n          finallyCode();\n        }\n      }\n    }),\n\n\n    /**\n     * Handler used on touch devices to prevent the queue from manipulating\n     * the dom during the touch - mouse - ... event sequence. Usually, iOS\n     * devices fire a click event 300ms after the touchend event. So using\n     * 500ms should be a good value to be on the save side. This is necessary\n     * due to the fact that the event chain is stopped if a manipulation in\n     * the DOM is done.\n     *\n     * @param e {qx.event.type.Data} The user action data event.\n     */\n    __onUserAction : function(e)\n    {\n      qx.ui.core.queue.Manager.flush();\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCT\n  *****************************************************************************\n  */\n\n  defer : function(statics)\n  {\n    // Replace default scheduler for HTML element with local one.\n    // This is quite a hack, but allows us to force other flushes\n    // before the HTML element flush.\n    qx.html.Element._scheduleFlush = statics.scheduleFlush;\n\n    // Register to user action\n    qx.event.Registration.addListener(window, \"useraction\",\n      qx.core.Environment.get(\"event.touch\") ?\n        statics.__onUserAction : statics.flush\n    );\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n/**\n * CSS/Style property manipulation module\n * @group (Core)\n */\nqx.Bootstrap.define(\"qx.module.Css\", {\n  statics: {\n    /**\n     * INTERNAL\n     *\n     * Returns the rendered height of the first element in the collection.\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the height of a <em>non displayed</em> element\n     * @return {Number} The first item's rendered height\n     */\n    _getHeight : function(force) {\n      var elem = this[0];\n\n      if (elem) {\n        if (qx.dom.Node.isElement(elem)) {\n\n          var elementHeight;\n          if (force) {\n            var stylesToSwap = {\n              display : \"block\",\n              position : \"absolute\",\n              visibility : \"hidden\"\n            };\n            elementHeight = qx.module.Css.__swap(elem, stylesToSwap, \"_getHeight\", this);\n          } else {\n            elementHeight = qx.bom.element.Dimension.getHeight(elem);\n          }\n\n          return elementHeight;\n        } else if (qx.dom.Node.isDocument(elem)) {\n          return qx.bom.Document.getHeight(qx.dom.Node.getWindow(elem));\n        } else if (qx.dom.Node.isWindow(elem)) {\n          return qx.bom.Viewport.getHeight(elem);\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * INTERNAL\n     *\n     * Returns the rendered width of the first element in the collection\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the width of a <em>non displayed</em> element\n     * @return {Number} The first item's rendered width\n     */\n    _getWidth : function(force) {\n      var elem = this[0];\n\n      if (elem) {\n        if (qx.dom.Node.isElement(elem)) {\n\n          var elementWidth;\n          if (force) {\n            var stylesToSwap = {\n              display : \"block\",\n              position : \"absolute\",\n              visibility : \"hidden\"\n            };\n            elementWidth = qx.module.Css.__swap(elem, stylesToSwap, \"_getWidth\", this);\n          } else {\n            elementWidth = qx.bom.element.Dimension.getWidth(elem);\n          }\n\n          return elementWidth;\n        } else if (qx.dom.Node.isDocument(elem)) {\n          return qx.bom.Document.getWidth(qx.dom.Node.getWindow(elem));\n        } else if (qx.dom.Node.isWindow(elem)) {\n          return qx.bom.Viewport.getWidth(elem);\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * INTERNAL\n     *\n     * Returns the content height of the first element in the collection.\n     * This is the maximum height the element can use, excluding borders,\n     * margins, padding or scroll bars.\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the content height of a <em>non displayed</em> element\n     * @return {Number} Computed content height\n     */\n    _getContentHeight : function(force)\n    {\n      var obj = this[0];\n      if (qx.dom.Node.isElement(obj)) {\n\n        var contentHeight;\n        if (force) {\n          var stylesToSwap = {\n            position: \"absolute\",\n            visibility: \"hidden\",\n            display: \"block\"\n          };\n          contentHeight = qx.module.Css.__swap(obj, stylesToSwap, \"_getContentHeight\", this);\n        } else {\n          contentHeight = qx.bom.element.Dimension.getContentHeight(obj);\n        }\n\n        return contentHeight;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * INTERNAL\n     *\n     * Returns the content width of the first element in the collection.\n     * This is the maximum width the element can use, excluding borders,\n     * margins, padding or scroll bars.\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the content width of a <em>non displayed</em> element\n     * @return {Number} Computed content width\n     */\n    _getContentWidth : function(force)\n    {\n      var obj = this[0];\n      if (qx.dom.Node.isElement(obj)) {\n\n        var contentWidth;\n        if (force) {\n          var stylesToSwap = {\n            position: \"absolute\",\n            visibility: \"hidden\",\n            display: \"block\"\n          };\n          contentWidth = qx.module.Css.__swap(obj, stylesToSwap, \"_getContentWidth\", this);\n        } else {\n          contentWidth = qx.bom.element.Dimension.getContentWidth(obj);\n        }\n\n        return contentWidth;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Maps HTML elements to their default \"display\" style values.\n     */\n    __displayDefaults : {},\n\n\n    /**\n     * Attempts tp determine the default \"display\" style value for\n     * elements with the given tag name.\n     *\n     * @param tagName {String} Tag name\n     * @param  doc {Document?} Document element. Default: The current document\n     * @return {String} The default \"display\" value, e.g. <code>inline</code>\n     * or <code>block</code>\n     */\n    __getDisplayDefault : function(tagName, doc)\n    {\n      var defaults = qx.module.Css.__displayDefaults;\n      if (!defaults[tagName]) {\n        var docu = doc || document;\n        var tempEl = qxWeb(docu.createElement(tagName)).appendTo(doc.body);\n        defaults[tagName] = tempEl.getStyle(\"display\");\n        tempEl.remove();\n      }\n\n      return defaults[tagName] || \"\";\n    },\n\n\n    /**\n     * Swaps the given styles of the element and execute the callback\n     * before the original values are restored.\n     *\n     * Finally returns the return value of the callback.\n     *\n     * @param element {Element} the DOM element to operate on\n     * @param styles {Map} the styles to swap\n     * @param methodName {String} the callback functions name\n     * @param context {Object} the context in which the callback should be called\n     * @return {Object} the return value of the callback\n     */\n    __swap : function(element, styles, methodName, context)\n    {\n      // get the current values\n      var currentValues = {};\n      for (var styleProperty in styles) {\n        currentValues[styleProperty] = element.style[styleProperty];\n        element.style[styleProperty] = styles[styleProperty];\n      }\n\n      var value = context[methodName]();\n\n      for (var styleProperty in currentValues) {\n        element.style[styleProperty] = currentValues[styleProperty];\n      }\n\n      return value;\n    },\n\n\n    /**\n     * Includes a Stylesheet file\n     *\n     * @attachStatic {qxWeb}\n     * @param uri {String} The stylesheet's URI\n     * @param doc {Document?} Document to modify\n     */\n    includeStylesheet : function(uri, doc) {\n      qx.bom.Stylesheet.includeFile(uri, doc);\n    }\n  },\n\n\n  members :\n  {\n    /**\n     * Returns the rendered height of the first element in the collection.\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the height of a <em>non displayed</em> element\n     * @return {Number} The first item's rendered height\n     */\n    getHeight : function(force) {\n      return this._getHeight(force);\n    },\n\n\n    /**\n     * Returns the rendered width of the first element in the collection\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the width of a <em>non displayed</em> element\n     * @return {Number} The first item's rendered width\n     */\n    getWidth : function(force) {\n      return this._getWidth(force);\n    },\n\n    /**\n     * Returns the content height of the first element in the collection.\n     * This is the maximum height the element can use, excluding borders,\n     * margins, padding or scroll bars.\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the content height of a <em>non displayed</em> element\n     * @return {Number} Computed content height\n     */\n    getContentHeight : function(force) {\n      return this._getContentHeight(force);\n    },\n\n    /**\n     * Returns the content width of the first element in the collection.\n     * This is the maximum width the element can use, excluding borders,\n     * margins, padding or scroll bars.\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the content width of a <em>non displayed</em> element\n     * @return {Number} Computed content width\n     */\n    getContentWidth : function(force) {\n      return this._getContentWidth(force);\n    },\n\n    /**\n     * Shows any elements with \"display: none\" in the collection. If an element\n     * was hidden by using the {@link #hide} method, its previous\n     * \"display\" style value will be re-applied. Otherwise, the\n     * default \"display\" value for the element type will be applied.\n     *\n     * @attach {qxWeb}\n     * @return {qxWeb} The collection for chaining\n     */\n    show : function() {\n      this._forEachElementWrapped(function(item) {\n        var currentVal = item.getStyle(\"display\");\n        var prevVal = item[0].$$qPrevDisp;\n        var newVal;\n        if (currentVal == \"none\") {\n          if (prevVal && prevVal != \"none\") {\n            newVal = prevVal;\n          }\n          else {\n            var doc = qxWeb.getDocument(item[0]);\n            newVal = qx.module.Css.__getDisplayDefault(item[0].tagName, doc);\n          }\n          item.setStyle(\"display\", newVal);\n          item[0].$$qPrevDisp = \"none\";\n        }\n      });\n\n      return this;\n    },\n\n\n    /**\n     * Hides all elements in the collection by setting their \"display\"\n     * style to \"none\". The previous value is stored so it can be re-applied\n     * when {@link #show} is called.\n     *\n     * @attach {qxWeb}\n     * @return {qxWeb} The collection for chaining\n     */\n    hide : function() {\n      this._forEachElementWrapped(function(item) {\n        var prevStyle = item.getStyle(\"display\");\n        if (prevStyle !== \"none\") {\n          item[0].$$qPrevDisp = prevStyle;\n          item.setStyle(\"display\", \"none\");\n        }\n      });\n\n      return this;\n    },\n\n\n    /**\n     * Returns the distance between the first element in the collection and its\n     * offset parent\n     *\n     * @attach {qxWeb}\n     * @return {Map} a map with the keys <code>left</code> and <code>top</code>\n     * containing the distance between the elements\n     */\n    getPosition : function()\n    {\n      var obj = this[0];\n      if (qx.dom.Node.isElement(obj)) {\n        return qx.bom.element.Location.getPosition(obj);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Returns the computed location of the given element in the context of the\n     * document dimensions.\n     *\n     * Supported modes:\n     *\n     * * <code>margin</code>: Calculate from the margin box of the element (bigger than the visual appearance: including margins of given element)\n     * * <code>box</code>: Calculates the offset box of the element (default, uses the same size as visible)\n     * * <code>border</code>: Calculate the border box (useful to align to border edges of two elements).\n     * * <code>scroll</code>: Calculate the scroll box (relevant for absolute positioned content).\n     * * <code>padding</code>: Calculate the padding box (relevant for static/relative positioned content).\n     *\n     * @attach {qxWeb}\n     * @param mode {String?box} A supported option. See comment above.\n     * @return {Map} A map with the keys <code>left</code>, <code>top</code>,\n     * <code>right</code> and <code>bottom</code> which contains the distance\n     * of the element relative to the document.\n     */\n    getOffset : function(mode) {\n      var elem = this[0];\n\n      if (elem && qx.dom.Node.isElement(elem)) {\n        return qx.bom.element.Location.get(elem, mode);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Modifies the given style property on all elements in the collection.\n     *\n     * @attach {qxWeb}\n     * @param name {String} Name of the style property to modify\n     * @param value {var} The value to apply\n     * @return {qxWeb} The collection for chaining\n     */\n    setStyle : function(name, value) {\n      if (/\\w-\\w/.test(name)) {\n        name = qx.lang.String.camelCase(name);\n      }\n      this._forEachElement(function(item) {\n        qx.bom.element.Style.set(item, name, value);\n      });\n      return this;\n    },\n\n\n    /**\n     * Returns the value of the given style property for the first item in the\n     * collection.\n     *\n     * @attach {qxWeb}\n     * @param name {String} Style property name\n     * @return {var} Style property value\n     */\n    getStyle : function(name) {\n      if (this[0] && qx.dom.Node.isElement(this[0])) {\n        if (/\\w-\\w/.test(name)) {\n          name = qx.lang.String.camelCase(name);\n        }\n        return qx.bom.element.Style.get(this[0], name);\n      }\n      return null;\n    },\n\n\n    /**\n     * Sets multiple style properties for each item in the collection.\n     *\n     * @attach {qxWeb}\n     * @param styles {Map} A map of style property name/value pairs\n     * @return {qxWeb} The collection for chaining\n     */\n    setStyles : function(styles) {\n      for (var name in styles) {\n        this.setStyle(name, styles[name]);\n      }\n      return this;\n    },\n\n\n    /**\n     * Returns the values of multiple style properties for each item in the\n     * collection\n     *\n     * @attach {qxWeb}\n     * @param names {String[]} List of style property names\n     * @return {Map} Map of style property name/value pairs\n     */\n    getStyles : function(names) {\n      var styles = {};\n      for (var i=0; i < names.length; i++) {\n        styles[names[i]] = this.getStyle(names[i]);\n      }\n      return styles;\n    },\n\n\n    /**\n     * Adds a class name to each element in the collection\n     *\n     * @attach {qxWeb}\n     * @param name {String} Class name\n     * @return {qxWeb} The collection for chaining\n     */\n    addClass : function(name) {\n      this._forEachElement(function(item) {\n        qx.bom.element.Class.add(item, name);\n      });\n      return this;\n    },\n\n\n    /**\n     * Adds multiple class names to each element in the collection\n     *\n     * @attach {qxWeb}\n     * @param names {String[]} List of class names to add\n     * @return {qxWeb} The collection for chaining\n     */\n    addClasses : function(names) {\n      this._forEachElement(function(item) {\n        qx.bom.element.Class.addClasses(item, names);\n      });\n      return this;\n    },\n\n\n    /**\n     * Removes a class name from each element in the collection\n     *\n     * @attach {qxWeb}\n     * @param name {String} The class name to remove\n     * @return {qxWeb} The collection for chaining\n     */\n    removeClass : function(name) {\n      this._forEachElement(function(item) {\n        qx.bom.element.Class.remove(item, name);\n      });\n      return this;\n    },\n\n\n    /**\n     * Removes multiple class names from each element in the collection.\n     * Use {@link qx.module.Attribute#removeAttribute} to remove all classes.\n     *\n     * @attach {qxWeb}\n     * @param names {String[]} List of class names to remove\n     * @return {qxWeb} The collection for chaining\n     */\n    removeClasses : function(names) {\n      this._forEachElement(function(item) {\n        qx.bom.element.Class.removeClasses(item, names);\n      });\n      return this;\n    },\n\n\n    /**\n     * Checks if the first element in the collection has the given class name\n     *\n     * @attach {qxWeb}\n     * @param name {String} Class name to check for\n     * @return {Boolean} <code>true</code> if the first item has the given class name\n     */\n    hasClass : function(name) {\n      if (!this[0] || !qx.dom.Node.isElement(this[0])) {\n        return false;\n      }\n      return qx.bom.element.Class.has(this[0], name);\n    },\n\n\n    /**\n     * Returns the class name of the first element in the collection\n     *\n     * @attach {qxWeb}\n     * @return {String} Class name\n     */\n    getClass : function() {\n      if (!this[0] || !qx.dom.Node.isElement(this[0])) {\n        return \"\";\n      }\n      return qx.bom.element.Class.get(this[0]);\n    },\n\n\n    /**\n     * Toggles the given class name on each item in the collection\n     *\n     * @attach {qxWeb}\n     * @param name {String} Class name\n     * @return {qxWeb} The collection for chaining\n     */\n    toggleClass : function(name) {\n      var bCls = qx.bom.element.Class;\n      this._forEachElement(function(item) {\n        bCls.has(item, name) ?\n          bCls.remove(item, name) :\n          bCls.add(item, name);\n      });\n      return this;\n    },\n\n\n    /**\n     * Toggles the given list of class names on each item in the collection\n     *\n     * @attach {qxWeb}\n     * @param names {String[]} Class names\n     * @return {qxWeb} The collection for chaining\n     */\n    toggleClasses : function(names) {\n      for (var i=0,l=names.length; i<l; i++) {\n        this.toggleClass(names[i]);\n      }\n      return this;\n    },\n\n\n    /**\n     * Replaces a class name on each element in the collection\n     *\n     * @attach {qxWeb}\n     * @param oldName {String} Class name to remove\n     * @param newName {String} Class name to add\n     * @return {qxWeb} The collection for chaining\n     */\n    replaceClass : function(oldName, newName) {\n      this._forEachElement(function(item) {\n        qx.bom.element.Class.replace(item, oldName, newName);\n      });\n      return this;\n    }\n  },\n\n\n  defer : function(statics) {\n    qxWeb.$attachAll(this);\n    // manually attach private method which is ignored by attachAll\n    qxWeb.$attach({\n      \"_getWidth\" : statics._getWidth,\n      \"_getHeight\" : statics._getHeight,\n      \"_getContentHeight\" : statics._getContentHeight,\n      \"_getContentWidth\" : statics._getContentWidth\n    });\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n   ======================================================================\n\n   This class uses ideas and code snippets presented at\n   http://webreflection.blogspot.com/2008/05/habemus-array-unlocked-length-in-ie8.html\n   http://webreflection.blogspot.com/2008/05/stack-and-arrayobject-how-to-create.html\n\n   Author:\n     Andrea Giammarchi\n\n   License:\n     MIT: http://www.opensource.org/licenses/mit-license.php\n\n   ======================================================================\n\n   This class uses documentation of the native Array methods from the MDC\n   documentation of Mozilla.\n\n   License:\n     CC Attribution-Sharealike License:\n     http://creativecommons.org/licenses/by-sa/2.5/\n\n************************************************************************ */\n\n/**\n * This class is the common superclass for most array classes in\n * qooxdoo. It supports all of the shiny 1.6 JavaScript array features\n * like <code>forEach</code> and <code>map</code>.\n *\n * This class may be instantiated instead of the native Array if\n * one wants to work with a feature-unified Array instead of the native\n * one. This class uses native features whereever possible but fills\n * all missing implementations with custom ones.\n *\n * Through the ability to extend from this class one could add even\n * more utility features on top of it.\n *\n * @require(qx.bom.client.Engine)\n * @require(qx.lang.normalize.Array)\n */\nqx.Bootstrap.define(\"qx.type.BaseArray\",\n{\n  extend : Array,\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Creates a new Array with the given length or the listed elements.\n   *\n   * <pre class=\"javascript\">\n   * var arr1 = new qx.type.BaseArray(arrayLength);\n   * var arr2 = new qx.type.BaseArray(item0, item1, ..., itemN);\n   * </pre>\n   *\n   * * <code>arrayLength</code>: The initial length of the array. You can access\n   * this value using the length property. If the value specified is not a\n   * number, an array of length 1 is created, with the first element having\n   * the specified value. The maximum length allowed for an\n   * array is 2^32-1, i.e. 4,294,967,295.\n   * * <code>itemN</code>:  A value for the element in that position in the\n   * array. When this form is used, the array is initialized with the specified\n   * values as its elements, and the array's length property is set to the\n   * number of arguments.\n   *\n   * @param length_or_items {Integer|var?null} The initial length of the array\n   *        OR an argument list of values.\n   */\n  construct : function(length_or_items) {},\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /**\n     * Converts a base array to a native Array\n     *\n     * @signature function()\n     * @return {Array} The native array\n     */\n    toArray : null,\n\n    /**\n     * Returns the current number of items stored in the Array\n     *\n     * @signature function()\n     * @return {Integer} number of items\n     */\n    valueOf : null,\n\n    /**\n     * Removes the last element from an array and returns that element.\n     *\n     * This method modifies the array.\n     *\n     * @signature function()\n     * @return {var} The last element of the array.\n     */\n    pop : null,\n\n    /**\n     * Adds one or more elements to the end of an array and returns the new length of the array.\n     *\n     * This method modifies the array.\n     *\n     * @signature function(varargs)\n     * @param varargs {var} The elements to add to the end of the array.\n     * @return {Integer} The new array's length\n     */\n    push : null,\n\n    /**\n     * Reverses the order of the elements of an array -- the first becomes the last, and the last becomes the first.\n     *\n     * This method modifies the array.\n     *\n     * @signature function()\n     * @return {Array} Returns the modified array (works in place)\n     */\n    reverse : null,\n\n    /**\n     * Removes the first element from an array and returns that element.\n     *\n     * This method modifies the array.\n     *\n     * @signature function()\n     * @return {var} The first element of the array.\n     */\n    shift : null,\n\n    /**\n     * Sorts the elements of an array.\n     *\n     * This method modifies the array.\n     *\n     * @signature function(compareFunction)\n     * @param compareFunction {Function?null} Specifies a function that defines the sort order. If omitted,\n     *   the array is sorted lexicographically (in dictionary order) according to the string conversion of each element.\n     * @return {Array} Returns the modified array (works in place)\n     */\n    sort : null,\n\n    /**\n     * Adds and/or removes elements from an array.\n     *\n     * @signature function(index, howMany, varargs)\n     * @param index {Integer} Index at which to start changing the array. If negative, will begin\n     *   that many elements from the end.\n     * @param howMany {Integer} An integer indicating the number of old array elements to remove.\n     *   If <code>howMany</code> is 0, no elements are removed. In this case, you should specify\n     *   at least one new element.\n     * @param varargs {var?null} The elements to add to the array. If you don't specify any elements,\n     *   splice simply removes elements from the array.\n     * @return {qx.type.BaseArray} New array with the removed elements.\n     */\n    splice : null,\n\n    /**\n     * Adds one or more elements to the front of an array and returns the new length of the array.\n     *\n     * This method modifies the array.\n     *\n     * @signature function(varargs)\n     * @param varargs {var} The elements to add to the front of the array.\n     * @return {Integer} The new array's length\n     */\n    unshift : null,\n\n    /**\n     * Returns a new array comprised of this array joined with other array(s) and/or value(s).\n     *\n     * This method does not modify the array and returns a modified copy of the original.\n     *\n     * @signature function(varargs)\n     * @param varargs {Array|var} Arrays and/or values to concatenate to the resulting array.\n     * @return {qx.type.BaseArray} New array built of the given arrays or values.\n     */\n    concat : null,\n\n    /**\n     * Joins all elements of an array into a string.\n     *\n     * @signature function(separator)\n     * @param separator {String} Specifies a string to separate each element of the array. The separator is\n     *   converted to a string if necessary. If omitted, the array elements are separated with a comma.\n     * @return {String} The stringified values of all elements divided by the given separator.\n     */\n    join : null,\n\n    /**\n     * Extracts a section of an array and returns a new array.\n     *\n     * @signature function(begin, end)\n     * @param begin {Integer} Zero-based index at which to begin extraction. As a negative index, start indicates\n     *   an offset from the end of the sequence. slice(-2) extracts the second-to-last element and the last element\n     *   in the sequence.\n     * @param end {Integer?length} Zero-based index at which to end extraction. slice extracts up to but not including end.\n     *   <code>slice(1,4)</code> extracts the second element through the fourth element (elements indexed 1, 2, and 3).\n     *   As a negative index, end indicates an offset from the end of the sequence. slice(2,-1) extracts the third element through the second-to-last element in the sequence.\n     *   If end is omitted, slice extracts to the end of the sequence.\n     * @return {qx.type.BaseArray} An new array which contains a copy of the given region.\n     */\n    slice : null,\n\n    /**\n     * Returns a string representing the array and its elements. Overrides the Object.prototype.toString method.\n     *\n     * @signature function()\n     * @return {String} The string representation of the array.\n     */\n    toString : null,\n\n    /**\n     * Returns the first (least) index of an element within the array equal to the specified value, or -1 if none is found.\n     *\n     * @signature function(searchElement, fromIndex)\n     * @param searchElement {var} Element to locate in the array.\n     * @param fromIndex {Integer?0} The index at which to begin the search. Defaults to 0, i.e. the\n     *   whole array will be searched. If the index is greater than or equal to the length of the\n     *   array, -1 is returned, i.e. the array will not be searched. If negative, it is taken as\n     *   the offset from the end of the array. Note that even when the index is negative, the array\n     *   is still searched from front to back. If the calculated index is less than 0, the whole\n     *   array will be searched.\n     * @return {Integer} The index of the given element\n     */\n    indexOf : null,\n\n    /**\n     * Returns the last (greatest) index of an element within the array equal to the specified value, or -1 if none is found.\n     *\n     * @signature function(searchElement, fromIndex)\n     * @param searchElement {var} Element to locate in the array.\n     * @param fromIndex {Integer?length} The index at which to start searching backwards. Defaults to\n     *   the array's length, i.e. the whole array will be searched. If the index is greater than\n     *   or equal to the length of the array, the whole array will be searched. If negative, it\n     *   is taken as the offset from the end of the array. Note that even when the index is\n     *   negative, the array is still searched from back to front. If the calculated index is\n     *   less than 0, -1 is returned, i.e. the array will not be searched.\n     * @return {Integer} The index of the given element\n     */\n    lastIndexOf : null,\n\n    /**\n     * Executes a provided function once per array element.\n     *\n     * <code>forEach</code> executes the provided function (<code>callback</code>) once for each\n     * element present in the array.  <code>callback</code> is invoked only for indexes of the array\n     * which have assigned values; it is not invoked for indexes which have been deleted or which\n     * have never been assigned values.\n     *\n     * <code>callback</code> is invoked with three arguments: the value of the element, the index\n     * of the element, and the Array object being traversed.\n     *\n     * If a <code>obj</code> parameter is provided to <code>forEach</code>, it will be used\n     * as the <code>this</code> for each invocation of the <code>callback</code>.  If it is not\n     * provided, or is <code>null</code>, the global object associated with <code>callback</code>\n     * is used instead.\n     *\n     * <code>forEach</code> does not mutate the array on which it is called.\n     *\n     * The range of elements processed by <code>forEach</code> is set before the first invocation of\n     * <code>callback</code>.  Elements which are appended to the array after the call to\n     * <code>forEach</code> begins will not be visited by <code>callback</code>. If existing elements\n     * of the array are changed, or deleted, their value as passed to <code>callback</code> will be\n     * the value at the time <code>forEach</code> visits them; elements that are deleted are not visited.\n     *\n     * @signature function(callback, obj)\n     * @param callback {Function} Function to execute for each element.\n     * @param obj {Object} Object to use as this when executing callback.\n     */\n    forEach : null,\n\n    /**\n     * Creates a new array with all elements that pass the test implemented by the provided\n     * function.\n     *\n     * <code>filter</code> calls a provided <code>callback</code> function once for each\n     * element in an array, and constructs a new array of all the values for which\n     * <code>callback</code> returns a true value.  <code>callback</code> is invoked only\n     * for indexes of the array which have assigned values; it is not invoked for indexes\n     * which have been deleted or which have never been assigned values.  Array elements which\n     * do not pass the <code>callback</code> test are simply skipped, and are not included\n     * in the new array.\n     *\n     * <code>callback</code> is invoked with three arguments: the value of the element, the\n     * index of the element, and the Array object being traversed.\n     *\n     * If a <code>obj</code> parameter is provided to <code>filter</code>, it will\n     * be used as the <code>this</code> for each invocation of the <code>callback</code>.\n     * If it is not provided, or is <code>null</code>, the global object associated with\n     * <code>callback</code> is used instead.\n     *\n     * <code>filter</code> does not mutate the array on which it is called. The range of\n     * elements processed by <code>filter</code> is set before the first invocation of\n     * <code>callback</code>. Elements which are appended to the array after the call to\n     * <code>filter</code> begins will not be visited by <code>callback</code>. If existing\n     * elements of the array are changed, or deleted, their value as passed to <code>callback</code>\n     * will be the value at the time <code>filter</code> visits them; elements that are deleted\n     * are not visited.\n     *\n     * @signature function(callback, obj)\n     * @param callback {Function} Function to test each element of the array.\n     * @param obj {Object} Object to use as <code>this</code> when executing <code>callback</code>.\n     * @return {qx.type.BaseArray} The newly created array with all matching elements\n     */\n    filter : null,\n\n    /**\n     * Creates a new array with the results of calling a provided function on every element in this array.\n     *\n     * <code>map</code> calls a provided <code>callback</code> function once for each element in an array,\n     * in order, and constructs a new array from the results.  <code>callback</code> is invoked only for\n     * indexes of the array which have assigned values; it is not invoked for indexes which have been\n     * deleted or which have never been assigned values.\n     *\n     * <code>callback</code> is invoked with three arguments: the value of the element, the index of the\n     * element, and the Array object being traversed.\n     *\n     * If a <code>obj</code> parameter is provided to <code>map</code>, it will be used as the\n     * <code>this</code> for each invocation of the <code>callback</code>. If it is not provided, or is\n     * <code>null</code>, the global object associated with <code>callback</code> is used instead.\n     *\n     * <code>map</code> does not mutate the array on which it is called.\n     *\n     * The range of elements processed by <code>map</code> is set before the first invocation of\n     * <code>callback</code>. Elements which are appended to the array after the call to <code>map</code>\n     * begins will not be visited by <code>callback</code>.  If existing elements of the array are changed,\n     * or deleted, their value as passed to <code>callback</code> will be the value at the time\n     * <code>map</code> visits them; elements that are deleted are not visited.\n     *\n     * @signature function(callback, obj)\n     * @param callback {Function} Function produce an element of the new Array from an element of the current one.\n     * @param obj {Object} Object to use as <code>this</code> when executing <code>callback</code>.\n     * @return {qx.type.BaseArray} A new array which contains the return values of every item executed through the given function\n     */\n    map : null,\n\n    /**\n     * Tests whether some element in the array passes the test implemented by the provided function.\n     *\n     * <code>some</code> executes the <code>callback</code> function once for each element present in\n     * the array until it finds one where <code>callback</code> returns a true value. If such an element\n     * is found, <code>some</code> immediately returns <code>true</code>. Otherwise, <code>some</code>\n     * returns <code>false</code>. <code>callback</code> is invoked only for indexes of the array which\n     * have assigned values; it is not invoked for indexes which have been deleted or which have never\n     * been assigned values.\n     *\n     * <code>callback</code> is invoked with three arguments: the value of the element, the index of the\n     * element, and the Array object being traversed.\n     *\n     * If a <code>obj</code> parameter is provided to <code>some</code>, it will be used as the\n     * <code>this</code> for each invocation of the <code>callback</code>. If it is not provided, or is\n     * <code>null</code>, the global object associated with <code>callback</code> is used instead.\n     *\n     * <code>some</code> does not mutate the array on which it is called.\n     *\n     * The range of elements processed by <code>some</code> is set before the first invocation of\n     * <code>callback</code>.  Elements that are appended to the array after the call to <code>some</code>\n     * begins will not be visited by <code>callback</code>. If an existing, unvisited element of the array\n     * is changed by <code>callback</code>, its value passed to the visiting <code>callback</code> will\n     * be the value at the time that <code>some</code> visits that element's index; elements that are\n     * deleted are not visited.\n     *\n     * @signature function(callback, obj)\n     * @param callback {Function} Function to test for each element.\n     * @param obj {Object} Object to use as <code>this</code> when executing <code>callback</code>.\n     * @return {Boolean} Whether at least one elements passed the test\n     */\n    some : null,\n\n    /**\n     * Tests whether all elements in the array pass the test implemented by the provided function.\n     *\n     * <code>every</code> executes the provided <code>callback</code> function once for each element\n     * present in the array until it finds one where <code>callback</code> returns a false value. If\n     * such an element is found, the <code>every</code> method immediately returns <code>false</code>.\n     * Otherwise, if <code>callback</code> returned a true value for all elements, <code>every</code>\n     * will return <code>true</code>.  <code>callback</code> is invoked only for indexes of the array\n     * which have assigned values; it is not invoked for indexes which have been deleted or which have\n     * never been assigned values.\n     *\n     * <code>callback</code> is invoked with three arguments: the value of the element, the index of\n     * the element, and the Array object being traversed.\n     *\n     * If a <code>obj</code> parameter is provided to <code>every</code>, it will be used as\n     * the <code>this</code> for each invocation of the <code>callback</code>. If it is not provided,\n     * or is <code>null</code>, the global object associated with <code>callback</code> is used instead.\n     *\n     * <code>every</code> does not mutate the array on which it is called. The range of elements processed\n     * by <code>every</code> is set before the first invocation of <code>callback</code>. Elements which\n     * are appended to the array after the call to <code>every</code> begins will not be visited by\n     * <code>callback</code>.  If existing elements of the array are changed, their value as passed\n     * to <code>callback</code> will be the value at the time <code>every</code> visits them; elements\n     * that are deleted are not visited.\n     *\n     * @signature function(callback, obj)\n     * @param callback {Function} Function to test for each element.\n     * @param obj {Object} Object to use as <code>this</code> when executing <code>callback</code>.\n     * @return {Boolean} Whether all elements passed the test\n     */\n    every : null\n  }\n});\n\n(function() {\n\nfunction createStackConstructor(stack)\n{\n  // In IE don't inherit from Array but use an empty object as prototype\n  // and copy the methods from Array\n  if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n  {\n    Stack.prototype = {\n      length : 0,\n      $$isArray : true\n    };\n\n    var args = \"pop.push.reverse.shift.sort.splice.unshift.join.slice\".split(\".\");\n\n    for (var length = args.length; length;) {\n      Stack.prototype[args[--length]] = Array.prototype[args[length]];\n    }\n  };\n\n  // Remember Array's slice method\n  var slice = Array.prototype.slice;\n\n  // Fix \"concat\" method\n  Stack.prototype.concat = function()\n  {\n    var constructor = this.slice(0);\n\n    for (var i=0, length=arguments.length; i<length; i++)\n    {\n      var copy;\n\n      if (arguments[i] instanceof Stack) {\n        copy = slice.call(arguments[i], 0);\n      } else if (arguments[i] instanceof Array) {\n        copy = arguments[i];\n      } else {\n        copy = [arguments[i]];\n      }\n\n      constructor.push.apply(constructor, copy);\n    }\n\n    return constructor;\n  };\n\n  // Fix \"toString\" method\n  Stack.prototype.toString = function(){\n    return slice.call(this, 0).toString();\n  };\n\n  // Fix \"toLocaleString\"\n  Stack.prototype.toLocaleString = function() {\n    return slice.call(this, 0).toLocaleString();\n  };\n\n  // Fix constructor\n  Stack.prototype.constructor = Stack;\n\n\n  // Add JS 1.6 Array features\n  Stack.prototype.indexOf = Array.prototype.indexOf;\n  Stack.prototype.lastIndexOf = Array.prototype.lastIndexOf;\n  Stack.prototype.forEach = Array.prototype.forEach;\n  Stack.prototype.some = Array.prototype.some;\n  Stack.prototype.every = Array.prototype.every;\n\n  var filter = Array.prototype.filter;\n  var map = Array.prototype.map;\n\n\n  // Fix methods which generates a new instance\n  // to return an instance of the same class\n  Stack.prototype.filter = function()\n  {\n    var ret = new this.constructor;\n    ret.push.apply(ret, filter.apply(this, arguments));\n    return ret;\n  };\n\n  Stack.prototype.map = function()\n  {\n    var ret = new this.constructor;\n    ret.push.apply(ret, map.apply(this, arguments));\n    return ret;\n  };\n\n  Stack.prototype.slice = function()\n  {\n    var ret = new this.constructor;\n    ret.push.apply(ret, Array.prototype.slice.apply(this, arguments));\n    return ret;\n  };\n\n  Stack.prototype.splice = function()\n  {\n    var ret = new this.constructor;\n    ret.push.apply(ret, Array.prototype.splice.apply(this, arguments));\n    return ret;\n  };\n\n  // Add new \"toArray\" method for convert a base array to a native Array\n  Stack.prototype.toArray = function() {\n    return Array.prototype.slice.call(this, 0);\n  };\n\n  // Add valueOf() to return the length\n  Stack.prototype.valueOf = function(){\n    return this.length;\n  };\n\n  // Return final class\n  return Stack;\n}\n\n\nfunction Stack(length)\n{\n  if(arguments.length === 1 && typeof length === \"number\") {\n    this.length = -1 < length && length === length >> .5 ? length : this.push(length);\n  } else if(arguments.length) {\n    this.push.apply(this, arguments);\n  }\n};\n\nfunction PseudoArray(){};\nPseudoArray.prototype = [];\nStack.prototype = new PseudoArray;\nStack.prototype.length = 0;\n\nqx.type.BaseArray = createStackConstructor(Stack);\n\n})();\n"
  ]
}