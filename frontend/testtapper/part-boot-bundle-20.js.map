{
  "version": 3,
  "sources": [
    "../transpiled/qx/ui/form/validation/Manager.js",
    "../transpiled/qx/ui/form/Resetter.js",
    "../transpiled/qx/data/controller/Form.js",
    "../transpiled/qx/util/format/IFormat.js",
    "../transpiled/qx/util/format/DateFormat.js",
    "../transpiled/qx/data/controller/MSelection.js",
    "../transpiled/qx/data/controller/List.js",
    "../transpiled/qx/ui/form/MForm.js",
    "../transpiled/qx/ui/form/IDateForm.js",
    "../transpiled/qx/ui/form/DateField.js",
    "../transpiled/qx/ui/form/AbstractField.js",
    "../transpiled/qx/ui/form/TextField.js",
    "../transpiled/qx/ui/form/INumberForm.js",
    "../transpiled/qx/ui/form/IRange.js",
    "../transpiled/qx/ui/form/Spinner.js",
    "../transpiled/qx/ui/form/PasswordField.js",
    "../transpiled/qx/ui/form/TextArea.js",
    "../transpiled/qx/ui/form/IBooleanForm.js",
    "../transpiled/qx/ui/form/IRadioItem.js",
    "../transpiled/qx/ui/form/ToggleButton.js",
    "../transpiled/qx/ui/form/CheckBox.js",
    "../transpiled/qx/ui/form/AbstractSelectBox.js",
    "../transpiled/qx/ui/core/ISingleSelection.js",
    "../transpiled/qx/ui/form/IModelSelection.js",
    "../transpiled/qx/ui/core/MSingleSelectionHandling.js",
    "../transpiled/qx/ui/form/MModelSelection.js",
    "../transpiled/qx/ui/form/SelectBox.js",
    "../transpiled/qx/ui/form/ComboBox.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "build-output/testtapper/part-boot-bundle-20.js.map",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * This validation manager is responsible for validation of forms.\n *\n * @ignore(qx.ui.tooltip)\n * @ignore(qx.ui.tooltip.Manager.*)\n */\nqx.Class.define(\"qx.ui.form.validation.Manager\",\n{\n  extend : qx.core.Object,\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    // storage for all form items\n    this.__formItems = [];\n    // storage for all results of async validation calls\n    this.__asyncResults = {};\n    // set the default required field message\n    this.setRequiredFieldMessage(qx.locale.Manager.tr(\"This field is required\"));\n  },\n\n\n  events :\n  {\n    /**\n     * Change event for the valid state.\n     */\n    \"changeValid\" : \"qx.event.type.Data\",\n\n    /**\n     * Signals that the validation is done. This is not needed on synchronous\n     * validation (validation is done right after the call) but very important\n     * in the case an asynchronous validator will be used.\n     */\n    \"complete\" : \"qx.event.type.Event\"\n  },\n\n\n  properties :\n  {\n    /**\n     * The validator of the form itself. You can set a function (for\n     * synchronous validation) or a {@link qx.ui.form.validation.AsyncValidator}.\n     * In both cases, the function can have all added form items as first\n     * argument and the manager as a second argument. The manager should be used\n     * to set the {@link #invalidMessage}.\n     *\n     * Keep in mind that the validator is optional if you don't need the\n     * validation in the context of the whole form.\n     * @type {Function | AsyncValidator}\n     */\n    validator :\n    {\n      check : \"value instanceof Function || qx.Class.isSubClassOf(value.constructor, qx.ui.form.validation.AsyncValidator)\",\n      init : null,\n      nullable : true\n    },\n\n    /**\n     * The invalid message should store the message why the form validation\n     * failed. It will be added to the array returned by\n     * {@link #getInvalidMessages}.\n     */\n    invalidMessage :\n    {\n      check : \"String\",\n      init: \"\"\n    },\n\n\n    /**\n     * This message will be shown if a required field is empty and no individual\n     * {@link qx.ui.form.MForm#requiredInvalidMessage} is given.\n     */\n    requiredFieldMessage :\n    {\n      check : \"String\",\n      init : \"\"\n    },\n\n\n    /**\n     * The context for the form validation.\n     */\n    context :\n    {\n      nullable : true\n    }\n  },\n\n\n  members :\n  {\n    __formItems : null,\n    __valid : null,\n    __asyncResults : null,\n    __syncValid : null,\n\n\n    /**\n     * Add a form item to the validation manager.\n     *\n     * The form item has to implement at least two interfaces:\n     * <ol>\n     *   <li>The {@link qx.ui.form.IForm} Interface</li>\n     *   <li>One of the following interfaces:\n     *     <ul>\n     *       <li>{@link qx.ui.form.IBooleanForm}</li>\n     *       <li>{@link qx.ui.form.IColorForm}</li>\n     *       <li>{@link qx.ui.form.IDateForm}</li>\n     *       <li>{@link qx.ui.form.INumberForm}</li>\n     *       <li>{@link qx.ui.form.IStringForm}</li>\n     *     </ul>\n     *   </li>\n     * </ol>\n     * The validator can be a synchronous or asynchronous validator. In\n     * both cases the validator can either returns a boolean or fire an\n     * {@link qx.core.ValidationError}. For synchronous validation, a plain\n     * JavaScript function should be used. For all asynchronous validations,\n     * a {@link qx.ui.form.validation.AsyncValidator} is needed to wrap the\n     * plain function.\n     *\n     * @param formItem {qx.ui.core.Widget} The form item to add.\n     * @param validator {Function | qx.ui.form.validation.AsyncValidator}\n     *   The validator.\n     * @param context {var?null} The context of the validator.\n     */\n    add: function(formItem, validator, context) {\n      // check for the form API\n      if (!this.__supportsInvalid(formItem)) {\n        throw new Error(\"Added widget not supported.\");\n      }\n      // check for the data type\n      if (this.__supportsSingleSelection(formItem) && !formItem.getValue) {\n        // check for a validator\n        if (validator != null) {\n          throw new Error(\"Widgets supporting selection can only be validated \" +\n          \"in the form validator\");\n        }\n      }\n      var dataEntry =\n      {\n        item : formItem,\n        validator : validator,\n        valid : null,\n        context : context\n      };\n      this.__formItems.push(dataEntry);\n    },\n\n\n    /**\n     * Remove a form item from the validation manager.\n     *\n     * @param formItem {qx.ui.core.Widget} The form item to remove.\n     * @return {qx.ui.core.Widget?null} The removed form item or\n     *  <code>null</code> if the item could not be found.\n     */\n    remove : function(formItem)\n    {\n      var items = this.__formItems;\n\n      for (var i = 0, len = items.length; i < len; i++)\n      {\n        if (formItem === items[i].item)\n        {\n          items.splice(i, 1);\n          return formItem;\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Returns registered form items from the validation manager.\n     *\n     * @return {Array} The form items which will be validated.\n     */\n    getItems : function()\n    {\n      var items = [];\n      for (var i=0; i < this.__formItems.length; i++) {\n        items.push(this.__formItems[i].item);\n      };\n      return items;\n    },\n\n\n    /**\n     * Invokes the validation. If only synchronous validators are set, the\n     * result of the whole validation is available at the end of the method\n     * and can be returned. If an asynchronous validator is set, the result\n     * is still unknown at the end of this method so nothing will be returned.\n     * In both cases, a {@link #complete} event will be fired if the validation\n     * has ended. The result of the validation can then be accessed with the\n     * {@link #getValid} method.\n     *\n     * @return {Boolean|undefined} The validation result, if available.\n     */\n    validate : function() {\n      var valid = true;\n      this.__syncValid = true; // collaboration of all synchronous validations\n      var items = [];\n\n      // check all validators for the added form items\n      for (var i = 0; i < this.__formItems.length; i++) {\n        var formItem = this.__formItems[i].item;\n        var validator = this.__formItems[i].validator;\n\n        // store the items in case of form validation\n        items.push(formItem);\n\n        // ignore all form items without a validator\n        if (validator == null) {\n          // check for the required property\n          var validatorResult = this._validateRequired(formItem);\n          valid = valid && validatorResult;\n          this.__syncValid = validatorResult && this.__syncValid;\n          continue;\n        }\n\n        var validatorResult = this._validateItem(\n          this.__formItems[i], formItem.getValue()\n        );\n        // keep that order to ensure that null is returned on async cases\n        valid = validatorResult && valid;\n        if (validatorResult != null) {\n          this.__syncValid = validatorResult && this.__syncValid;\n        }\n      }\n\n      // check the form validator (be sure to invoke it even if the form\n      // items are already false, so keep the order!)\n      var formValid = this.__validateForm(items);\n      if (qx.lang.Type.isBoolean(formValid)) {\n        this.__syncValid = formValid && this.__syncValid;\n      }\n      valid = formValid && valid;\n\n      this._setValid(valid);\n\n      if (qx.lang.Object.isEmpty(this.__asyncResults)) {\n        this.fireEvent(\"complete\");\n      }\n      return valid;\n    },\n\n\n    /**\n     * Checks if the form item is required. If so, the value is checked\n     * and the result will be returned. If the form item is not required, true\n     * will be returned.\n     *\n     * @param formItem {qx.ui.core.Widget} The form item to check.\n     * @return {var} Validation result\n     */\n    _validateRequired : function(formItem) {\n      if (formItem.getRequired()) {\n        var validatorResult;\n        // if its a widget supporting the selection\n        if (this.__supportsSingleSelection(formItem)) {\n          validatorResult = !!formItem.getSelection()[0];\n\n        } else if (this.__supportsDataBindingSelection(formItem)) {\n          validatorResult = (formItem.getSelection().getLength() > 0);\n\n        } else {\n          var value = formItem.getValue();\n          validatorResult = !!value || value === 0;\n        }\n        formItem.setValid(validatorResult);\n        var individualMessage = formItem.getRequiredInvalidMessage();\n        var message = individualMessage ? individualMessage : this.getRequiredFieldMessage();\n        formItem.setInvalidMessage(message);\n        return validatorResult;\n      }\n      return true;\n    },\n\n\n    /**\n     * Validates a form item. This method handles the differences of\n     * synchronous and asynchronous validation and returns the result of the\n     * validation if possible (synchronous cases). If the validation is\n     * asynchronous, null will be returned.\n     *\n     * @param dataEntry {Object} The map stored in {@link #add}\n     * @param value {var} The currently set value\n     * @return {Boolean|null} Validation result or <code>null</code> for async\n     * validation\n     */\n    _validateItem : function(dataEntry, value) {\n      var formItem = dataEntry.item;\n      var context = dataEntry.context;\n      var validator = dataEntry.validator;\n\n      // check for asynchronous validation\n      if (this.__isAsyncValidator(validator)) {\n        // used to check if all async validations are done\n        this.__asyncResults[formItem.toHashCode()] = null;\n        validator.validate(formItem, formItem.getValue(), this, context);\n        return null;\n      }\n\n      var validatorResult = null;\n\n      try {\n        var validatorResult = validator.call(context || this, value, formItem);\n        if (validatorResult === undefined) {\n          validatorResult = true;\n        }\n\n      } catch (e) {\n        if (e instanceof qx.core.ValidationError) {\n          validatorResult = false;\n          if (e.message && e.message != qx.type.BaseError.DEFAULTMESSAGE) {\n            var invalidMessage = e.message;\n          } else {\n            var invalidMessage = e.getComment();\n          }\n          formItem.setInvalidMessage(invalidMessage);\n        } else {\n          throw e;\n        }\n      }\n\n      formItem.setValid(validatorResult);\n      dataEntry.valid = validatorResult;\n\n      return validatorResult;\n    },\n\n\n    /**\n     * Validates the form. It checks for asynchronous validation and handles\n     * the differences to synchronous validation. If no form validator is given,\n     * true will be returned. If a synchronous validator is given, the\n     * validation result will be returned. In asynchronous cases, null will be\n     * returned cause the result is not available.\n     *\n     * @param items {qx.ui.core.Widget[]} An array of all form items.\n     * @return {Boolean|null} description\n     */\n    __validateForm: function(items) {\n      var formValidator = this.getValidator();\n      var context = this.getContext() || this;\n\n      if (formValidator == null) {\n        return true;\n      }\n\n      // reset the invalidMessage\n      this.setInvalidMessage(\"\");\n\n      if (this.__isAsyncValidator(formValidator)) {\n        this.__asyncResults[this.toHashCode()] = null;\n        formValidator.validateForm(items, this, context);\n        return null;\n      }\n\n      try {\n        var formValid = formValidator.call(context, items, this);\n        if (formValid === undefined) {\n          formValid = true;\n        }\n      } catch (e) {\n        if (e instanceof qx.core.ValidationError) {\n          formValid = false;\n\n          if (e.message && e.message != qx.type.BaseError.DEFAULTMESSAGE) {\n            var invalidMessage = e.message;\n          } else {\n            var invalidMessage = e.getComment();\n          }\n          this.setInvalidMessage(invalidMessage);\n        } else {\n          throw e;\n        }\n      }\n      return formValid;\n    },\n\n\n    /**\n     * Helper function which checks, if the given validator is synchronous\n     * or asynchronous.\n     *\n     * @param validator {Function|qx.ui.form.validation.AsyncValidator}\n     *   The validator to check.\n     * @return {Boolean} True, if the given validator is asynchronous.\n     */\n    __isAsyncValidator : function(validator) {\n      var async = false;\n      if (!qx.lang.Type.isFunction(validator)) {\n        async = qx.Class.isSubClassOf(\n          validator.constructor, qx.ui.form.validation.AsyncValidator\n        );\n      }\n      return async;\n    },\n\n\n    /**\n     * Returns true, if the given item implements the {@link qx.ui.form.IForm}\n     * interface.\n     *\n     * @param formItem {qx.core.Object} The item to check.\n     * @return {Boolean} true, if the given item implements the\n     *   necessary interface.\n     */\n    __supportsInvalid : function(formItem) {\n      var clazz = formItem.constructor;\n      return qx.Class.hasInterface(clazz, qx.ui.form.IForm);\n    },\n\n\n    /**\n     * Returns true, if the given item implements the\n     * {@link qx.ui.core.ISingleSelection} interface.\n     *\n     * @param formItem {qx.core.Object} The item to check.\n     * @return {Boolean} true, if the given item implements the\n     *   necessary interface.\n     */\n    __supportsSingleSelection : function(formItem) {\n      var clazz = formItem.constructor;\n      return qx.Class.hasInterface(clazz, qx.ui.core.ISingleSelection);\n    },\n\n\n    /**\n     * Returns true, if the given item implements the\n     * {@link qx.data.controller.ISelection} interface.\n     *\n     * @param formItem {qx.core.Object} The item to check.\n     * @return {Boolean} true, if the given item implements the\n     *   necessary interface.\n     */\n    __supportsDataBindingSelection : function(formItem) {\n      var clazz = formItem.constructor;\n      return qx.Class.hasInterface(clazz, qx.data.controller.ISelection);\n    },\n\n\n    /**\n     * Sets the valid state of the manager. It generates the event if\n     * necessary and stores the new value.\n     *\n     * @param value {Boolean|null} The new valid state of the manager.\n     */\n    _setValid: function(value) {\n      this._showToolTip(value);\n      var oldValue = this.__valid;\n      this.__valid = value;\n      // check for the change event\n      if (oldValue != value) {\n        this.fireDataEvent(\"changeValid\", value, oldValue);\n      }\n    },\n\n\n    /**\n     * Responsible for showing a tooltip in case the validation is done for\n     * widgets based on qx.ui.core.Widget.\n     * @param valid {Boolean} <code>false</code>, if the tooltip should be shown\n     */\n    _showToolTip : function(valid) {\n      // ignore if we don't have a tooltip manager e.g. mobile apps\n      if (!qx.ui.tooltip || !qx.ui.tooltip.Manager) {\n        return;\n      }\n      var tooltip = qx.ui.tooltip.Manager.getInstance().getSharedErrorTooltip();\n\n      if (!valid) {\n        var firstInvalid;\n        for (var i = 0; i < this.__formItems.length; i++) {\n          var item = this.__formItems[i].item;\n          if (!item.isValid()) {\n            firstInvalid = item;\n            // only for desktop widgets\n            if (!(item.getContentLocation)) {\n              return;\n            }\n            // only consider items on the screen\n            if (item.isSeeable() === false) {\n              continue;\n            }\n\n            tooltip.setLabel(item.getInvalidMessage());\n\n            if (tooltip.getPlaceMethod() == \"mouse\") {\n              var location = item.getContentLocation();\n              var top = location.top - tooltip.getOffsetTop();\n              tooltip.placeToPoint({left: location.right, top: top});\n            } else {\n              tooltip.placeToWidget(item);\n            }\n\n            tooltip.show();\n            return;\n          }\n        }\n      } else {\n        tooltip.exclude();\n      }\n    },\n\n\n    /**\n     * Returns the valid state of the manager.\n     *\n     * @return {Boolean|null} The valid state of the manager.\n     */\n    getValid: function() {\n      return this.__valid;\n    },\n\n\n    /**\n     * Returns the valid state of the manager.\n     *\n     * @return {Boolean|null} The valid state of the manager.\n     */\n    isValid: function() {\n      return this.getValid();\n    },\n\n\n    /**\n     * Returns an array of all invalid messages of the invalid form items and\n     * the form manager itself.\n     *\n     * @return {String[]} All invalid messages.\n     */\n    getInvalidMessages: function() {\n      var messages = [];\n      // combine the messages of all form items\n      for (var i = 0; i < this.__formItems.length; i++) {\n        var formItem = this.__formItems[i].item;\n        if (!formItem.getValid()) {\n          messages.push(formItem.getInvalidMessage());\n        }\n      }\n      // add the forms fail message\n      if (this.getInvalidMessage() != \"\") {\n        messages.push(this.getInvalidMessage());\n      }\n\n      return messages;\n    },\n\n\n    /**\n     * Selects invalid form items\n     *\n     * @return {Array} invalid form items\n     */\n    getInvalidFormItems : function() {\n      var res = [];\n      for (var i = 0; i < this.__formItems.length; i++) {\n        var formItem = this.__formItems[i].item;\n        if (!formItem.getValid()) {\n          res.push(formItem);\n        }\n      }\n\n      return res;\n    },\n\n\n    /**\n     * Resets the validator.\n     */\n    reset: function() {\n      // reset all form items\n      for (var i = 0; i < this.__formItems.length; i++) {\n        var dataEntry = this.__formItems[i];\n        // set the field to valid\n        dataEntry.item.setValid(true);\n      }\n      // set the manager to its initial valid value\n      this.__valid = null;\n      this._showToolTip(true);\n    },\n\n\n    /**\n     * Internal helper method to set the given item to valid for asynchronous\n     * validation calls. This indirection is used to determinate if the\n     * validation process is completed or if other asynchronous validators\n     * are still validating. {@link #__checkValidationComplete} checks if the\n     * validation is complete and will be called at the end of this method.\n     *\n     * @param formItem {qx.ui.core.Widget} The form item to set the valid state.\n     * @param valid {Boolean} The valid state for the form item.\n     *\n     * @internal\n     */\n    setItemValid: function(formItem, valid) {\n      // store the result\n      this.__asyncResults[formItem.toHashCode()] = valid;\n      formItem.setValid(valid);\n      this.__checkValidationComplete();\n    },\n\n\n    /**\n     * Internal helper method to set the form manager to valid for asynchronous\n     * validation calls. This indirection is used to determinate if the\n     * validation process is completed or if other asynchronous validators\n     * are still validating. {@link #__checkValidationComplete} checks if the\n     * validation is complete and will be called at the end of this method.\n     *\n     * @param valid {Boolean} The valid state for the form manager.\n     *\n     * @internal\n     */\n    setFormValid : function(valid) {\n      this.__asyncResults[this.toHashCode()] = valid;\n      this.__checkValidationComplete();\n    },\n\n\n    /**\n     * Checks if all asynchronous validators have validated so the result\n     * is final and the {@link #complete} event can be fired. If that's not\n     * the case, nothing will happen in the method.\n     */\n    __checkValidationComplete : function() {\n      var valid = this.__syncValid;\n\n      // check if all async validators are done\n      for (var hash in this.__asyncResults) {\n        var currentResult = this.__asyncResults[hash];\n        valid = currentResult && valid;\n        // the validation is not done so just do nothing\n        if (currentResult == null) {\n          return;\n        }\n      }\n      // set the actual valid state of the manager\n      this._setValid(valid);\n      // reset the results\n      this.__asyncResults = {};\n      // fire the complete event (no entry in the results with null)\n      this.fireEvent(\"complete\");\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n  destruct : function()\n  {\n    this._showToolTip(true);\n    this.__formItems = null;\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n     2017 Martijn Evers, The Netherlands\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Martijn Evers (mever)\n\n************************************************************************ */\n/**\n * The resetter is responsible for managing a set of fields and resetting these\n * fields on a {@link #reset} call. It can handle all form field implementing IField.\n */\nqx.Class.define(\"qx.ui.form.Resetter\",\n{\n  extend : qx.core.Object,\n\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    this.__items = [];\n  },\n\n  members :\n  {\n    __items : null,\n\n    /**\n     * Adding a field to the resetter will get its current value and store\n     * it for resetting.\n     *\n     * @param field {qx.ui.form.IField} The field which should be added.\n     * @throws {TypeError} When given argument is not a field.\n     */\n    add : function(field) {\n      this.__typeCheck(field);\n      this.__items.push({item: field, init: field.getValue()});\n    },\n\n\n    /**\n     * Removes a field from the resetter.\n     *\n     * @param field {qx.ui.form.IField} The field which should be removed.\n     * @throws {TypeError} When given argument is not a field.\n     * @return {Boolean} <code>true</code>, if the field has been removed.\n     */\n    remove : function(field) {\n      this.__typeCheck(field);\n      for (var i = 0; i < this.__items.length; i++) {\n        var storedItem = this.__items[i];\n        if (storedItem.item === field) {\n          this.__items.splice(i, 1);\n          return true;\n        }\n      }\n      return false;\n    },\n\n\n    /**\n     * Resets all added fields to their initial value. The initial value\n     * is the value in the widget during the {@link #add}.\n     *\n     * @return {null|Error} Returns an error when some fields could not be reset.\n     */\n    reset: function() {\n      var dataEntry, e, errors = [];\n      for (var i = 0; i < this.__items.length; i++) {\n        dataEntry = this.__items[i];\n        e = dataEntry.item.setValue(dataEntry.init);\n        if (e && e instanceof Error) {\n          errors.push(e);\n        }\n      }\n\n      if (errors.length) {\n        return new Error(errors.join(', '));\n      } else {\n        return null;\n      }\n    },\n\n\n    /**\n     * Resets a single given field. The field has to be added to the resetter\n     * instance before. Otherwise, an error is thrown.\n     *\n     * @param field {qx.ui.form.IField} The field, which should be reset.\n     * @throws {TypeError} When given argument is not a field.\n     * @return {null|Error} Returns an error when the field value could not be set.\n     */\n    resetItem : function(field) {\n      this.__typeCheck(field);\n      for (var i = 0; i < this.__items.length; i++) {\n        var dataEntry = this.__items[i];\n        if (dataEntry.item === field) {\n          return field.setValue(dataEntry.init);\n        }\n      }\n\n      throw new Error(\"The given field has not been added.\");\n    },\n\n\n    /**\n     * Takes the current values of all added fields and uses these values as\n     * init values for resetting.\n     */\n    redefine: function() {\n      // go threw all added items\n      for (var i = 0; i < this.__items.length; i++) {\n        var item = this.__items[i].item;\n        // set the new init value for the item\n        this.__items[i].init = item.getValue();\n      }\n    },\n\n\n    /**\n     * Takes the current value of the given field and stores this value as init\n     * value for resetting.\n     *\n     * @param field {qx.ui.form.IField} The field to redefine.\n     * @throws {TypeError} When given argument is not a field.\n     */\n    redefineItem : function(field) {\n      this.__typeCheck(field);\n\n      // get the data entry\n      var dataEntry;\n      for (var i = 0; i < this.__items.length; i++) {\n        if (this.__items[i].item === field) {\n          dataEntry = this.__items[i];\n          dataEntry.init = dataEntry.item.getValue();\n          return;\n        }\n      }\n\n      throw new Error(\"The given field has not been added.\");\n    },\n\n\n    /**\n     * Assert when given argument is not a field.\n     *\n     * @param field {qx.ui.form.IField|var} Any argument that should be a field.\n     * @throws {TypeError} When given argument is not a field.\n     * @private\n     */\n    __typeCheck : function(field) {\n      if (!qx.Class.hasInterface(field.constructor, qx.ui.form.IField)) {\n        throw new TypeError(\"Field \" + field + \" not supported for resetting.\");\n      }\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n  destruct : function()\n  {\n    // holding references to widgets --> must set to null\n    this.__items = null;\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * <h2>Form Controller</h2>\n *\n * *General idea*\n *\n * The form controller is responsible for connecting a form with a model. If no\n * model is given, a model can be created. This created model will fit exactly\n * to the given form and can be used for serialization. All the connections\n * between the form items and the model are handled by an internal\n * {@link qx.data.controller.Object}.\n *\n * *Features*\n *\n * * Connect a form to a model (bidirectional)\n * * Create a model for a given form\n *\n * *Usage*\n *\n * The controller only works if both a controller and a model are set.\n * Creating a model will automatically set the created model.\n *\n * *Cross reference*\n *\n * * If you want to bind single values, use {@link qx.data.controller.Object}\n * * If you want to bind a list like widget, use {@link qx.data.controller.List}\n * * If you want to bind a tree widget, use {@link qx.data.controller.Tree}\n */\nqx.Class.define(\"qx.data.controller.Form\",\n{\n  extend : qx.core.Object,\n  implement: [ qx.core.IDisposable ],\n  \n  /**\n   * @param model {qx.core.Object | null} The model to bind the target to. The\n   *   given object will be set as {@link #model} property.\n   * @param target {qx.ui.form.Form | null} The form which contains the form\n   *   items. The given form will be set as {@link #target} property.\n   * @param selfUpdate {Boolean?false} If set to true, you need to call the\n   *   {@link #updateModel} method to get the data in the form to the model.\n   *   Otherwise, the data will be synced automatically on every change of\n   *   the form.\n   */\n  construct : function(model, target, selfUpdate)\n  {\n    this.base(arguments);\n\n    this._selfUpdate = !!selfUpdate;\n    this.__bindingOptions = {};\n\n    if (model != null) {\n      this.setModel(model);\n    }\n\n    if (target != null) {\n      this.setTarget(target);\n    }\n  },\n\n\n  properties :\n  {\n    /** Data object containing the data which should be shown in the target. */\n    model :\n    {\n      check: \"qx.core.Object\",\n      apply: \"_applyModel\",\n      event: \"changeModel\",\n      nullable: true,\n      dereference: true\n    },\n\n\n    /** The target widget which should show the data. */\n    target :\n    {\n      check: \"qx.ui.form.Form\",\n      apply: \"_applyTarget\",\n      event: \"changeTarget\",\n      nullable: true,\n      init: null,\n      dereference: true\n    }\n  },\n\n\n  members :\n  {\n    __objectController : null,\n    __bindingOptions : null,\n\n\n    /**\n     * The form controller uses for setting up the bindings the fundamental\n     * binding layer, the {@link qx.data.SingleValueBinding}. To achieve a\n     * binding in both directions, two bindings are needed. With this method,\n     * you have the opportunity to set the options used for the bindings.\n     *\n     * @param name {String} The name of the form item for which the options\n     *   should be used.\n     * @param model2target {Map} Options map used for the binding from model\n     *   to target. The possible options can be found in the\n     *   {@link qx.data.SingleValueBinding} class.\n     * @param target2model {Map} Options map used for the binding from target\n     *   to model. The possible options can be found in the\n     *   {@link qx.data.SingleValueBinding} class.\n     */\n    addBindingOptions : function(name, model2target, target2model)\n    {\n      this.__bindingOptions[name] = [model2target, target2model];\n\n      // return if not both, model and target are given\n      if (this.getModel() == null || this.getTarget() == null) {\n        return;\n      }\n\n      // renew the affected binding\n      var item = this.getTarget().getItems()[name];\n      var targetProperty =\n        this.__isModelSelectable(item) ? \"modelSelection[0]\" : \"value\";\n\n      // remove the binding\n      this.__objectController.removeTarget(item, targetProperty, name);\n      // set up the new binding with the options\n      this.__objectController.addTarget(\n        item, targetProperty, name, !this._selfUpdate, model2target, target2model\n      );\n    },\n\n\n    /**\n     * Creates and sets a model using the {@link qx.data.marshal.Json} object.\n     * Remember that this method can only work if the form is set. The created\n     * model will fit exactly that form. Changing the form or adding an item to\n     * the form will need a new model creation.\n     *\n     * @param includeBubbleEvents {Boolean} Whether the model should support\n     *   the bubbling of change events or not.\n     * @return {qx.core.Object} The created model.\n     */\n    createModel : function(includeBubbleEvents) {\n      var target = this.getTarget();\n\n      // throw an error if no target is set\n      if (target == null) {\n        throw new Error(\"No target is set.\");\n      }\n\n      var items = target.getItems();\n      var data = {};\n      for (var name in items) {\n        var names = name.split(\".\");\n        var currentData = data;\n        for (var i = 0; i < names.length; i++) {\n          // if its the last item\n          if (i + 1 == names.length) {\n            // check if the target is a selection\n            var clazz = items[name].constructor;\n            var itemValue = null;\n            if (qx.Class.hasInterface(clazz, qx.ui.core.ISingleSelection)) {\n              // use the first element of the selection because passed to the\n              // marshaler (and its single selection anyway) [BUG #3541]\n              itemValue = items[name].getModelSelection().getItem(0) || null;\n            } else {\n              itemValue = items[name].getValue();\n            }\n            // call the converter if available [BUG #4382]\n            if (this.__bindingOptions[name] && this.__bindingOptions[name][1]) {\n              itemValue = this.__bindingOptions[name][1].converter(itemValue);\n            }\n            currentData[names[i]] = itemValue;\n          } else {\n            // if its not the last element, check if the object exists\n            if (!currentData[names[i]]) {\n              currentData[names[i]] = {};\n            }\n            currentData = currentData[names[i]];\n          }\n        }\n      }\n\n      var model = qx.data.marshal.Json.createModel(data, includeBubbleEvents);\n      this.setModel(model);\n\n      return model;\n    },\n\n\n    /**\n     * Responsible for syncing the data from entered in the form to the model.\n     * Please keep in mind that this method only works if you create the form\n     * with <code>selfUpdate</code> set to true. Otherwise, this method will\n     * do nothing because updates will be synced automatically on every\n     * change.\n     */\n    updateModel: function(){\n      // only do stuff if self update is enabled and a model or target is set\n      if (!this._selfUpdate || !this.getModel() || !this.getTarget()) {\n        return;\n      }\n\n      var items = this.getTarget().getItems();\n      for (var name in items) {\n        var item = items[name];\n        var sourceProperty =\n          this.__isModelSelectable(item) ? \"modelSelection[0]\" : \"value\";\n\n        var options = this.__bindingOptions[name];\n        options = options && this.__bindingOptions[name][1];\n\n        qx.data.SingleValueBinding.updateTarget(\n          item, sourceProperty, this.getModel(), name, options\n        );\n      }\n    },\n\n\n    // apply method\n    _applyTarget : function(value, old) {\n      // if an old target is given, remove the binding\n      if (old != null) {\n        this.__tearDownBinding(old);\n      }\n\n      // do nothing if no target is set\n      if (this.getModel() == null) {\n        return;\n      }\n\n      // target and model are available\n      if (value != null) {\n        this.__setUpBinding();\n      }\n    },\n\n\n    // apply method\n    _applyModel : function(value, old) {\n\n      // set the model to null to reset all items before removing them\n      if (this.__objectController != null && value == null) {\n        this.__objectController.setModel(null);\n      }\n\n      // first, get rid off all bindings (avoids wrong data population)\n      if (this.__objectController != null && this.getTarget() != null) {\n        var items = this.getTarget().getItems();\n        for (var name in items) {\n          var item = items[name];\n          var targetProperty =\n            this.__isModelSelectable(item) ? \"modelSelection[0]\" : \"value\";\n          this.__objectController.removeTarget(item, targetProperty, name);\n        }\n      }\n\n      // set the model of the object controller if available\n      if (this.__objectController != null) {\n        this.__objectController.setModel(value);\n      }\n\n      // do nothing is no target is set\n      if (this.getTarget() == null) {\n        return;\n      }\n      else {\n        // if form was validated with errors and model changes\n        // the errors should be cleared see #8977\n        this.getTarget().getValidationManager().reset();\n      }\n\n      // model and target are available\n      if (value != null) {\n        this.__setUpBinding();\n      }\n    },\n\n\n    /**\n     * Internal helper for setting up the bindings using\n     * {@link qx.data.controller.Object#addTarget}. All bindings are set\n     * up bidirectional.\n     */\n    __setUpBinding : function() {\n      // create the object controller\n      if (this.__objectController == null) {\n        this.__objectController = new qx.data.controller.Object(this.getModel());\n      }\n\n      // get the form items\n      var items = this.getTarget().getItems();\n\n      // connect all items\n      for (var name in items) {\n        var item = items[name];\n        var targetProperty =\n          this.__isModelSelectable(item) ? \"modelSelection[0]\" : \"value\";\n        var options = this.__bindingOptions[name];\n\n        // try to bind all given items in the form\n        try {\n          if (options == null) {\n            this.__objectController.addTarget(item, targetProperty, name, !this._selfUpdate);\n          } else {\n            this.__objectController.addTarget(\n              item, targetProperty, name, !this._selfUpdate, options[0], options[1]\n            );\n          }\n        // ignore not working items\n        } catch (ex) {\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            this.warn(\"Could not bind property \" + name + \" of \" + this.getModel() + \":\\n\" + ex.stack);\n          }\n        }\n      }\n      // make sure the initial values of the model are taken for resetting [BUG #5874]\n      this.getTarget().redefineResetter();\n    },\n\n\n    /**\n     * Internal helper for removing all set up bindings using\n     * {@link qx.data.controller.Object#removeTarget}.\n     *\n     * @param oldTarget {qx.ui.form.Form} The form which has been removed.\n     */\n    __tearDownBinding : function(oldTarget) {\n      // do nothing if the object controller has not been created\n      if (this.__objectController == null) {\n        return;\n      }\n\n      // get the items\n      var items = oldTarget.getItems();\n\n      // disconnect all items\n      for (var name in items) {\n        var item = items[name];\n        var targetProperty =\n          this.__isModelSelectable(item) ? \"modelSelection[0]\" : \"value\";\n        this.__objectController.removeTarget(item, targetProperty, name);\n      }\n    },\n\n\n    /**\n     * Returns whether the given item implements\n     * {@link qx.ui.core.ISingleSelection} and\n     * {@link qx.ui.form.IModelSelection}.\n     *\n     * @param item {qx.ui.form.IForm} The form item to check.\n     *\n     * @return {Boolean} true, if given item fits.\n     */\n    __isModelSelectable : function(item) {\n      return qx.Class.hasInterface(item.constructor, qx.ui.core.ISingleSelection) &&\n      qx.Class.hasInterface(item.constructor, qx.ui.form.IModelSelection);\n    }\n\n  },\n\n\n\n  /*\n   *****************************************************************************\n      DESTRUCTOR\n   *****************************************************************************\n   */\n\n   destruct : function() {\n     // dispose the object controller because the bindings need to be removed\n     if (this.__objectController) {\n       this.__objectController.dispose();\n     }\n   }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Til Schneider (til132)\n\n************************************************************************ */\n\n/**\n * Superclass for formatters and parsers.\n */\nqx.Interface.define(\"qx.util.format.IFormat\",\n{\n\n  members :\n  {\n    /**\n     * Formats an object.\n     *\n     * @abstract\n     * @param obj {var} The object to format.\n     * @return {String} the formatted object.\n     * @throws {Error} the abstract function warning.\n     */\n    format : function(obj) {},\n\n\n    /**\n     * Parses an object.\n     *\n     * @abstract\n     * @param str {String} the string to parse.\n     * @return {var} the parsed object.\n     * @throws {Error} the abstract function warning.\n     */\n    parse : function(str) {}\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Til Schneider (til132)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * A formatter and parser for dates, see\n * http://www.unicode.org/reports/tr35/#Date_Format_Patterns\n *\n * Here is a quick overview of the format pattern keys:\n * <table>\n * <tr><th>Key &nbsp;<th>Description\n * <tr><td><code> G </code><td> era, e.g. \"AD\"\n * <tr><td><code> y </code><td> year\n * <tr><td><code> Y </code><td> week year\n * <tr><td><code> u </code><td> extended year [Not supported yet]\n * <tr><td><code> Q </code><td> quarter\n * <tr><td><code> q </code><td> stand-alone quarter\n * <tr><td><code> M </code><td> month\n * <tr><td><code> L </code><td> stand-alone month\n * <tr><td><code> I </code><td> chinese leap month [Not supported yet]\n * <tr><td><code> w </code><td> week of year\n * <tr><td><code> W </code><td> week of month\n * <tr><td><code> d </code><td> day of month\n * <tr><td><code> D </code><td> day of year\n * <tr><td><code> F </code><td> day of week in month [Not supported yet]\n * <tr><td><code> g </code><td> modified Julian day [Not supported yet]\n * <tr><td><code> E </code><td> day of week\n * <tr><td><code> e </code><td> local day of week\n * <tr><td><code> c </code><td> stand-alone local day of week\n * <tr><td><code> a </code><td> period of day (am or pm)\n * <tr><td><code> h </code><td> 12-hour hour\n * <tr><td><code> H </code><td> 24-hour hour\n * <tr><td><code> K </code><td> hour [0-11]\n * <tr><td><code> k </code><td> hour [1-24]\n * <tr><td><code> j </code><td> special symbol [Not supported yet]\n * <tr><td><code> m </code><td> minute\n * <tr><td><code> s </code><td> second\n * <tr><td><code> S </code><td> fractional second\n * <tr><td><code> A </code><td> millisecond in day [Not supported yet]\n * <tr><td><code> z </code><td> time zone, specific non-location format\n * <tr><td><code> Z </code><td> time zone, rfc822/gmt format\n * <tr><td><code> v </code><td> time zone, generic non-location format [Not supported yet]\n * <tr><td><code> V </code><td> time zone, like z except metazone abbreviations [Not supported yet]\n * </table>\n *\n * (This list is preliminary, not all format keys might be implemented). Most\n * keys support repetitions that influence the meaning of the format. Parts of the\n * format string that should not be interpreted as format keys have to be\n * single-quoted.\n *\n * The same format patterns will be used for both parsing and output formatting.\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define(\"qx.util.format.DateFormat\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.util.format.IFormat ],\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param format {String|null} The format to use. If null, the locale's default\n   * format is used.\n   * @param locale {String?} optional locale to be used. In case this is not present, the {@link #locale} property of DateFormat\n   * will be following the {@link qx.locale.Manager#locale} property of qx.locale.Manager\n   */\n  construct : function(format, locale)\n  {\n    this.base(arguments);\n\n    this.__initialLocale = this.__locale = locale;\n\n    if (format != null)\n    {\n      this.__format = format.toString();\n      if(this.__format in qx.util.format.DateFormat.ISO_MASKS)\n      {\n        if(this.__format === 'isoUtcDateTime') {\n          this.__UTC = true;\n        }\n        this.__format = qx.util.format.DateFormat.ISO_MASKS[this.__format];\n      }\n    } else\n    {\n      this.__format = qx.locale.Date.getDateFormat(\"long\", this.getLocale()) + \" \" + qx.locale.Date.getDateTimeFormat(\"HHmmss\", \"HH:mm:ss\", this.getLocale());\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Convenience factory that returns a <code>DateFomat</code> instance that\n     * uses a short date-only format. Beware that the overall layout of the\n     * date/time format string is that of the locale in effect when the factory\n     * function is called.\n     *\n     * Implemented as a quasi-singleton, so beware of side effects.\n     *\n     * @return {DateFormat} a DateFormat instance.\n     */\n    getDateInstance : function()\n    {\n      var DateFormat = qx.util.format.DateFormat;\n\n      var format = qx.locale.Date.getDateFormat(\"short\") + \"\";\n\n      // Memoizing the instance, so caller doesn't have to dispose it.\n      if (DateFormat._dateInstance == null || DateFormat._dateInstance.__format != format) {\n        DateFormat._dateInstance = new DateFormat(format);\n      }\n\n      return DateFormat._dateInstance;\n    },\n\n\n    /**\n     * Convenience factory that returns a <code>DateFomat</code> instance that\n     * uses a long date/time format. Beware that the overall layout of the\n     * date/time format string is that of the locale in effect when the factory\n     * function is called.\n     *\n     * Implemented as a quasi-singleton, so beware of side effects.\n     *\n     * @return {DateFormat} a DateFormat instance.\n     */\n    getDateTimeInstance : function()\n    {\n      var DateFormat = qx.util.format.DateFormat;\n\n      var format = qx.locale.Date.getDateFormat(\"long\") + \" \" + qx.locale.Date.getDateTimeFormat(\"HHmmss\", \"HH:mm:ss\");\n\n      // Memoizing the instance, so caller doesn't have to dispose it.\n      if (DateFormat._dateTimeInstance == null || DateFormat._dateTimeInstance.__format != format) {\n        DateFormat._dateTimeInstance = new DateFormat(format);\n      }\n\n      return DateFormat._dateTimeInstance;\n    },\n\n\n    /**\n     * @type {Integer} The threshold until when a year should be assumed to belong to the\n     *   21st century (e.g. 12 -> 2012). Years over this threshold but below 100 will be\n     *   assumed to belong to the 20th century (e.g. 88 -> 1988). Years over 100 will be\n     *   used unchanged (e.g. 1792 -> 1792).\n     */\n    ASSUME_YEAR_2000_THRESHOLD : 30,\n\n    /** @type {Map} Special masks of patterns that are used frequently*/\n    ISO_MASKS : {\n      isoDate :        \"yyyy-MM-dd\",\n      isoTime :        \"HH:mm:ss\",\n      isoDateTime :    \"yyyy-MM-dd'T'HH:mm:ss\",\n      isoUtcDateTime : \"yyyy-MM-dd'T'HH:mm:ss'Z'\"\n    },\n\n    /** @type {String} The am marker. */\n    AM_MARKER : \"am\",\n\n    /** @type {String} The pm marker. */\n    PM_MARKER : \"pm\"\n\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __locale : null,\n    __initialLocale : null,\n    __format : null,\n    __parseFeed : null,\n    __parseRules : null,\n    __formatTree : null,\n    __UTC : null,\n\n    /**\n     * Fills a number with leading zeros (\"25\" -> \"0025\").\n     *\n     * @param number {Integer} the number to fill.\n     * @param minSize {Integer} the minimum size the returned string should have.\n     * @return {String} the filled number as string.\n     */\n    __fillNumber : function(number, minSize)\n    {\n      var str = \"\" + (number < 0 ? ((-1) * number) : number);\n\n      while (str.length < minSize) {\n        str = \"0\" + str;\n      }\n\n      return number < 0 ? \"-\" + str : str;\n    },\n\n\n    /**\n     * Returns the day in year of a date.\n     *\n     * @param date {Date} the date.\n     * @return {Integer} the day in year.\n     */\n    __getDayInYear : function(date)\n    {\n      var helpDate = new Date(date.getTime());\n      var day = helpDate.getDate();\n\n      while (helpDate.getMonth() != 0)\n      {\n        // Set the date to the last day of the previous month\n        helpDate.setDate(-1);\n        day += helpDate.getDate() + 1;\n      }\n\n      return day;\n    },\n\n\n    /**\n     * Returns the thursday in the same week as the date.\n     *\n     * @param date {Date} the date to get the thursday of.\n     * @return {Date} the thursday in the same week as the date.\n     */\n    __thursdayOfSameWeek : function(date) {\n      return new Date(date.getTime() + (3 - ((date.getDay() + 6) % 7)) * 86400000);\n    },\n\n\n    /**\n     * Returns the week in year of a date.\n     *\n     * @param date {Date} the date to get the week in year of.\n     * @return {Integer} the week in year.\n     */\n    __getWeekInYear : function(date)\n    {\n      // The following algorithm comes from http://www.salesianer.de/util/kalwoch.html\n      // Get the thursday of the week the date belongs to\n      var thursdayDate = this.__thursdayOfSameWeek(date);\n\n      // Get the year the thursday (and therefore the week) belongs to\n      var weekYear = thursdayDate.getFullYear();\n\n      // Get the thursday of the week january 4th belongs to\n      // (which defines week 1 of a year)\n      var thursdayWeek1 = this.__thursdayOfSameWeek(new Date(weekYear, 0, 4));\n\n      // Calculate the calendar week\n      return Math.floor(1.5 + (thursdayDate.getTime() - thursdayWeek1.getTime()) / 86400000 / 7);\n    },\n\n    /**\n     * Returns the week in month of a date.\n     *\n     * @param date {Date} the date to get the week in year of.\n     * @return {Integer} the week in month.\n     */\n    __getWeekInMonth : function(date)\n    {\n      var thursdayDate = this.__thursdayOfSameWeek(date);\n      var thursdayWeek1 = this.__thursdayOfSameWeek(new Date(date.getFullYear(), date.getMonth(), 4));\n      return Math.floor(1.5 + (thursdayDate.getTime() - thursdayWeek1.getTime()) / 86400000 / 7);\n    },\n\n    /**\n     * Returns the week year of a date. (that is the year of the week where this date happens to be)\n     * For a week in the middle of the summer, the year is easily obtained, but for a week\n     * when New Year's Eve takes place, the year of that week is ambiguous.\n     * The thursday day of that week is used to determine the year.\n     *\n     * @param date {Date} the date to get the week in year of.\n     * @return {Integer} the week year.\n     */\n    __getWeekYear : function(date)\n    {\n      var thursdayDate = this.__thursdayOfSameWeek(date);\n      return thursdayDate.getFullYear();\n    },\n\n    /**\n     * Returns true if the year is a leap one.\n     *\n     * @param year {Integer} the year to check.\n     * @return {Boolean} true if it is a leap year.\n     */\n    __isLeapYear : function(year)\n    {\n      var februaryDate = new Date(year,2,1);\n      februaryDate.setDate(-1);\n      return februaryDate.getDate() + 1 === 29;\n    },\n\n    /**\n     * Returns a json object with month and day as keys.\n     *\n     * @param dayOfYear {Integer} the day of year.\n     * @param year {Integer} the year to check.\n     * @return {Object} a json object {month: M, day: D}.\n     */\n    __getMonthAndDayFromDayOfYear : function(dayOfYear,year)\n    {\n      var month = 0;\n      var day = 0;\n      // if we don't know the year, we take a non-leap year'\n      if(!year) {\n        year = 1971;\n      }\n      var dayCounter = 0;\n      for(var i=1; i <= 12; i++)\n      {\n        var tempDate = new Date(year,i,1);\n        tempDate.setDate(-1);\n        var days = tempDate.getDate() + 1;\n        dayCounter += days;\n        if(dayCounter < dayOfYear)\n        {\n          month++;\n          day += days;\n        }\n        else\n        {\n          day = dayOfYear - (dayCounter-days);\n          break;\n        }\n      }\n\n      return {month: month,day: day};\n    },\n\n    /**\n     * Returns the year of a date when we know the week year\n     *\n     * @param weekYear {Integer} the week year.\n     * @param month {Integer} the month\n     * @param dayOfMonth {Integer} the day in month\n     * @return {Integer} the year.\n     */\n    __getYearFromWeekYearAndMonth : function(weekYear, month, dayOfMonth)\n    {\n      var year;\n      switch(month){\n        case 11 :\n          year = weekYear - 1;\n          if (weekYear != this.__getWeekYear(new Date(year,month,dayOfMonth))) {\n            year = weekYear;\n          }\n        break;\n        case 0 :\n          year = weekYear + 1;\n          if (weekYear != this.__getWeekYear(new Date(year,month,dayOfMonth))) {\n            year = weekYear;\n          }\n        break;\n        default :\n          year = weekYear;\n      }\n      return year;\n    },\n\n    /**\n     * Sets the new value for locale property\n     * @param value {String} The new value.\n     *\n     */\n    setLocale : function(value)\n    {\n      if (value !== null && typeof value != \"string\") {\n        throw new Error(\"Cannot set locale to \" + value + \" - please provide a string\");\n      }\n      this.__locale = value === null ? this.__initialLocale : value;\n    },\n    \n    /**\n     * Resets the Locale\n     */\n    resetLocale : function() {\n      this.setLocale(null);\n    },\n    \n    /**\n     * Returns the locale\n     */\n    getLocale : function() {\n      var locale = this.__locale;\n      if (locale === undefined) {\n        locale = qx.locale.Manager.getInstance().getLocale();\n      }\n      return locale;\n    },\n\n    /**\n     * Formats a date.\n     *\n     * @param date {Date} The date to format.\n     * @return {String} the formatted date.\n     */\n    format : function(date)\n    {\n      // check for null dates\n      if (date == null) {\n        return null;\n      }\n\n      if(isNaN(date.getTime())) {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.log.Logger.error(\"Provided date is invalid\");\n        }\n        return null;\n      }\n\n      if(this.__UTC) {\n        date = new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds());\n      }\n\n      var locale = this.getLocale();\n\n      var fullYear = date.getFullYear();\n      var month = date.getMonth();\n      var dayOfMonth = date.getDate();\n      var dayOfWeek = date.getDay();\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var seconds = date.getSeconds();\n      var ms = date.getMilliseconds();\n\n      var timezoneOffset = date.getTimezoneOffset();\n      var timezoneSign = timezoneOffset > 0 ? 1 : -1;\n      var timezoneHours = Math.floor(Math.abs(timezoneOffset) / 60);\n      var timezoneMinutes = Math.abs(timezoneOffset) % 60;\n\n      // Create the output\n      this.__initFormatTree();\n      var output = \"\";\n\n      for (var i=0; i<this.__formatTree.length; i++)\n      {\n        var currAtom = this.__formatTree[i];\n\n        if (currAtom.type == \"literal\") {\n          output += currAtom.text;\n        }\n        else\n        {\n          // This is a wildcard\n          var wildcardChar = currAtom.character;\n          var wildcardSize = currAtom.size;\n\n          // Get its replacement\n          var replacement = \"?\";\n\n          switch(wildcardChar)\n          {\n            case 'y': // Year\n              if (wildcardSize == 2) {\n                replacement = this.__fillNumber(fullYear % 100, 2);\n              } else {\n                var year = Math.abs(fullYear);\n                replacement = year + \"\";\n                if (wildcardSize > replacement.length) {\n                  for (var j = replacement.length; j < wildcardSize; j++) {\n                    replacement = \"0\" + replacement;\n                  }\n                }\n                if(fullYear < 0) {\n                  replacement = \"-\" + replacement;\n                }\n              }\n\n              break;\n\n            case 'Y': // Year\n              replacement = this.__getWeekYear(date) + \"\";\n              var year = replacement.replace('-','');\n              if (wildcardSize > replacement.length) {\n                for (var j = year.length; j < wildcardSize; j++) {\n                  year = \"0\" + year;\n                }\n              }\n              replacement = replacement.indexOf(\"-\") != -1 ? \"-\" + year : year;\n\n              break;\n\n            case 'G': // Era - there is no CLDR data for ERA yet\n              if (wildcardSize >= 1 && wildcardSize <= 3) {\n                replacement = fullYear > 0 ? 'AD' : 'BC';\n              }\n              else if(wildcardSize == 4) {\n                replacement = fullYear > 0 ? 'Anno Domini' : 'Before Christ';\n              }\n              else if(wildcardSize == 5) {\n                replacement = fullYear > 0 ? 'A' : 'B';\n              }\n\n              break;\n\n            case 'Q': // quarter\n              if (wildcardSize == 1 || wildcardSize == 2) {\n                replacement = this.__fillNumber(parseInt(month/4) + 1, wildcardSize);\n              }\n              if(wildcardSize == 3) {\n                replacement = 'Q' + (parseInt(month/4) + 1);\n              }\n\n              break;\n\n            case 'q': // quarter stand alone\n              if (wildcardSize == 1 || wildcardSize == 2) {\n                replacement = this.__fillNumber(parseInt(month/4) + 1, wildcardSize);\n              }\n              if(wildcardSize == 3) {\n                replacement = 'Q' + (parseInt(month/4) + 1);\n              }\n\n              break;\n\n            case 'D': // Day in year (e.g. 189)\n              replacement = this.__fillNumber(this.__getDayInYear(date), wildcardSize);\n              break;\n\n            case 'd': // Day in month\n              replacement = this.__fillNumber(dayOfMonth, wildcardSize);\n              break;\n\n            case 'w': // Week in year (e.g. 27)\n              replacement = this.__fillNumber(this.__getWeekInYear(date), wildcardSize);\n              break;\n\n            case 'W': // Week in year (e.g. 27)\n              replacement = this.__getWeekInMonth(date);\n              break;\n\n            case 'E': // Day in week\n              if (wildcardSize >= 1 && wildcardSize <= 3) {\n                replacement = qx.locale.Date.getDayName(\"abbreviated\", dayOfWeek, locale, \"format\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getDayName(\"wide\", dayOfWeek, locale, \"format\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getDayName(\"narrow\", dayOfWeek, locale, \"format\", true);\n              }\n\n              break;\n\n            case 'e': // Day in week\n              var startOfWeek = qx.locale.Date.getWeekStart(locale);\n              // the index is 1 based\n              var localeDayOfWeek = 1 + ((dayOfWeek - startOfWeek >=0) ? (dayOfWeek - startOfWeek) : 7 + (dayOfWeek-startOfWeek));\n              if (wildcardSize >= 1 && wildcardSize <= 2) {\n                replacement = this.__fillNumber(localeDayOfWeek, wildcardSize);\n              } else if (wildcardSize == 3) {\n                replacement = qx.locale.Date.getDayName(\"abbreviated\", dayOfWeek, locale, \"format\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getDayName(\"wide\", dayOfWeek, locale, \"format\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getDayName(\"narrow\", dayOfWeek, locale, \"format\", true);\n              }\n\n              break;\n\n            case 'c': // Stand-alone local day in week\n              var startOfWeek = qx.locale.Date.getWeekStart(locale);\n              // the index is 1 based\n              var localeDayOfWeek = 1 + ((dayOfWeek - startOfWeek >=0) ? (dayOfWeek - startOfWeek) : 7 + (dayOfWeek-startOfWeek));\n              if (wildcardSize == 1) {\n                replacement = ''+localeDayOfWeek;\n              } else if (wildcardSize == 3) {\n                replacement = qx.locale.Date.getDayName(\"abbreviated\", dayOfWeek, locale, \"stand-alone\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getDayName(\"wide\", dayOfWeek, locale, \"stand-alone\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getDayName(\"narrow\", dayOfWeek, locale, \"stand-alone\", true);\n              }\n\n              break;\n\n            case 'M': // Month\n              if (wildcardSize == 1 || wildcardSize == 2) {\n                replacement = this.__fillNumber(month + 1, wildcardSize);\n              } else if (wildcardSize == 3) {\n                replacement = qx.locale.Date.getMonthName(\"abbreviated\", month, locale, \"format\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getMonthName(\"wide\", month, locale, \"format\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getMonthName(\"narrow\", month, locale, \"format\", true);\n\n              }\n\n              break;\n\n            case 'L': // Stand-alone month\n              if (wildcardSize == 1 || wildcardSize == 2) {\n                replacement = this.__fillNumber(month + 1, wildcardSize);\n              } else if (wildcardSize == 3) {\n                replacement = qx.locale.Date.getMonthName(\"abbreviated\", month, locale, \"stand-alone\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getMonthName(\"wide\", month, locale, \"stand-alone\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getMonthName(\"narrow\", month, locale, \"stand-alone\", true);\n              }\n\n              break;\n\n            case 'a': // am/pm marker\n              // NOTE: 0:00 is am, 12:00 is pm\n              replacement = (hours < 12) ? qx.locale.Date.getAmMarker(locale) : qx.locale.Date.getPmMarker(locale);\n              break;\n\n            case 'H': // Hour in day (0-23)\n              replacement = this.__fillNumber(hours, wildcardSize);\n              break;\n\n            case 'k': // Hour in day (1-24)\n              replacement = this.__fillNumber((hours == 0) ? 24 : hours, wildcardSize);\n              break;\n\n            case 'K': // Hour in am/pm (0-11)\n              replacement = this.__fillNumber(hours % 12, wildcardSize);\n              break;\n\n            case 'h': // Hour in am/pm (1-12)\n              replacement = this.__fillNumber(((hours % 12) == 0) ? 12 : (hours % 12), wildcardSize);\n              break;\n\n            case 'm': // Minute in hour\n              replacement = this.__fillNumber(minutes, wildcardSize);\n              break;\n\n            case 's': // Second in minute\n              replacement = this.__fillNumber(seconds, wildcardSize);\n              break;\n\n            case 'S': // Fractional second\n              replacement = this.__fillNumber(ms, 3);\n              if (wildcardSize < replacement.length) {\n                replacement = replacement.substr(0, wildcardSize);\n              } else {\n                while (wildcardSize > replacement.length) {\n                  // if needed, fill the remaining wildcard length with trailing zeros\n                  replacement += \"0\";\n                }\n              }\n              break;\n\n            case 'z': // Time zone\n              if (wildcardSize >= 1 && wildcardSize <= 4)\n              {\n                replacement =\n                \"GMT\" +\n                ((timezoneSign > 0) ? \"-\" : \"+\") +\n                this.__fillNumber(Math.abs(timezoneHours), 2) +\n                \":\" + this.__fillNumber(timezoneMinutes, 2);\n              }\n\n              break;\n\n            case 'Z': // RFC 822 time zone\n              if (wildcardSize >= 1 && wildcardSize <= 3)\n              {\n              replacement =\n                ((timezoneSign > 0) ? \"-\" : \"+\") +\n                this.__fillNumber(Math.abs(timezoneHours), 2) +\n                this.__fillNumber(timezoneMinutes, 2);\n              }\n              else\n              {\n                replacement =\n                \"GMT\" +\n                ((timezoneSign > 0) ? \"-\" : \"+\") +\n                this.__fillNumber(Math.abs(timezoneHours), 2) +\n                \":\" + this.__fillNumber(timezoneMinutes, 2);\n              }\n              break;\n          }\n\n          output += replacement;\n        }\n      }\n\n      return output;\n    },\n\n\n    /**\n     * Parses a date.\n     *\n     * @param dateStr {String} the date to parse.\n     * @return {Date} the parsed date.\n     * @throws {Error} If the format is not well formed or if the date string does not\n     *       match to the format.\n     */\n    parse : function(dateStr)\n    {\n      this.__initParseFeed();\n\n      // Apply the regex\n      var hit = this.__parseFeed.regex.exec(dateStr);\n\n      if (hit == null) {\n        throw new Error(\"Date string '\" + dateStr + \"' does not match the date format: \" + this.__format);\n      }\n\n      // Apply the rules\n      var dateValues =\n      {\n        era         : 1,\n        year        : 1970,\n        quarter     : 1,\n        month       : 0,\n        day         : 1,\n        dayOfYear   : 1,\n        hour        : 0,\n        ispm        : false,\n        weekDay     : 4,\n        weekYear    : 1970,\n        weekOfMonth : 1,\n        weekOfYear  : 1,\n        min         : 0,\n        sec         : 0,\n        ms          : 0\n      };\n\n      var currGroup = 1;\n      var applyWeekYearAfterRule = false;\n      var applyDayOfYearAfterRule = false;\n\n      for (var i=0; i<this.__parseFeed.usedRules.length; i++)\n      {\n        var rule = this.__parseFeed.usedRules[i];\n\n        var value = hit[currGroup];\n\n        if (rule.field != null) {\n          dateValues[rule.field] = parseInt(value, 10);\n        } else {\n          rule.manipulator(dateValues, value, rule.pattern);\n        }\n\n        if(rule.pattern == \"Y+\")\n        {\n          var yearRuleApplied = false;\n          for(var k=0; k<this.__parseFeed.usedRules.length; k++) {\n            if(this.__parseFeed.usedRules[k].pattern == 'y+'){\n              yearRuleApplied = true;\n              break;\n            }\n          }\n          if(!yearRuleApplied) {\n            applyWeekYearAfterRule = true;\n          }\n        }\n\n        if(rule.pattern.indexOf(\"D\") != -1)\n        {\n          var dayRuleApplied = false;\n          for(var k=0; k<this.__parseFeed.usedRules.length; k++) {\n            if(this.__parseFeed.usedRules[k].pattern.indexOf(\"d\") != -1){\n              dayRuleApplied = true;\n              break;\n            }\n          }\n          if(!dayRuleApplied) {\n            applyDayOfYearAfterRule = true;\n          }\n        }\n\n        currGroup += (rule.groups == null) ? 1 : rule.groups;\n      }\n      if(applyWeekYearAfterRule) {\n        dateValues.year = this.__getYearFromWeekYearAndMonth(dateValues.weekYear,dateValues.month,dateValues.day);\n      }\n\n      if(applyDayOfYearAfterRule)\n      {\n        var dayAndMonth = this.__getMonthAndDayFromDayOfYear(dateValues.dayOfYear, dateValues.year);\n        dateValues.month = dayAndMonth.month;\n        dateValues.day = dayAndMonth.day;\n      }\n\n      if(dateValues.era < 0 && (dateValues.year * dateValues.era < 0)) {\n        dateValues.year = dateValues.year * dateValues.era;\n      }\n\n      var date = new Date(dateValues.year, dateValues.month, dateValues.day, (dateValues.ispm) ? (dateValues.hour + 12) : dateValues.hour, dateValues.min, dateValues.sec, dateValues.ms);\n\n      if(this.__UTC) {\n        date = new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds());\n      }\n\n      if (dateValues.month != date.getMonth() || dateValues.year != date.getFullYear()) {\n        throw new Error(\"Error parsing date '\" + dateStr + \"': the value for day or month is too large\");\n      }\n\n      return date;\n    },\n\n\n    /**\n     * Helper method for {@link #format()} and {@link #parse()}.\n     * Parses the date format.\n     *\n     */\n    __initFormatTree : function()\n    {\n      if (this.__formatTree != null) {\n        return;\n      }\n\n      this.__formatTree = [];\n\n      var currWildcardChar;\n      var currWildcardSize = 0;\n      var currLiteral = \"\";\n      var format = this.__format;\n\n      var state = \"default\";\n\n      var i = 0;\n\n      while (i < format.length)\n      {\n        var currChar = format.charAt(i);\n\n        switch(state)\n        {\n          case \"quoted_literal\":\n            // We are now inside a quoted literal\n            // Check whether the current character is an escaped \"'\" character\n            if (currChar == \"'\")\n            {\n              if (i + 1 >= format.length)\n              {\n\n                // this is the last character\n                i++;\n\n                break;\n              }\n\n              var lookAhead = format.charAt(i + 1);\n\n              if (lookAhead == \"'\")\n              {\n                currLiteral += currChar;\n                i++;\n              }\n              else\n              {\n\n                // quoted literal ends\n                i++;\n\n                state = \"unkown\";\n              }\n            }\n            else\n            {\n              currLiteral += currChar;\n              i++;\n            }\n\n            break;\n\n          case \"wildcard\":\n            // Check whether the currChar belongs to that wildcard\n            if (currChar == currWildcardChar)\n            {\n              // It does -> Raise the size\n              currWildcardSize++;\n\n              i++;\n            }\n            else\n            {\n              // It does not -> The current wildcard is done\n              this.__formatTree.push(\n              {\n                type      : \"wildcard\",\n                character : currWildcardChar,\n                size      : currWildcardSize\n              });\n\n              currWildcardChar = null;\n              currWildcardSize = 0;\n              state = \"default\";\n            }\n\n            break;\n\n          default:\n            // We are not (any more) in a wildcard or quoted literal -> Check what's starting here\n            if ((currChar >= 'a' && currChar <= 'z') || (currChar >= 'A' && currChar <= 'Z'))\n            {\n              // This is a letter -> All letters are wildcards\n              // Start a new wildcard\n              currWildcardChar = currChar;\n              state = \"wildcard\";\n            }\n            else if (currChar == \"'\")\n            {\n              if (i + 1 >= format.length)\n              {\n                // this is the last character\n                currLiteral += currChar;\n                i++;\n                break;\n              }\n\n              var lookAhead = format.charAt(i + 1);\n\n              if (lookAhead == \"'\")\n              {\n                currLiteral += currChar;\n                i++;\n              }\n\n              i++;\n              state = \"quoted_literal\";\n            }\n            else\n            {\n              state = \"default\";\n            }\n\n            if (state != \"default\")\n            {\n              // Add the literal\n              if (currLiteral.length > 0)\n              {\n                this.__formatTree.push(\n                {\n                  type : \"literal\",\n                  text : currLiteral\n                });\n\n                currLiteral = \"\";\n              }\n            }\n            else\n            {\n              // This is an unquoted literal -> Add it to the current literal\n              currLiteral += currChar;\n              i++;\n            }\n\n            break;\n        }\n      }\n\n      // Add the last wildcard or literal\n      if (currWildcardChar != null)\n      {\n        this.__formatTree.push(\n        {\n          type      : \"wildcard\",\n          character : currWildcardChar,\n          size      : currWildcardSize\n        });\n      }\n      else if (currLiteral.length > 0)\n      {\n        this.__formatTree.push(\n        {\n          type : \"literal\",\n          text : currLiteral\n        });\n      }\n    },\n\n\n    /**\n     * Initializes the parse feed.\n     *\n     * The parse contains everything needed for parsing: The regular expression\n     * (in compiled and uncompiled form) and the used rules.\n     *\n     * @throws {Error} If the date format is malformed.\n     */\n    __initParseFeed : function()\n    {\n      if (this.__parseFeed != null)\n      {\n        // We already have the parse feed\n        return;\n      }\n\n      var format = this.__format;\n\n      // Initialize the rules\n      this.__initParseRules();\n      this.__initFormatTree();\n\n      // Get the used rules and construct the regex pattern\n      var usedRules = [];\n      var pattern = \"^\";\n\n      for (var atomIdx=0; atomIdx<this.__formatTree.length; atomIdx++)\n      {\n        var currAtom = this.__formatTree[atomIdx];\n\n        if (currAtom.type == \"literal\") {\n          pattern += qx.lang.String.escapeRegexpChars(currAtom.text);\n        }\n        else\n        {\n          // This is a wildcard\n          var wildcardChar = currAtom.character;\n          var wildcardSize = currAtom.size;\n\n          // Get the rule for this wildcard\n          var wildcardRule;\n\n          for (var ruleIdx=0; ruleIdx<this.__parseRules.length; ruleIdx++)\n          {\n            var rule = this.__parseRules[ruleIdx];\n\n            if ( this.__isRuleForWildcard(rule,wildcardChar,wildcardSize))\n            {\n              // We found the right rule for the wildcard\n              wildcardRule = rule;\n              break;\n            }\n          }\n\n          // Check the rule\n          if (wildcardRule == null)\n          {\n            // We have no rule for that wildcard -> Malformed date format\n            var wildcardStr = \"\";\n\n            for (var i=0; i<wildcardSize; i++) {\n              wildcardStr += wildcardChar;\n            }\n\n            throw new Error(\"Malformed date format: \" + format + \". Wildcard \" + wildcardStr + \" is not supported\");\n          }\n          else\n          {\n            // Add the rule to the pattern\n            usedRules.push(wildcardRule);\n            pattern += wildcardRule.regex;\n          }\n        }\n      }\n\n      pattern += \"$\";\n\n      // Create the regex\n      var regex;\n\n      try {\n        regex = new RegExp(pattern);\n      } catch(exc) {\n        throw new Error(\"Malformed date format: \" + format);\n      }\n\n      // Create the this.__parseFeed\n      this.__parseFeed =\n      {\n        regex       : regex,\n        \"usedRules\" : usedRules,\n        pattern     : pattern\n      };\n    },\n\n    /**\n     * Checks whether the rule matches the wildcard or not.\n     * @param rule {Object} the rule we try to match with the wildcard\n     * @param wildcardChar {String} the character in the wildcard\n     * @param wildcardSize {Integer} the number of  wildcardChar characters in the wildcard\n     * @return {Boolean} if the rule matches or not\n     */\n    __isRuleForWildcard : function(rule, wildcardChar, wildcardSize)\n    {\n      if(wildcardChar==='y' && rule.pattern==='y+')\n      {\n        rule.regex = rule.regexFunc(wildcardSize);\n        return true;\n      }\n      else if(wildcardChar==='Y' && rule.pattern==='Y+')\n      {\n        rule.regex = rule.regexFunc(wildcardSize);\n        return true;\n      }\n      else\n      {\n        return wildcardChar == rule.pattern.charAt(0) && wildcardSize == rule.pattern.length;\n      }\n    },\n    /**\n     * Initializes the static parse rules.\n     *\n     */\n    __initParseRules : function()\n    {\n      var DateFormat = qx.util.format.DateFormat;\n      var LString = qx.lang.String;\n\n      if (this.__parseRules != null)\n      {\n        // The parse rules are already initialized\n        return ;\n      }\n\n      var rules = this.__parseRules = [];\n\n      var amMarker = qx.locale.Date.getAmMarker(this.getLocale()).toString() || DateFormat.AM_MARKER;\n      var pmMarker = qx.locale.Date.getPmMarker(this.getLocale()).toString() || DateFormat.PM_MARKER;\n      var locale = this.getLocale();\n\n      var yearManipulator = function(dateValues, value)\n      {\n        value = parseInt(value, 10);\n\n        if(value >= 0)\n        {\n          if (value < DateFormat.ASSUME_YEAR_2000_THRESHOLD) {\n            value += 2000;\n          } else if (value < 100) {\n            value += 1900;\n          }\n        }\n\n        dateValues.year = value;\n      };\n\n      var weekYearManipulator = function(dateValues, value)\n      {\n        value = parseInt(value, 10);\n\n        if(value >= 0)\n        {\n          if (value < DateFormat.ASSUME_YEAR_2000_THRESHOLD) {\n            value += 2000;\n          } else if (value < 100) {\n            value += 1900;\n          }\n        }\n\n        dateValues.weekYear = value;\n      };\n\n      var monthManipulator = function(dateValues, value) {\n        dateValues.month = parseInt(value, 10) - 1;\n      };\n\n      var localWeekDayManipulator = function(dateValues, value) {\n        var startOfWeek = qx.locale.Date.getWeekStart(locale);\n        var dayOfWeek =  (parseInt(value,10) - 1 + startOfWeek) <= 6 ? parseInt(value,10) - 1 + startOfWeek : (parseInt(value,10) - 1 + startOfWeek) -7;\n        dateValues.weekDay = dayOfWeek;\n      };\n\n      var ampmManipulator = function(dateValues, value) {\n        var pmMarker = qx.locale.Date.getPmMarker(locale).toString() || DateFormat.PM_MARKER;\n        dateValues.ispm = (value == pmMarker);\n      };\n\n      var noZeroHourManipulator = function(dateValues, value) {\n        dateValues.hour = parseInt(value, 10) % 24;\n      };\n\n      var noZeroAmPmHourManipulator = function(dateValues, value) {\n        dateValues.hour = parseInt(value, 10) % 12;\n      };\n\n      var ignoreManipulator = function(dateValues, value) {\n        return;\n      };\n\n      var narrowEraNames = ['A', 'B'];\n      var narrowEraNameManipulator = function(dateValues, value) {\n        dateValues.era = value == 'A' ? 1 : -1;\n      };\n\n      var abbrevEraNames = ['AD', 'BC'];\n      var abbrevEraNameManipulator = function(dateValues, value) {\n        dateValues.era = value == 'AD' ? 1 : -1;\n      };\n\n      var fullEraNames = ['Anno Domini', 'Before Christ'];\n      var fullEraNameManipulator = function(dateValues, value) {\n        dateValues.era = value == 'Anno Domini' ? 1 : -1;\n      };\n\n      var abbrevQuarterNames = ['Q1','Q2','Q3','Q4'];\n      var abbrevQuarterManipulator = function(dateValues, value) {\n        dateValues.quarter = abbrevQuarterNames.indexOf(value);\n      };\n\n      var fullQuarterNames = ['1st quarter','2nd quarter','3rd quarter','4th quarter'];\n      var fullQuarterManipulator = function(dateValues, value) {\n        dateValues.quarter = fullQuarterNames.indexOf(value);\n      };\n\n      var cache = {};\n\n      var dateNamesManipulator = function(pattern){\n        var monthPatternLetters = ['L','M'];\n        var dayPatternLetters = ['c', 'e', 'E'];\n        var firstLetterInPattern = pattern.charAt(0);\n        var isMonth = monthPatternLetters.indexOf(firstLetterInPattern)>=0;\n\n        var getContext = function() {\n          var letters = isMonth ? monthPatternLetters : dayPatternLetters;\n          var context = firstLetterInPattern === letters[0] ? \"stand-alone\" : \"format\" ;\n          var patternLength = pattern.length;\n          var lengthName = 'abbreviated';\n          switch(patternLength)\n          {\n            case 4:\n              lengthName = 'wide';\n              break;\n            case 5:\n              lengthName = 'narrow';\n              break;\n            default:\n              lengthName = 'abbreviated';\n          }\n          return [context, lengthName];\n        };\n\n        if(!cache[pattern])\n        {\n          cache[pattern] = {};\n          var context = getContext();\n          var func = isMonth ? qx.locale.Date.getMonthNames : qx.locale.Date.getDayNames;\n          var names = func.call(qx.locale.Date, context[1], locale, context[0], true);\n          for(var i=0, l=names.length; i<l; i++)\n          {\n            names[i] = LString.escapeRegexpChars(names[i].toString());\n          }\n          cache[pattern].data = names;\n          cache[pattern].func = function(dateValues, value)\n          {\n            value = LString.escapeRegexpChars(value);\n            dateValues[isMonth ? 'month' : 'weekDay'] = names.indexOf(value);\n          };\n        }\n\n        return cache[pattern];\n      };\n\n      // Unsupported: F (Day of week in month)\n\n      rules.push(\n      {\n        pattern     : \"y+\",\n        regexFunc       : function(yNumber)\n          {\n            var regex = \"(-*\";\n            for(var i=0;i<yNumber;i++)\n            {\n              regex += \"\\\\d\";\n              if(i===yNumber-1 && i!==1) {\n                regex += \"+?\";\n              }\n            }\n            regex += \")\";\n            return regex;\n          },\n        manipulator : yearManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"Y+\",\n        regexFunc       : function(yNumber)\n          {\n            var regex = \"(-*\";\n            for(var i=0;i<yNumber;i++)\n            {\n              regex += \"\\\\d\";\n              if(i===yNumber-1) {\n                regex += \"+?\";\n              }\n            }\n            regex += \")\";\n            return regex;\n          },\n        manipulator : weekYearManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"G\",\n        regex       : \"(\" + abbrevEraNames.join(\"|\") + \")\",\n        manipulator : abbrevEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"GG\",\n        regex       : \"(\" + abbrevEraNames.join(\"|\") + \")\",\n        manipulator : abbrevEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"GGG\",\n        regex       : \"(\" + abbrevEraNames.join(\"|\") + \")\",\n        manipulator : abbrevEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"GGGG\",\n        regex       : \"(\" + fullEraNames.join(\"|\") + \")\",\n        manipulator : fullEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"GGGGG\",\n        regex       : \"(\" + narrowEraNames.join(\"|\") + \")\",\n        manipulator : narrowEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"Q\",\n        regex       : \"(\\\\d\\\\d*?)\",\n        field : \"quarter\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"QQ\",\n        regex       : \"(\\\\d\\\\d?)\",\n        field : \"quarter\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"QQQ\",\n        regex       : \"(\" + abbrevQuarterNames.join(\"|\") + \")\",\n        manipulator : abbrevQuarterManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"QQQQ\",\n        regex       : \"(\" + fullQuarterNames.join(\"|\") + \")\",\n        manipulator : fullQuarterManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"q\",\n        regex       : \"(\\\\d\\\\d*?)\",\n        field : \"quarter\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"qq\",\n        regex       : \"(\\\\d\\\\d?)\",\n        field : \"quarter\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"qqq\",\n        regex       : \"(\" + abbrevQuarterNames.join(\"|\") + \")\",\n        manipulator : abbrevQuarterManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"qqqq\",\n        regex       : \"(\" + fullQuarterNames.join(\"|\") + \")\",\n        manipulator : fullQuarterManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"M\",\n        regex       : \"(\\\\d\\\\d*?)\",\n        manipulator : monthManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"MM\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : monthManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"MMM\",\n        regex       : \"(\" + dateNamesManipulator(\"MMM\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"MMM\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"MMMM\",\n        regex       : \"(\" + dateNamesManipulator(\"MMMM\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"MMMM\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"MMMMM\",\n        regex       : \"(\" + dateNamesManipulator(\"MMMMM\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"MMMMM\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"L\",\n        regex       : \"(\\\\d\\\\d*?)\",\n        manipulator : monthManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"LL\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : monthManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"LLL\",\n        regex       : \"(\" + dateNamesManipulator(\"LLL\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"LLL\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"LLLL\",\n        regex       : \"(\" + dateNamesManipulator(\"LLLL\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"LLLL\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"LLLLL\",\n        regex       : \"(\" + dateNamesManipulator(\"LLLLL\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"LLLLL\").func\n      });\n\n      rules.push(\n      {\n        pattern : \"dd\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"day\"\n      });\n\n      rules.push(\n      {\n        pattern : \"d\",\n        regex   : \"(\\\\d\\\\d*?)\",\n        field   : \"day\"\n      });\n\n      rules.push(\n      {\n        pattern : \"D\",\n        regex   : \"(\\\\d?)\",\n        field   : \"dayOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern : \"DD\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"dayOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern : \"DDD\",\n        regex   : \"(\\\\d\\\\d\\\\d?)\",\n        field   : \"dayOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"E\",\n        regex       : \"(\" + dateNamesManipulator(\"E\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"E\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"EE\",\n        regex       : \"(\" + dateNamesManipulator(\"EE\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"EE\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"EEE\",\n        regex       : \"(\" + dateNamesManipulator(\"EEE\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"EEE\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"EEEE\",\n        regex       : \"(\" + dateNamesManipulator(\"EEEE\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"EEEE\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"EEEEE\",\n        regex       : \"(\" + dateNamesManipulator(\"EEEEE\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"EEEEE\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"e\",\n        regex       : \"(\\\\d?)\",\n        manipulator : localWeekDayManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"ee\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : localWeekDayManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"eee\",\n        regex       : \"(\" + dateNamesManipulator(\"eee\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"eee\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"eeee\",\n        regex       : \"(\" + dateNamesManipulator(\"eeee\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"eeee\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"eeeee\",\n        regex       : \"(\" + dateNamesManipulator(\"eeeee\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"eeeee\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"c\",\n        regex       : \"\\\\d?\",\n        manipulator : localWeekDayManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"ccc\",\n        regex       : \"(\" + dateNamesManipulator(\"ccc\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"ccc\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"cccc\",\n        regex       : \"(\" + dateNamesManipulator(\"cccc\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"cccc\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"ccccc\",\n        regex       : \"(\" + dateNamesManipulator(\"ccccc\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"ccccc\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"a\",\n        regex       : \"(\" + amMarker + \"|\" + pmMarker + \")\",\n        manipulator : ampmManipulator\n      });\n\n      rules.push(\n      {\n        pattern : \"W\",\n        regex   : \"(\\\\d?)\",\n        field   : \"weekOfMonth\"\n      });\n\n      rules.push(\n      {\n        pattern : \"w\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"weekOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern : \"ww\",\n        regex   : \"(\\\\d\\\\d)\",\n        field   : \"weekOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern : \"HH\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"hour\"\n      });\n\n      rules.push(\n      {\n        pattern : \"H\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"hour\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"kk\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : noZeroHourManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"k\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : noZeroHourManipulator\n      });\n\n      rules.push(\n      {\n        pattern : \"KK\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"hour\"\n      });\n\n      rules.push(\n      {\n        pattern : \"K\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"hour\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"hh\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : noZeroAmPmHourManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"h\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : noZeroAmPmHourManipulator\n      });\n\n      rules.push(\n      {\n        pattern : \"mm\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"min\"\n      });\n\n      rules.push(\n      {\n        pattern : \"m\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"min\"\n      });\n\n      rules.push(\n      {\n        pattern : \"ss\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"sec\"\n      });\n\n      rules.push(\n      {\n        pattern : \"s\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"sec\"\n      });\n\n      rules.push(\n      {\n        pattern : \"SSS\",\n        regex   : \"(\\\\d\\\\d?\\\\d?)\",\n        field   : \"ms\"\n      });\n\n      rules.push(\n      {\n        pattern : \"SS\",\n        regex   : \"(\\\\d\\\\d?\\\\d?)\",\n        field   : \"ms\"\n      });\n\n      rules.push(\n      {\n        pattern : \"S\",\n        regex   : \"(\\\\d\\\\d?\\\\d?)\",\n        field   : \"ms\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"Z\",\n        regex       : \"([\\\\+\\\\-]\\\\d\\\\d\\\\d\\\\d)\",\n        manipulator : ignoreManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"z\",\n        regex       : \"(GMT[\\\\+\\\\-]\\\\d\\\\d:\\\\d\\\\d)\",\n        manipulator : ignoreManipulator\n      });\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Mixin for the selection in the data binding controller.\n * It contains an selection property which can be manipulated.\n * Remember to call the method {@link #_addChangeTargetListener} on every\n * change of the target.\n * It is also important that the elements stored in the target e.g. ListItems\n * do have the corresponding model stored as user data under the \"model\" key.\n */\nqx.Mixin.define(\"qx.data.controller.MSelection\",\n{\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    // check for a target property\n    if (!qx.Class.hasProperty(this.constructor, \"target\")) {\n      throw new Error(\"Target property is needed.\");\n    }\n\n    // create a default selection array\n    if (this.getSelection() == null) {\n      this.__ownSelection = new qx.data.Array();\n      this.setSelection(this.__ownSelection);\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties : {\n    /**\n     * Data array containing the selected model objects. This property can be\n     * manipulated directly which means that a push to the selection will also\n     * select the corresponding element in the target.\n     */\n    selection :\n    {\n      check: \"qx.data.Array\",\n      event: \"changeSelection\",\n      apply: \"_applySelection\",\n      init: null\n    }\n  },\n\n\n  events : {\n    /**\n     * This event is fired as soon as the content of the selection property changes, but\n     * this is not equal to the change of the selection of the widget. If the selection\n     * of the widget changes, the content of the array stored in the selection property\n     * changes. This means you have to listen to the change event of the selection array\n     * to get an event as soon as the user changes the selected item.\n     * <pre class=\"javascript\">obj.getSelection().addListener(\"change\", listener, this);</pre>\n     */\n    \"changeSelection\" : \"qx.event.type.Data\",\n\n    /** Fires after the value was modified */\n    \"changeValue\" : \"qx.event.type.Data\"\n  },\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    // private members //\n    // set the semaphore-like variable for the selection change\n    _modifingSelection : 0,\n    __selectionListenerId : null,\n    __selectionArrayListenerId : null,\n    __ownSelection : null,\n\n\n    /**\n     * setValue implements part of the {@link qx.ui.form.IField} interface.\n     *\n     * @param selection {qx.data.IListData|null} List data to select as value.\n     * @return {null} The status of this operation.\n     */\n    setValue : function(selection) {\n      if (null === selection) {\n        this.resetSelection();\n      } else {\n        this.setSelection(selection);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * getValue implements part of the {@link qx.ui.form.IField} interface.\n     *\n     * @return {qx.data.IListData} The current selection.\n     */\n    getValue : function() {\n      return this.getSelection();\n    },\n\n\n    /**\n     * resetValue implements part of the {@link qx.ui.form.IField} interface.\n     */\n    resetValue : function() {\n      this.resetSelection();\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n       APPLY METHODS\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Apply-method for setting a new selection array. Only the change listener\n     * will be removed from the old array and added to the new.\n     *\n     * @param value {qx.data.Array} The new data array for the selection.\n     * @param old {qx.data.Array|null} The old data array for the selection.\n     */\n    _applySelection: function(value, old) {\n      // remove the old listener if necessary\n      if (this.__selectionArrayListenerId != undefined && old != undefined) {\n        old.removeListenerById(this.__selectionArrayListenerId);\n        this.__selectionArrayListenerId = null;\n      }\n      // add a new change listener to the changeArray\n      if (value) {\n        this.__selectionArrayListenerId = value.addListener(\n          \"change\", this.__changeSelectionArray, this\n        );\n      }\n\n      // apply the new selection\n      this._updateSelection();\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n       EVENT HANDLER\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Event handler for the change of the data array holding the selection.\n     * If a change is in the selection array, the selection update will be\n     * invoked.\n     */\n    __changeSelectionArray: function() {\n      this._updateSelection();\n    },\n\n\n    /**\n     * Event handler for a change in the target selection.\n     * If the selection in the target has changed, the selected model objects\n     * will be found and added to the selection array.\n     */\n    _changeTargetSelection: function() {\n      // dont do anything without a target\n      if (this.getTarget() == null) {\n        return;\n      }\n\n      // if a selection API is supported\n      if (!this.__targetSupportsMultiSelection()\n        && !this.__targetSupportsSingleSelection()) {\n        return;\n      }\n\n      // if __changeSelectionArray is currently working, do nothing\n      if (this._inSelectionModification()) {\n        return;\n      }\n\n      // get both selections\n      var targetSelection = this.getTarget().getSelection();\n      var selection = this.getSelection();\n      if (selection == null) {\n        selection = new qx.data.Array();\n        this.__ownSelection = selection;\n        this.setSelection(selection);\n      }\n\n      // go through the target selection\n      var spliceArgs = [0, selection.getLength()];\n      for (var i = 0; i < targetSelection.length; i++) {\n        var model = targetSelection[i].getModel();\n        if (model !== null) {\n          spliceArgs.push(model);\n        }\n      }\n      // use splice to ensure a correct change event [BUG #4728]\n      selection.splice.apply(selection, spliceArgs).dispose();\n\n      // fire the change event manually\n      this.fireDataEvent(\"changeSelection\", this.getSelection());\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n       SELECTION\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Helper method which should be called by the classes including this\n     * Mixin when the target changes.\n     *\n     * @param value {qx.ui.core.Widget|null} The new target.\n     * @param old {qx.ui.core.Widget|null} The old target.\n     */\n    _addChangeTargetListener: function(value, old) {\n      // remove the old selection listener\n      if (this.__selectionListenerId != undefined && old != undefined) {\n        old.removeListenerById(this.__selectionListenerId);\n      }\n\n      if (value != null) {\n        // if a selection API is supported\n        if (\n          this.__targetSupportsMultiSelection()\n          || this.__targetSupportsSingleSelection()\n        ) {\n          // add a new selection listener\n          this.__selectionListenerId = value.addListener(\n            \"changeSelection\", this._changeTargetSelection, this\n          );\n        }\n      }\n    },\n\n\n    /**\n     * Method for updating the selection. It checks for the case of single or\n     * multi selection and after that checks if the selection in the selection\n     * array is the same as in the target widget.\n     */\n    _updateSelection: function() {\n      // do not update if no target is given\n      if (!this.getTarget() || !this.getSelection()) {\n        return;\n      }\n      // mark the change process in a flag\n      this._startSelectionModification();\n\n      // if its a multi selection target\n      if (this.__targetSupportsMultiSelection()) {\n\n        var targetSelection = [];\n        // go through the selection array\n        for (var i = 0; i < this.getSelection().length; i++) {\n          // store each item\n          var model = this.getSelection().getItem(i);\n          var selectable = this.__getSelectableForModel(model);\n          if (selectable != null) {\n            targetSelection.push(selectable);\n          }\n        }\n        this.getTarget().setSelection(targetSelection);\n\n        // get the selection of the target\n        targetSelection = this.getTarget().getSelection();\n        // get all items selected in the list\n        var targetSelectionItems = [];\n        for (var i = 0; i < targetSelection.length; i++) {\n          targetSelectionItems[i] = targetSelection[i].getModel();\n        }\n\n        // go through the controller selection\n        for (var i = this.getSelection().length - 1; i >= 0; i--) {\n          // if the item in the controller selection is not selected in the list\n          if (!targetSelectionItems.includes(this.getSelection().getItem(i))) {\n            // remove the current element and get rid of the return array\n            this.getSelection().splice(i, 1).dispose();\n          }\n        }\n\n      // if its a single selection target\n      } else if (this.__targetSupportsSingleSelection()) {\n        // get the model which should be selected\n        var item = this.getSelection().getItem(this.getSelection().length - 1);\n        if (item !== undefined) {\n          // select the last selected item (old selection will be removed anyway)\n          this.__selectItem(item);\n          // remove the other items from the selection data array and get\n          // rid of the return array\n          this.getSelection().splice(\n            0, this.getSelection().getLength() - 1\n          ).dispose();\n        } else {\n          // if there is no item to select (e.g. new model set [BUG #4125]),\n          // reset the selection\n          this.getTarget().resetSelection();\n        }\n\n      }\n\n      // reset the changing flag\n      this._endSelectionModification();\n      this.fireDataEvent(\"changeValue\", this.getSelection());\n    },\n\n\n    /**\n     * Helper-method returning true, if the target supports multi selection.\n     * @return {Boolean} true, if the target supports multi selection.\n     */\n    __targetSupportsMultiSelection: function() {\n      var targetClass = this.getTarget().constructor;\n      return qx.Class.implementsInterface(targetClass, qx.ui.core.IMultiSelection);\n    },\n\n\n    /**\n     * Helper-method returning true, if the target supports single selection.\n     * @return {Boolean} true, if the target supports single selection.\n     */\n    __targetSupportsSingleSelection: function() {\n      var targetClass = this.getTarget().constructor;\n      return qx.Class.implementsInterface(targetClass, qx.ui.core.ISingleSelection);\n    },\n\n\n    /**\n     * Internal helper for selecting an item in the target. The item to select\n     * is defined by a given model item.\n     *\n     * @param item {qx.core.Object} A model element.\n     */\n    __selectItem: function(item) {\n      var selectable = this.__getSelectableForModel(item);\n      // if no selectable could be found, just return\n      if (selectable == null) {\n        return;\n      }\n      // if the target is multi selection able\n      if (this.__targetSupportsMultiSelection()) {\n        // select the item in the target\n        this.getTarget().addToSelection(selectable);\n      // if the target is single selection able\n      } else if (this.__targetSupportsSingleSelection()) {\n        this.getTarget().setSelection([selectable]);\n      }\n    },\n\n\n    /**\n     * Returns the list item storing the given model in its model property.\n     *\n     * @param model {var} The representing model of a selectable.\n     * @return {Object|null} List item or <code>null</code> if none was found\n     */\n    __getSelectableForModel : function(model)\n    {\n      // get all list items\n      var children = this.getTarget().getSelectables(true);\n\n      // go through all children and search for the child to select\n      for (var i = 0; i < children.length; i++) {\n        if (children[i].getModel() == model) {\n          return children[i];\n        }\n      }\n      // if no selectable was found\n      return null;\n    },\n\n\n    /**\n     * Helper-Method signaling that currently the selection of the target is\n     * in change. That will block the change of the internal selection.\n     * {@link #_endSelectionModification}\n     */\n    _startSelectionModification: function() {\n      this._modifingSelection++;\n    },\n\n\n    /**\n     * Helper-Method signaling that the internal changing of the targets\n     * selection is over.\n     * {@link #_startSelectionModification}\n     */\n    _endSelectionModification: function() {\n      this._modifingSelection > 0 ? this._modifingSelection-- : null;\n    },\n\n\n    /**\n     * Helper-Method for checking the state of the selection modification.\n     * {@link #_startSelectionModification}\n     * {@link #_endSelectionModification}\n     * @return {Boolean} <code>true</code> if selection modification is active\n     */\n    _inSelectionModification: function() {\n      return this._modifingSelection > 0;\n    }\n\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    if (this.__ownSelection) {\n      this.__ownSelection.dispose();\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n\n/**\n * <h2>List Controller</h2>\n *\n * *General idea*\n * The list controller is responsible for synchronizing every list like widget\n * with a data array. It does not matter if the array contains atomic values\n * like strings of complete objects where one property holds the value for\n * the label and another property holds the icon url. You can even use converters\n * that make the label show a text corresponding to the icon, by binding both\n * label and icon to the same model property and converting one of them.\n *\n * *Features*\n *\n * * Synchronize the model and the target\n * * Label and icon are bindable\n * * Takes care of the selection\n * * Passes on the options used by {@link qx.data.SingleValueBinding#bind}\n *\n * *Usage*\n *\n * As model, only {@link qx.data.Array}s do work. The currently supported\n * targets are\n *\n * * {@link qx.ui.form.SelectBox}\n * * {@link qx.ui.form.List}\n * * {@link qx.ui.form.ComboBox}\n *\n * All the properties like model, target or any property path is bindable.\n * Especially the model is nice to bind to another selection for example.\n * The controller itself can only work if it has a model and a target set. The\n * rest of the properties may be empty.\n *\n * *Cross reference*\n *\n * * If you want to bind single values, use {@link qx.data.controller.Object}\n * * If you want to bind a tree widget, use {@link qx.data.controller.Tree}\n * * If you want to bind a form widget, use {@link qx.data.controller.Form}\n */\nqx.Class.define(\"qx.data.controller.List\",\n{\n  extend : qx.core.Object,\n  include: qx.data.controller.MSelection,\n  implement : qx.data.controller.ISelection,\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param model {qx.data.Array?null} The array containing the data.\n   *\n   * @param target {qx.ui.core.Widget?null} The widget which should show the\n   *   ListItems.\n   *\n   * @param labelPath {String?null} If the model contains objects, the labelPath\n   *   is the path reference to the property in these objects which should be\n   *   shown as label.\n   */\n  construct : function(model, target, labelPath)\n  {\n    this.base(arguments);\n\n    // lookup table for filtering and sorting\n    this.__lookupTable = [];\n\n    // register for bound target properties and onUpdate methods\n    // from the binding options\n    this.__boundProperties = [];\n    this.__boundPropertiesReverse = [];\n    this.__onUpdate = {};\n\n    if (labelPath != null) {\n      this.setLabelPath(labelPath);\n    }\n    if (model != null) {\n      this.setModel(model);\n    }\n    if (target != null) {\n      this.setTarget(target);\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** Data array containing the data which should be shown in the list. */\n    model :\n    {\n      check: \"qx.data.IListData\",\n      apply: \"_applyModel\",\n      event: \"changeModel\",\n      nullable: true,\n      dereference: true\n    },\n\n\n    /** The target widget which should show the data. */\n    target :\n    {\n      apply: \"_applyTarget\",\n      event: \"changeTarget\",\n      nullable: true,\n      init: null,\n      dereference: true\n    },\n\n\n    /**\n     * The path to the property which holds the information that should be\n     * shown as a label. This is only needed if objects are stored in the model.\n     */\n    labelPath :\n    {\n      check: \"String\",\n      apply: \"_applyLabelPath\",\n      nullable: true\n    },\n\n\n    /**\n     * The path to the property which holds the information that should be\n     * shown as an icon. This is only needed if objects are stored in the model\n     * and if the icon should be shown.\n     */\n    iconPath :\n    {\n      check: \"String\",\n      apply: \"_applyIconPath\",\n      nullable: true\n    },\n\n\n    /**\n     * A map containing the options for the label binding. The possible keys\n     * can be found in the {@link qx.data.SingleValueBinding} documentation.\n     */\n    labelOptions :\n    {\n      apply: \"_applyLabelOptions\",\n      nullable: true\n    },\n\n\n    /**\n     * A map containing the options for the icon binding. The possible keys\n     * can be found in the {@link qx.data.SingleValueBinding} documentation.\n     */\n    iconOptions :\n    {\n      apply: \"_applyIconOptions\",\n      nullable: true\n    },\n\n\n    /**\n     * Delegation object, which can have one or more functions defined by the\n     * {@link IControllerDelegate} interface.\n     */\n    delegate :\n    {\n      apply: \"_applyDelegate\",\n      event: \"changeDelegate\",\n      init: null,\n      nullable: true\n    },\n    \n    /**\n     * Whether a special \"null\" value is included in the list\n     */\n    allowNull :\n    {\n      apply: \"_applyAllowNull\",\n      event: \"changeAllowNull\",\n      init: false,\n      nullable: false,\n      check: \"Boolean\"\n    },\n    \n    /**\n     * Title for the special null value entry\n     */\n    nullValueTitle:\n    {\n      apply: \"_applyNullValueTitle\",\n      event: \"changeNullValueTitle\",\n      init: null,\n      nullable: true,\n      check: \"String\"\n    },\n    \n    /**\n     * Icon for the special null value entry\n     */\n    nullValueIcon:\n    {\n      apply: \"_applyNullValueIcon\",\n      event: \"changeNullValueIcon\",\n      init: null,\n      nullable: true,\n      check: \"String\"\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    // private members\n    __changeModelListenerId : null,\n    __lookupTable : null,\n    __onUpdate : null,\n    __boundProperties : null,\n    __boundPropertiesReverse : null,\n    __syncTargetSelection : null,\n    __syncModelSelection : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n       PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Updates the filter and the target. This could be used if the filter\n     * uses an additional parameter which changes the filter result.\n     */\n    update: function() {\n      this.__changeModelLength();\n      this.__renewBindings();\n\n      this._updateSelection();\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n       APPLY METHODS\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * If a new delegate is set, it applies the stored configuration for the\n     * list items to the already created list items once.\n     *\n     * @param value {qx.core.Object|null} The new delegate.\n     * @param old {qx.core.Object|null} The old delegate.\n     */\n    _applyDelegate: function(value, old) {\n      this._setConfigureItem(value, old);\n      this._setFilter(value, old);\n      this._setCreateItem(value, old);\n      this._setBindItem(value, old);\n    },\n\n\n    /**\n     * Apply-method which will be called if the icon options has been changed.\n     * It invokes a renewing of all set bindings.\n     *\n     * @param value {Map|null} The new icon options.\n     * @param old {Map|null} The old icon options.\n     */\n    _applyIconOptions: function(value, old) {\n      this.__renewBindings();\n    },\n\n\n    /**\n     * Apply-method which will be called if the label options has been changed.\n     * It invokes a renewing of all set bindings.\n     *\n     * @param value {Map|null} The new label options.\n     * @param old {Map|null} The old label options.\n     */\n    _applyLabelOptions: function(value, old) {\n      this.__renewBindings();\n    },\n\n\n    /**\n     * Apply-method which will be called if the icon path has been changed.\n     * It invokes a renewing of all set bindings.\n     *\n     * @param value {String|null} The new icon path.\n     * @param old {String|null} The old icon path.\n     */\n    _applyIconPath: function(value, old) {\n      this.__renewBindings();\n    },\n\n\n    /**\n     * Apply-method which will be called if the label path has been changed.\n     * It invokes a renewing of all set bindings.\n     *\n     * @param value {String|null} The new label path.\n     * @param old {String|null} The old label path.\n     */\n    _applyLabelPath: function(value, old) {\n      this.__renewBindings();\n    },\n\n    \n    /**\n     * Apply method for the `allowNull` property \n     */\n    _applyAllowNull: function(value, oldValue) {\n      this.__refreshModel();\n    },\n    \n    /**\n     * Apply method for the `allowNull` property \n     */\n    _applyNullValueTitle: function(value, oldValue) {\n      this.__refreshModel();\n    },\n    \n    /**\n     * Apply method for the `allowNull` property \n     */\n    _applyNullValueIcon: function(value, oldValue) {\n      this.__refreshModel();\n    },\n\n    /**\n     * Refreshes the model, uses when the model and target are not changing but the appearance\n     * and bindings may need to be updated\n     */\n    __refreshModel: function() {\n      if (this.getModel() && this.getTarget()) {\n        this.update();\n      }\n    },\n\n\n    /**\n     * Apply-method which will be called if the model has been changed. It\n     * removes all the listeners from the old model and adds the needed\n     * listeners to the new model. It also invokes the initial filling of the\n     * target widgets if there is a target set.\n     *\n     * @param value {qx.data.Array|null} The new model array.\n     * @param old {qx.data.Array|null} The old model array.\n     */\n    _applyModel: function(value, old) {\n      // remove the old listener\n      if (old != undefined) {\n        if (this.__changeModelListenerId != undefined) {\n          old.removeListenerById(this.__changeModelListenerId);\n        }\n      }\n\n      // erase the selection if there is something selected\n      if (this.getSelection() != undefined && this.getSelection().length > 0) {\n        this.getSelection().splice(0, this.getSelection().length).dispose();\n      }\n\n      // if a model is set\n      if (value != null) {\n        // add a new listener\n        this.__changeModelListenerId =\n          value.addListener(\"change\", this.__changeModel, this);\n\n        // renew the index lookup table\n        this.__buildUpLookupTable();\n        // check for the new length\n        this.__changeModelLength();\n\n        // as we only change the labels of the items, the selection change event\n        // may be missing so we invoke it here\n        if (old == null) {\n          this._changeTargetSelection();\n        } else {\n          // update the selection asynchronously\n          this.__syncTargetSelection = true;\n          qx.ui.core.queue.Widget.add(this);\n        }\n      } else {\n        var target = this.getTarget();\n        // if the model is set to null, we should remove all items in the target\n        if (target != null) {\n          // we need to remove the bindings too so use the controller method\n          // for removing items\n          var length = target.getChildren().length;\n          for (var i = 0; i < length; i++) {\n            this.__removeItem();\n          };\n        }\n      }\n    },\n\n\n    /**\n     * Apply-method which will be called if the target has been changed.\n     * When the target changes, every binding needs to be reset and the old\n     * target needs to be cleaned up. If there is a model, the target will be\n     * filled with the data of the model.\n     *\n     * @param value {qx.ui.core.Widget|null} The new target.\n     * @param old {qx.ui.core.Widget|null} The old target.\n     */\n    _applyTarget: function(value, old) {\n      // add a listener for the target change\n      this._addChangeTargetListener(value, old);\n\n      // if there was an old target\n      if (old != undefined) {\n        // remove all element of the old target\n        var removed = old.removeAll();\n        for (var i=0; i<removed.length; i++) {\n          removed[i].destroy();\n        }\n        // remove all bindings\n        this.removeAllBindings();\n      }\n\n      if (value != null) {\n        if (this.getModel() != null) {\n          // add a binding for all elements in the model\n          for (var i = 0; i < this.__lookupTable.length; i++) {\n            this.__addItem(this.__lookup(i));\n          }\n        }\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n       EVENT HANDLER\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Event handler for the change event of the model. If the model changes,\n     * Only the selection needs to be changed. The change of the data will\n     * be done by the binding.\n     */\n    __inChangeModel: false,\n\n    /**\n     * Event handler for the changeModel of the model. Updates the controller.\n     */\n    __changeModel: function() {\n      if (this.__inChangeModel) {\n        return;\n      }\n\n      this.__inChangeModel = true;\n      // need an asynchronous selection update because the bindings have to be\n      // executed to update the selection probably (using the widget queue)\n      // this.__syncTargetSelection = true;\n      this.__syncModelSelection = true;\n      qx.ui.core.queue.Widget.add(this);\n\n      // update on filtered lists... (bindings need to be renewed)\n      this.update();\n      this.__inChangeModel = false;\n    },\n\n\n    /**\n     * Internal method used to sync the selection. The controller uses the\n     * widget queue to schedule the selection update. An asynchronous handling of\n     * the selection is needed because the bindings (event listeners for the\n     * binding) need to be executed before the selection is updated.\n     * @internal\n     */\n    syncWidget : function()\n    {\n      if (this.__syncTargetSelection) {\n        this._changeTargetSelection();\n      }\n      if (this.__syncModelSelection) {\n        this._updateSelection();\n      }\n      this.__syncModelSelection = this.__syncTargetSelection = null;\n    },\n\n\n    /**\n     * Event handler for the changeLength of the model. If the length changes\n     * of the model, either ListItems need to be removed or added to the target.\n     */\n    __changeModelLength: function() {\n      // only do something if there is a target\n      if (this.getTarget() == null) {\n        return;\n      }\n\n      // build up the look up table\n      this.__buildUpLookupTable();\n\n      // get the length\n      var newLength = this.__lookupTable.length;\n      var currentLength = this.getTarget().getChildren().length;\n\n      // if there are more item\n      if (newLength > currentLength) {\n        // add the new elements\n        for (var j = currentLength; j < newLength; j++) {\n          this.__addItem(this.__lookup(j));\n        }\n      // if there are less elements\n      } else if (newLength < currentLength) {\n        // remove the unnecessary items\n        for (var j = currentLength; j > newLength; j--) {\n          this.__removeItem();\n        }\n      }\n\n      // build up the look up table\n      this.__buildUpLookupTable();\n\n      // sync the target selection in case someone deleted a item in\n      // selection mode \"one\" [BUG #4839]\n      this.__syncTargetSelection = true;\n      qx.ui.core.queue.Widget.add(this);\n    },\n\n\n    /**\n     * Helper method which removes and adds the change listener of the\n     * controller to the model. This is sometimes necessary to ensure that the\n     * listener of the controller is executed as the last listener of the chain.\n     */\n    __moveChangeListenerAtTheEnd : function() {\n      var model = this.getModel();\n      // it can be that the bindings has been reset without the model so\n      // maybe there is no model in some scenarios\n      if (model != null) {\n        model.removeListenerById(this.__changeModelListenerId);\n        this.__changeModelListenerId =\n          model.addListener(\"change\", this.__changeModel, this);\n      }\n\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n       ITEM HANDLING\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Creates a ListItem and delegates the configure method if a delegate is\n     * set and the needed function (configureItem) is available.\n     *\n     * @return {qx.ui.form.ListItem} The created and configured ListItem.\n     */\n    _createItem: function() {\n      var delegate = this.getDelegate();\n      // check if a delegate and a create method is set\n      if (delegate != null && delegate.createItem != null) {\n        var item = delegate.createItem();\n      } else {\n        var item = new qx.ui.form.ListItem();\n      }\n\n      // if there is a configure method, invoke it\n      if (delegate != null && delegate.configureItem != null) {\n        delegate.configureItem(item);\n      }\n      return item;\n    },\n\n\n    /**\n     * Internal helper to add ListItems to the target including the creation\n     * of the binding.\n     *\n     * @param index {Number} The index of the item to add.\n     */\n    __addItem: function(index) {\n      // create a new ListItem\n      var listItem = this._createItem();\n      // set up the binding\n      this._bindListItem(listItem, index);\n      // add the ListItem to the target\n      this.getTarget().add(listItem);\n    },\n\n\n    /**\n     * Internal helper to remove ListItems from the target. Also the binding\n     * will be removed properly.\n     */\n    __removeItem: function() {\n      this._startSelectionModification();\n      var children = this.getTarget().getChildren();\n      // get the last binding id\n      var index = children.length - 1;\n      // get the item\n      var oldItem = children[index];\n      this._removeBindingsFrom(oldItem);\n      // remove the item\n      this.getTarget().removeAt(index);\n      oldItem.destroy();\n      this._endSelectionModification();\n    },\n\n\n    /**\n     * Returns all models currently visible by the list. This method is only\n     * useful if you use the filter via the {@link #delegate}.\n     *\n     * @return {qx.data.Array} A new data array container all the models\n     *   which representation items are currently visible.\n     */\n    getVisibleModels : function()\n    {\n      var visibleModels = [];\n      var target = this.getTarget();\n      if (target != null) {\n        var items = target.getChildren();\n        for (var i = 0; i < items.length; i++) {\n          visibleModels.push(items[i].getModel());\n        };\n      }\n\n      return new qx.data.Array(visibleModels);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n       BINDING STUFF\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Sets up the binding for the given ListItem and index.\n     *\n     * @param item {qx.ui.form.ListItem} The internally created and used\n     *   ListItem.\n     * @param index {Number} The index of the ListItem.\n     */\n    _bindListItem: function(item, index) {\n      // -1 is the special, \"null\" value item.  Nothing to bind, just fix the display and model\n      if (index < 0) {\n        item.setLabel(this.getNullValueTitle()||\"\");\n        item.setIcon(this.getNullValueIcon());\n        item.setModel(null);\n        return;\n      }\n      var delegate = this.getDelegate();\n      // if a delegate for creating the binding is given, use it\n      if (delegate != null && delegate.bindItem != null) {\n        delegate.bindItem(this, item, index);\n      // otherwise, try to bind the listItem by default\n      } else {\n        this.bindDefaultProperties(item, index);\n      }\n    },\n\n\n    /**\n     * Helper-Method for binding the default properties (label, icon and model)\n     * from the model to the target widget.\n     *\n     * This method should only be called in the\n     * {@link qx.data.controller.IControllerDelegate#bindItem} function\n     * implemented by the {@link #delegate} property.\n     *\n     * @param item {qx.ui.form.ListItem} The internally created and used\n     *   ListItem.\n     * @param index {Number} The index of the ListItem.\n     */\n    bindDefaultProperties : function(item, index)\n    {\n      // model\n      this.bindProperty(\n        \"\", \"model\", null, item, index\n      );\n\n      // label\n      this.bindProperty(\n        this.getLabelPath(), \"label\", this.getLabelOptions(), item, index\n      );\n\n      // if the iconPath is set\n      if (this.getIconPath() != null) {\n        this.bindProperty(\n          this.getIconPath(), \"icon\", this.getIconOptions(), item, index\n        );\n      }\n    },\n\n\n    /**\n     * Helper-Method for binding a given property from the model to the target\n     * widget.\n     * This method should only be called in the\n     * {@link qx.data.controller.IControllerDelegate#bindItem} function\n     * implemented by the {@link #delegate} property.\n     *\n     * @param sourcePath {String | null} The path to the property in the model.\n     *   If you use an empty string, the whole model item will be bound.\n     * @param targetProperty {String} The name of the property in the target\n     *   widget.\n     * @param options {Map | null} The options used by\n     *   {@link qx.data.SingleValueBinding#bind} to use for the binding.\n     * @param targetWidget {qx.ui.core.Widget} The target widget.\n     * @param index {Number} The index of the current binding.\n     */\n    bindProperty: function(sourcePath, targetProperty, options, targetWidget, index) {\n      // create the options for the binding containing the old options\n      // including the old onUpdate function\n      if (options != null) {\n        var options = qx.lang.Object.clone(options);\n        this.__onUpdate[targetProperty] = options.onUpdate;\n        delete options.onUpdate;\n      } else {\n        options = {};\n        this.__onUpdate[targetProperty] = null;\n      }\n      options.onUpdate =  qx.lang.Function.bind(this._onBindingSet, this, index);\n      options.ignoreConverter = \"model\";\n\n      // build up the path for the binding\n      var bindPath = \"model[\" + index + \"]\";\n      if (sourcePath != null && sourcePath != \"\") {\n        bindPath += \".\" + sourcePath;\n      }\n      // create the binding\n      var id = this.bind(bindPath, targetWidget, targetProperty, options);\n      targetWidget.setUserData(targetProperty + \"BindingId\", id);\n\n      // save the bound property\n      if (!this.__boundProperties.includes(targetProperty)) {\n        this.__boundProperties.push(targetProperty);\n      }\n    },\n\n\n    /**\n     * Helper-Method for binding a given property from the target widget to\n     * the model.\n     * This method should only be called in the\n     * {@link qx.data.controller.IControllerDelegate#bindItem} function\n     * implemented by the {@link #delegate} property.\n     *\n     * @param targetPath {String | null} The path to the property in the model.\n     * @param sourcePath {String} The name of the property in the target.\n     * @param options {Map | null} The options to use by\n     *   {@link qx.data.SingleValueBinding#bind} for the binding.\n     * @param sourceWidget {qx.ui.core.Widget} The source widget.\n     * @param index {Number} The index of the current binding.\n     */\n    bindPropertyReverse: function(\n      targetPath, sourcePath, options, sourceWidget, index\n    ) {\n      // build up the path for the binding\n      var targetBindPath = \"model[\" + index + \"]\";\n      if (targetPath != null && targetPath != \"\") {\n        targetBindPath += \".\" + targetPath;\n      }\n      // create the binding\n      var id = sourceWidget.bind(sourcePath, this, targetBindPath, options);\n      sourceWidget.setUserData(targetPath + \"ReverseBindingId\", id);\n\n      // save the bound property\n      if (!this.__boundPropertiesReverse.includes(targetPath)) {\n        this.__boundPropertiesReverse.push(targetPath);\n      }\n    },\n\n\n    /**\n     * Method which will be called on the invoke of every binding. It takes\n     * care of the selection on the change of the binding.\n     *\n     * @param index {Number} The index of the current binding.\n     * @param sourceObject {qx.core.Object} The source object of the binding.\n     * @param targetObject {qx.core.Object} The target object of the binding.\n     */\n    _onBindingSet: function(index, sourceObject, targetObject) {\n      // ignore the binding set if the model is already set to null\n      if (this.getModel() == null || this._inSelectionModification()) {\n        return;\n      }\n\n      // go through all bound target properties\n      for (var i = 0; i < this.__boundProperties.length; i++) {\n        // if there is an onUpdate for one of it, invoke it\n        if (this.__onUpdate[this.__boundProperties[i]] != null) {\n          this.__onUpdate[this.__boundProperties[i]]();\n        }\n      }\n    },\n\n\n    /**\n     * Internal helper method to remove the binding of the given item.\n     *\n     * @param item {Number} The item of which the binding which should\n     *   be removed.\n     */\n    _removeBindingsFrom: function(item) {\n      // go through all bound target properties\n      for (var  i = 0; i < this.__boundProperties.length; i++) {\n        // get the binding id and remove it, if possible\n        var id = item.getUserData(this.__boundProperties[i] + \"BindingId\");\n        if (id != null) {\n          this.removeBinding(id);\n          item.setUserData(this.__boundProperties[i] + \"BindingId\", null);\n        }\n      }\n      // go through all reverse bound properties\n      for (var i = 0; i < this.__boundPropertiesReverse.length; i++) {\n        // get the binding id and remove it, if possible\n        var id = item.getUserData(this.__boundPropertiesReverse[i] + \"ReverseBindingId\");\n        if (id != null) {\n          item.removeBinding(id);\n          item.getUserData(this.__boundPropertiesReverse[i] + \"ReverseBindingId\", null);\n        }\n      };\n    },\n\n\n    /**\n     * Internal helper method to renew all set bindings.\n     */\n    __renewBindings: function() {\n      // ignore, if no target is set (startup)\n      if (this.getTarget() == null || this.getModel() == null) {\n        return;\n      }\n\n      // get all children of the target\n      var items = this.getTarget().getChildren();\n      // go through all items\n      for (var i = 0; i < items.length; i++) {\n        this._removeBindingsFrom(items[i]);\n        // add the new binding\n        this._bindListItem(items[i], this.__lookup(i));\n      }\n\n      // move the controllers change handler for the model to the end of the\n      // listeners queue\n      this.__moveChangeListenerAtTheEnd();\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n       DELEGATE HELPER\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Helper method for applying the delegate It checks if a configureItem\n     * is set end invokes the initial process to apply the given function.\n     *\n     * @param value {Object} The new delegate.\n     * @param old {Object} The old delegate.\n     */\n    _setConfigureItem: function(value, old) {\n      if (value != null && value.configureItem != null && this.getTarget() != null) {\n        var children = this.getTarget().getChildren();\n        for (var i = 0; i < children.length; i++) {\n          value.configureItem(children[i]);\n        }\n      }\n    },\n\n\n    /**\n     * Helper method for applying the delegate It checks if a bindItem\n     * is set end invokes the initial process to apply the given function.\n     *\n     * @param value {Object} The new delegate.\n     * @param old {Object} The old delegate.\n     */\n    _setBindItem: function(value, old) {\n      // if a new bindItem function is set\n      if (value != null && value.bindItem != null) {\n        // do nothing if the bindItem function did not change\n        if (old != null && old.bindItem != null && value.bindItem == old.bindItem) {\n          return;\n        }\n        this.__renewBindings();\n      }\n    },\n\n\n    /**\n     * Helper method for applying the delegate It checks if a createItem\n     * is set end invokes the initial process to apply the given function.\n     *\n     * @param value {Object} The new delegate.\n     * @param old {Object} The old delegate.\n     */\n    _setCreateItem: function(value, old) {\n      if (\n        this.getTarget() == null ||\n        this.getModel() == null ||\n        value == null ||\n        value.createItem == null\n      ) {\n        return;\n      }\n      this._startSelectionModification();\n\n      // remove all bindings\n      var children = this.getTarget().getChildren();\n      for (var i = 0, l = children.length; i < l; i++) {\n        this._removeBindingsFrom(children[i]);\n      }\n\n      // remove all elements of the target\n      var removed = this.getTarget().removeAll();\n      for (var i=0; i<removed.length; i++) {\n        removed[i].destroy();\n      }\n\n      // update\n      this.update();\n\n      this._endSelectionModification();\n      this._updateSelection();\n    },\n\n\n    /**\n     * Apply-Method for setting the filter. It removes all bindings,\n     * check if the length has changed and adds or removes the items in the\n     * target. After that, the bindings will be set up again and the selection\n     * will be updated.\n     *\n     * @param value {Function|null} The new filter function.\n     * @param old {Function|null} The old filter function.\n     */\n    _setFilter: function(value, old) {\n      // update the filter if it has been removed\n      if ((value == null || value.filter == null) &&\n          (old != null && old.filter != null)) {\n        this.__removeFilter();\n      }\n\n      // check if it is necessary to do anything\n      if (\n        this.getTarget() == null ||\n        this.getModel() == null ||\n        value == null ||\n        value.filter == null\n      ) {\n        return;\n      }\n      // if yes, continue\n\n      this._startSelectionModification();\n\n      // remove all bindings\n      var children = this.getTarget().getChildren();\n      for (var i = 0, l = children.length; i < l; i++) {\n        this._removeBindingsFrom(children[i]);\n      }\n\n      // store the old lookup table\n      var oldTable = this.__lookupTable;\n      // generate a new lookup table\n      this.__buildUpLookupTable();\n\n      // if there are lesser items\n      if (oldTable.length > this.__lookupTable.length) {\n        // remove the unnecessary items\n        for (var j = oldTable.length; j > this.__lookupTable.length; j--) {\n          this.getTarget().removeAt(j - 1).destroy();\n        }\n      // if there are more items\n      } else if (oldTable.length < this.__lookupTable.length) {\n        // add the new elements\n        for (var j = oldTable.length; j < this.__lookupTable.length; j++) {\n          var tempItem = this._createItem();\n          this.getTarget().add(tempItem);\n        }\n      }\n\n      // bind every list item again\n      var listItems = this.getTarget().getChildren();\n      for (var i = 0; i < listItems.length; i++) {\n        this._bindListItem(listItems[i], this.__lookup(i));\n      }\n\n      // move the controllers change handler for the model to the end of the\n      // listeners queue\n      this.__moveChangeListenerAtTheEnd();\n\n      this._endSelectionModification();\n      this._updateSelection();\n    },\n\n\n    /**\n     * This helper is responsible for removing the filter and setting the\n     * controller to a valid state without a filtering.\n     */\n    __removeFilter : function()\n    {\n      // renew the index lookup table\n      this.__buildUpLookupTable();\n      // check for the new length\n      this.__changeModelLength();\n      // renew the bindings\n      this.__renewBindings();\n\n      // need an asynchronous selection update because the bindings have to be\n      // executed to update the selection probably (using the widget queue)\n      this.__syncModelSelection = true;\n      qx.ui.core.queue.Widget.add(this);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n       LOOKUP STUFF\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Helper-Method which builds up the index lookup for the filter feature.\n     * If no filter is set, the lookup table will be a 1:1 mapping.\n     */\n    __buildUpLookupTable: function() {\n      var model = this.getModel();\n      if (model == null) {\n        return;\n      }\n      var delegate = this.getDelegate();\n      if (delegate != null) {\n        var filter = delegate.filter;\n      }\n\n      this.__lookupTable = [];\n      \n      // -1 is a special lookup value, to represent the \"null\" option \n      if (this.isAllowNull()) {\n        this.__lookupTable.push(-1);\n      }\n      for (var i = 0; i < model.getLength(); i++) {\n        if (filter == null || filter(model.getItem(i))) {\n          this.__lookupTable.push(i);\n        }\n      }\n    },\n\n\n    /**\n     * Function for accessing the lookup table.\n     *\n     * @param index {Integer} The index of the lookup table.\n     * @return {Number} Item index from lookup table\n     */\n    __lookup: function(index) {\n      return this.__lookupTable[index];\n    }\n  },\n\n\n\n  /*\n   *****************************************************************************\n      DESTRUCTOR\n   *****************************************************************************\n   */\n\n   destruct : function() {\n     this.__lookupTable = this.__onUpdate = this.__boundProperties = null;\n     this.__boundPropertiesReverse = null;\n\n     // remove yourself from the widget queue\n     qx.ui.core.queue.Widget.remove(this);\n   }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Mixin handling the valid and required properties for the form widgets.\n */\nqx.Mixin.define(\"qx.ui.form.MForm\",\n{\n\n  construct : function()\n  {\n    if (qx.core.Environment.get(\"qx.dynlocale\")) {\n      qx.locale.Manager.getInstance().addListener(\"changeLocale\", this.__onChangeLocale, this);\n    }\n  },\n\n\n  properties : {\n\n    /**\n     * Flag signaling if a widget is valid. If a widget is invalid, an invalid\n     * state will be set.\n     */\n    valid : {\n      check : \"Boolean\",\n      init : true,\n      apply : \"_applyValid\",\n      event : \"changeValid\"\n    },\n\n\n    /**\n     * Flag signaling if a widget is required.\n     */\n    required : {\n      check : \"Boolean\",\n      init : false,\n      event : \"changeRequired\"\n    },\n\n\n    /**\n     * Message which is shown in an invalid tooltip.\n     */\n    invalidMessage : {\n      check : \"String\",\n      init: \"\",\n      event : \"changeInvalidMessage\"\n    },\n\n\n    /**\n     * Message which is shown in an invalid tooltip if the {@link #required} is\n     * set to true.\n     */\n    requiredInvalidMessage : {\n      check : \"String\",\n      nullable : true,\n      event : \"changeInvalidMessage\"\n    }\n  },\n\n\n  members : {\n    // apply method\n    _applyValid: function(value, old) {\n      value ? this.removeState(\"invalid\") : this.addState(\"invalid\");\n    },\n\n\n    /**\n     * Locale change event handler\n     *\n     * @signature function(e)\n     * @param e {Event} the change event\n     */\n    __onChangeLocale : qx.core.Environment.select(\"qx.dynlocale\",\n    {\n      \"true\" : function(e)\n      {\n        // invalid message\n        var invalidMessage = this.getInvalidMessage();\n        if (invalidMessage && invalidMessage.translate) {\n          this.setInvalidMessage(invalidMessage.translate());\n        }\n        // required invalid message\n        var requiredInvalidMessage = this.getRequiredInvalidMessage();\n        if (requiredInvalidMessage && requiredInvalidMessage.translate) {\n          this.setRequiredInvalidMessage(requiredInvalidMessage.translate());\n        }\n      },\n\n      \"false\" : null\n    })\n  },\n\n\n  destruct : function()\n  {\n    if (qx.core.Environment.get(\"qx.dynlocale\")) {\n      qx.locale.Manager.getInstance().removeListener(\"changeLocale\", this.__onChangeLocale, this);\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Form interface for all form widgets which have date as their primary\n * data type like datechooser's.\n */\nqx.Interface.define(\"qx.ui.form.IDateForm\",\n{\n  extend : qx.ui.form.IField,\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /** Fired when the value was modified */\n    \"changeValue\" : \"qx.event.type.Data\"\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      VALUE PROPERTY\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Sets the element's value.\n     *\n     * @param value {Date|null} The new value of the element.\n     */\n    setValue : function(value) {\n      return arguments.length == 1;\n    },\n\n\n    /**\n     * Resets the element's value to its initial value.\n     */\n    resetValue : function() {},\n\n\n    /**\n     * The element's user set value.\n     *\n     * @return {Date|null} The value.\n     */\n    getValue : function() {}\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * A *date field* is like a combo box with the date as popup. As button to\n * open the calendar a calendar icon is shown at the right to the textfield.\n *\n * To be conform with all form widgets, the {@link qx.ui.form.IForm} interface\n * is implemented.\n *\n * The following example creates a date field and sets the current\n * date as selected.\n *\n * <pre class='javascript'>\n * var dateField = new qx.ui.form.DateField();\n * this.getRoot().add(dateField, {top: 20, left: 20});\n * dateField.setValue(new Date());\n * </pre>\n *\n * @childControl list {qx.ui.control.DateChooser} date chooser component\n * @childControl popup {qx.ui.popup.Popup} popup which shows the list control\n * @childControl textfield {qx.ui.form.TextField} text field for manual date entry\n * @childControl button {qx.ui.form.Button} button that opens the list control\n */\nqx.Class.define(\"qx.ui.form.DateField\",\n{\n  extend : qx.ui.core.Widget,\n  include : [\n    qx.ui.core.MRemoteChildrenHandling,\n    qx.ui.form.MForm\n  ],\n  implement : [\n    qx.ui.form.IForm,\n    qx.ui.form.IDateForm\n  ],\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    // set the layout\n    var layout = new qx.ui.layout.HBox();\n    this._setLayout(layout);\n    layout.setAlignY(\"middle\");\n\n    // text field\n    var textField = this._createChildControl(\"textfield\");\n    this._createChildControl(\"button\");\n\n    // register listeners\n    this.addListener(\"tap\", this._onTap, this);\n    this.addListener(\"blur\", this._onBlur, this);\n\n    // forward the focusin and focusout events to the textfield. The textfield\n    // is not focusable so the events need to be forwarded manually.\n    this.addListener(\"focusin\", function(e) {\n      textField.fireNonBubblingEvent(\"focusin\", qx.event.type.Focus);\n    }, this);\n\n    this.addListener(\"focusout\", function(e) {\n      textField.fireNonBubblingEvent(\"focusout\", qx.event.type.Focus);\n    }, this);\n\n    // initializes the DateField with the default format\n    this._setDefaultDateFormat();\n\n    // adds a locale change listener\n    this._addLocaleChangeListener();\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /** Whenever the value is changed this event is fired\n     *\n     *  Event data: The new text value of the field.\n     */\n    \"changeValue\" : \"qx.event.type.Data\"\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n\n    /** The formatter, which converts the selected date to a string. **/\n    dateFormat :\n    {\n      check : \"qx.util.format.DateFormat\",\n      apply : \"_applyDateFormat\"\n    },\n\n    /**\n     * String value which will be shown as a hint if the field is all of:\n     * unset, unfocused and enabled. Set to null to not show a placeholder\n     * text.\n     */\n    placeholder :\n    {\n      check : \"String\",\n      nullable : true,\n      apply : \"_applyPlaceholder\"\n    },\n\n    // overridden\n    appearance :\n    {\n      refine : true,\n      init : \"datefield\"\n    },\n\n    // overridden\n    focusable :\n    {\n      refine : true,\n      init : true\n    },\n\n    // overridden\n    width :\n    {\n      refine : true,\n      init : 120\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    __dateFormat : null,\n    __formatter : null,\n\n    /**\n     * Get the shared default date formatter\n     *\n     * @return {qx.util.format.DateFormat} The shared date formatter\n     */\n    getDefaultDateFormatter : function()\n    {\n      var format = qx.locale.Date.getDateFormat(\"medium\").toString();\n\n      if (format == this.__dateFormat) {\n        return this.__formatter;\n      }\n\n      if (this.__formatter) {\n        this.__formatter.dispose();\n      }\n\n      this.__formatter = new qx.util.format.DateFormat(format, qx.locale.Manager.getInstance().getLocale());\n      this.__dateFormat = format;\n\n      return this.__formatter;\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __localeListenerId : null,\n\n\n    /**\n     * @lint ignoreReferenceField(_forwardStates)\n     */\n    _forwardStates : {\n      focused : true,\n      invalid : true\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROTECTED METHODS\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Sets the default date format which is returned by\n     * {@link #getDefaultDateFormatter}. You can override this method to\n     * define your own default format.\n     */\n    _setDefaultDateFormat : function() {\n      this.setDateFormat(qx.ui.form.DateField.getDefaultDateFormatter());\n    },\n\n\n    /**\n     * Checks for \"qx.dynlocale\" and adds a listener to the locale changes.\n     * On every change, {@link #_setDefaultDateFormat} is called to reinitialize\n     * the format. You can easily override that method to prevent that behavior.\n     */\n    _addLocaleChangeListener : function() {\n      // listen for locale changes\n      if (qx.core.Environment.get(\"qx.dynlocale\"))\n      {\n        this.__localeListenerId =\n          qx.locale.Manager.getInstance().addListener(\"changeLocale\", function() {\n            this._setDefaultDateFormat();\n          }, this);\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC METHODS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n    * This method sets the date, which will be formatted according to\n    * #dateFormat to the date field. It will also select the date in the\n    * calendar popup.\n    *\n    * @param value {Date} The date to set.\n     */\n    setValue : function(value)\n    {\n      // set the date to the textfield\n      var textField = this.getChildControl(\"textfield\");\n      textField.setValue(this.getDateFormat().format(value));\n\n      // set the date in the datechooser\n      var dateChooser = this.getChildControl(\"list\");\n      dateChooser.setValue(value);\n    },\n\n\n    /**\n     * Returns the current set date, parsed from the input-field\n     * corresponding to the {@link #dateFormat}.\n     * If the given text could not be parsed, <code>null</code> will be returned.\n     *\n     * @return {Date} The currently set date.\n     */\n    getValue : function()\n    {\n      // get the value of the textfield\n      var textfieldValue = this.getChildControl(\"textfield\").getValue();\n\n      // return the parsed date\n      try {\n        if (textfieldValue == null || textfieldValue.length == 0) {\n          return null;\n        }\n        return this.getDateFormat().parse(textfieldValue);\n      } catch (ex) {\n        return null;\n      }\n    },\n\n\n    /**\n     * Resets the DateField. The textfield will be empty and the datechooser\n     * will also have no selection.\n     */\n    resetValue: function()\n    {\n      // set the date to the textfield\n      var textField = this.getChildControl(\"textfield\");\n      textField.setValue(\"\");\n\n      // set the date in the datechooser\n      var dateChooser = this.getChildControl(\"list\");\n      dateChooser.setValue(null);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LIST STUFF\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Shows the date chooser popup.\n     */\n    open : function()\n    {\n      var popup = this.getChildControl(\"popup\");\n\n      popup.placeToWidget(this, true);\n      popup.show();\n    },\n\n\n    /**\n     * Hides the date chooser popup.\n     */\n    close : function() {\n      this.getChildControl(\"popup\").hide();\n    },\n\n\n    /**\n     * Toggles the date chooser popup visibility.\n     */\n    toggle : function()\n    {\n      var isListOpen = this.getChildControl(\"popup\").isVisible();\n      if (isListOpen) {\n        this.close();\n      } else {\n        this.open();\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY APPLY METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply routine\n    _applyDateFormat : function(value, old)\n    {\n      // if old is undefined or null do nothing\n      if (!old) {\n        return;\n      }\n\n      // get the date with the old date format\n      try\n      {\n        var textfield = this.getChildControl(\"textfield\");\n        var dateStr = textfield.getValue();\n        if (dateStr != null) {\n          var currentDate = old.parse(dateStr);\n          textfield.setValue(value.format(currentDate));\n        }\n      }\n      catch (ex) {\n        // do nothing if the former date could not be parsed\n      }\n    },\n\n\n    // property apply routine\n    _applyPlaceholder : function(value, old) {\n      this.getChildControl(\"textfield\").setPlaceholder(value);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET API\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _createChildControlImpl : function(id, hash)\n    {\n      var control;\n\n      switch(id)\n      {\n        case \"textfield\":\n          control = new qx.ui.form.TextField();\n          control.setFocusable(false);\n          control.addState(\"inner\");\n          control.addListener(\"changeValue\", this._onTextFieldChangeValue, this);\n          control.addListener(\"blur\", this.close, this);\n          this._add(control, {flex: 1});\n          break;\n\n        case \"button\":\n          control = new qx.ui.form.Button();\n          control.setFocusable(false);\n          control.setKeepActive(true);\n          control.addState(\"inner\");\n          control.addListener(\"execute\", this.toggle, this);\n          this._add(control);\n          break;\n\n        case \"list\":\n          control = new qx.ui.control.DateChooser();\n          control.setFocusable(false);\n          control.setKeepFocus(true);\n          control.addListener(\"execute\", this._onChangeDate, this);\n          break;\n\n        case \"popup\":\n          control = new qx.ui.popup.Popup(new qx.ui.layout.VBox);\n          control.setAutoHide(false);\n          control.add(this.getChildControl(\"list\"));\n          control.addListener(\"pointerup\", this._onChangeDate, this);\n          control.addListener(\"changeVisibility\", this._onPopupChangeVisibility, this);\n          break;\n      }\n\n      return control || this.base(arguments, id);\n    },\n\n\n\n\n   /*\n   ---------------------------------------------------------------------------\n     EVENT LISTENERS\n   ---------------------------------------------------------------------------\n   */\n\n   /**\n    * Handler method which handles the tap on the calender popup.\n    *\n    * @param e {qx.event.type.Pointer} The pointer event.\n    */\n    _onChangeDate : function(e)\n    {\n      var textField = this.getChildControl(\"textfield\");\n\n      var selectedDate = this.getChildControl(\"list\").getValue();\n\n      textField.setValue(this.getDateFormat().format(selectedDate));\n      this.close();\n    },\n\n\n    /**\n     * Toggles the popup's visibility.\n     *\n     * @param e {qx.event.type.Pointer} Pointer tap event\n     */\n    _onTap : function(e) {\n      this.close();\n    },\n\n\n    /**\n     * Handler for the blur event of the current widget.\n     *\n     * @param e {qx.event.type.Focus} The blur event.\n     */\n    _onBlur : function(e) {\n      this.close();\n    },\n\n\n    /**\n     * Handler method which handles the key press. It forwards all key event\n     * to the opened date chooser except the escape key event. Escape closes\n     * the popup.\n     * If the list is cloned, all key events will not be processed further.\n     *\n     * @param e {qx.event.type.KeySequence} Keypress event\n     */\n    _onKeyPress : function(e)\n    {\n      // get the key identifier\n      var iden = e.getKeyIdentifier();\n      if (iden == \"Down\" && e.isAltPressed())\n      {\n        this.toggle();\n        e.stopPropagation();\n        return;\n      }\n\n      // if the popup is closed, ignore all\n      var popup = this.getChildControl(\"popup\");\n      if (popup.getVisibility() == \"hidden\") {\n        return;\n      }\n\n      // hide the list always on escape\n      if (iden == \"Escape\")\n      {\n        this.close();\n        e.stopPropagation();\n        return;\n      }\n\n      // Stop navigation keys when popup is open\n      if (iden === \"Left\" || iden === \"Right\" || iden === \"Down\" || iden === \"Up\") {\n        e.preventDefault();\n      }\n\n      // forward the rest of the events to the date chooser\n      this.getChildControl(\"list\").handleKeyPress(e);\n    },\n\n\n    /**\n     * Redirects changeVisibility event from the list to this widget.\n     *\n     * @param e {qx.event.type.Data} Property change event\n     */\n    _onPopupChangeVisibility : function(e)\n    {\n      e.getData() == \"visible\" ? this.addState(\"popupOpen\") : this.removeState(\"popupOpen\");\n\n      // Synchronize the chooser with the current value on every\n      // opening of the popup. This is needed when the value has been\n      // modified and not saved yet (e.g. no blur)\n      var popup = this.getChildControl(\"popup\");\n      if (popup.isVisible())\n      {\n        var chooser = this.getChildControl(\"list\");\n        var date = this.getValue();\n        chooser.setValue(date);\n      }\n    },\n\n\n    /**\n     * Reacts on value changes of the text field and syncs the\n     * value to the combobox.\n     *\n     * @param e {qx.event.type.Data} Change event\n     */\n    _onTextFieldChangeValue : function(e)\n    {\n      // Apply to popup\n      var date = this.getValue();\n      if (date != null)\n      {\n        var list = this.getChildControl(\"list\");\n        list.setValue(date);\n      }\n\n      // Fire event\n      this.fireDataEvent(\"changeValue\", this.getValue());\n    },\n\n\n    /**\n     * Checks if the textfield of the DateField is empty.\n     *\n     * @return {Boolean} True, if the textfield of the DateField is empty.\n     */\n    isEmpty: function()\n    {\n      var value = this.getChildControl(\"textfield\").getValue();\n      return value == null || value == \"\";\n    },\n\n    // overridden\n    focus : function()\n    {\n      this.base(arguments);\n      this.getChildControl(\"textfield\").getFocusElement().focus();\n    }\n  },\n\n\n  destruct : function() {\n    // listen for locale changes\n    if (qx.core.Environment.get(\"qx.dynlocale\"))\n    {\n      if (this.__localeListenerId) {\n        qx.locale.Manager.getInstance().removeListenerById(this.__localeListenerId);\n      }\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This is a basic form field with common functionality for\n * {@link TextArea} and {@link TextField}.\n *\n * On every keystroke the value is synchronized with the\n * value of the textfield. Value changes can be monitored by listening to the\n * {@link #input} or {@link #changeValue} events, respectively.\n */\nqx.Class.define(\"qx.ui.form.AbstractField\",\n{\n  extend : qx.ui.core.Widget,\n  implement : [\n    qx.ui.form.IStringForm,\n    qx.ui.form.IForm\n  ],\n  include : [\n    qx.ui.form.MForm\n  ],\n  type : \"abstract\",\n\n  statics : {\n    /** Stylesheet needed to style the native placeholder element. */\n    __stylesheet : null,\n\n\n    /**\n     * Adds the CSS rules needed to style the native placeholder element.\n     */\n    __addPlaceholderRules : function() {\n      var engine = qx.core.Environment.get(\"engine.name\");\n      var browser = qx.core.Environment.get(\"browser.name\");\n      var colorManager = qx.theme.manager.Color.getInstance();\n      var color = colorManager.resolve(\"text-placeholder\");\n      var selector;\n\n      if (engine == \"gecko\") {\n        // see https://developer.mozilla.org/de/docs/CSS/:-moz-placeholder for details\n       if (parseFloat(qx.core.Environment.get(\"engine.version\")) >= 19) {\n          selector = \"input::-moz-placeholder, textarea::-moz-placeholder\";\n        } else {\n          selector = \"input:-moz-placeholder, textarea:-moz-placeholder\";\n        }\n        qx.ui.style.Stylesheet.getInstance().addRule(selector, \"color: \" + color + \" !important\");\n      } else if (engine == \"webkit\" && browser != \"edge\") {\n        selector = \"input.qx-placeholder-color::-webkit-input-placeholder, textarea.qx-placeholder-color::-webkit-input-placeholder\";\n        qx.ui.style.Stylesheet.getInstance().addRule(selector, \"color: \" + color);\n      } else if (engine == \"mshtml\" || browser == \"edge\") {\n        var separator = browser == \"edge\" ? \"::\" : \":\";\n        selector = [\"input.qx-placeholder-color\", \"-ms-input-placeholder, textarea.qx-placeholder-color\", \"-ms-input-placeholder\"].join(separator);\n        qx.ui.style.Stylesheet.getInstance().addRule(selector, \"color: \" + color + \" !important\");\n      }\n    }\n  },\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param value {String} initial text value of the input field ({@link #setValue}).\n   */\n  construct : function(value)\n  {\n    this.base(arguments);\n\n    // shortcut for placeholder feature detection\n    this.__useQxPlaceholder = !qx.core.Environment.get(\"css.placeholder\");\n\n    if (value != null) {\n      this.setValue(value);\n    }\n\n    this.getContentElement().addListener(\n      \"change\", this._onChangeContent, this\n    );\n\n    // use qooxdoo placeholder if no native placeholder is supported\n    if (this.__useQxPlaceholder) {\n      // assign the placeholder text after the appearance has been applied\n      this.addListener(\"syncAppearance\", this._syncPlaceholder, this);\n    } else {\n      // add rules for native placeholder color\n      qx.ui.form.AbstractField.__addPlaceholderRules();\n      // add a class to the input to restrict the placeholder color\n      this.getContentElement().addClass(\"qx-placeholder-color\");\n    }\n\n    // translation support\n    if (qx.core.Environment.get(\"qx.dynlocale\")) {\n      qx.locale.Manager.getInstance().addListener(\n        \"changeLocale\", this._onChangeLocale, this\n      );\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /**\n     * The event is fired on every keystroke modifying the value of the field.\n     *\n     * The method {@link qx.event.type.Data#getData} returns the\n     * current value of the text field.\n     */\n    \"input\" : \"qx.event.type.Data\",\n\n\n    /**\n     * The event is fired each time the text field looses focus and the\n     * text field values has changed.\n     *\n     * If you change {@link #liveUpdate} to true, the changeValue event will\n     * be fired after every keystroke and not only after every focus loss. In\n     * that mode, the changeValue event is equal to the {@link #input} event.\n     *\n     * The method {@link qx.event.type.Data#getData} returns the\n     * current text value of the field.\n     */\n    \"changeValue\" : \"qx.event.type.Data\"\n  },\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /**\n     * Alignment of the text\n     */\n    textAlign :\n    {\n      check : [ \"left\", \"center\", \"right\" ],\n      nullable : true,\n      themeable : true,\n      apply : \"_applyTextAlign\"\n    },\n\n\n    /** Whether the field is read only */\n    readOnly :\n    {\n      check : \"Boolean\",\n      apply : \"_applyReadOnly\",\n      event : \"changeReadOnly\",\n      init : false\n    },\n\n\n    // overridden\n    selectable :\n    {\n      refine : true,\n      init : true\n    },\n\n\n    // overridden\n    focusable :\n    {\n      refine : true,\n      init : true\n    },\n\n    /** Maximal number of characters that can be entered in the TextArea. */\n    maxLength :\n    {\n      apply : \"_applyMaxLength\",\n      check : \"PositiveInteger\",\n      init : Infinity\n    },\n\n    /**\n     * Whether the {@link #changeValue} event should be fired on every key\n     * input. If set to true, the changeValue event is equal to the\n     * {@link #input} event.\n     */\n    liveUpdate :\n    {\n      check : \"Boolean\",\n      init : false\n    },\n\n    /**\n     * String value which will be shown as a hint if the field is all of:\n     * unset, unfocused and enabled. Set to null to not show a placeholder\n     * text.\n     */\n    placeholder :\n    {\n      check : \"String\",\n      nullable : true,\n      apply : \"_applyPlaceholder\"\n    },\n\n\n    /**\n     * RegExp responsible for filtering the value of the textfield. the RegExp\n     * gives the range of valid values.\n     * Note: The regexp specified is applied to each character in turn, \n     * NOT to the entire string. So only regular expressions matching a \n     * single character make sense in the context.\n     * The following example only allows digits in the textfield.\n     * <pre class='javascript'>field.setFilter(/[0-9]/);</pre>\n     */\n    filter :\n    {\n      check : \"RegExp\",\n      nullable : true,\n      init : null\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __nullValue : true,\n    _placeholder : null,\n    __oldValue : null,\n    __oldInputValue : null,\n    __useQxPlaceholder : true,\n    __font : null,\n    __webfontListenerId : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET API\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    getFocusElement : function() {\n      var el = this.getContentElement();\n      if (el) {\n        return el;\n      }\n    },\n\n\n    /**\n     * Creates the input element. Derived classes may override this\n     * method, to create different input elements.\n     *\n     * @return {qx.html.Input} a new input element.\n     */\n    _createInputElement : function() {\n      return new qx.html.Input(\"text\");\n    },\n\n\n    // overridden\n    renderLayout : function(left, top, width, height)\n    {\n      var updateInsets = this._updateInsets;\n      var changes = this.base(arguments, left, top, width, height);\n\n      // Directly return if superclass has detected that no\n      // changes needs to be applied\n      if (!changes) {\n        return;\n      }\n\n      var inner = changes.size || updateInsets;\n      var pixel = \"px\";\n\n      if (inner || changes.local || changes.margin) {\n        var innerWidth = width;\n        var innerHeight = height;\n      }\n\n      var input = this.getContentElement();\n\n      // we don't need to update positions on native placeholders\n      if (updateInsets && this.__useQxPlaceholder)\n      {\n        if (this.__useQxPlaceholder) {\n          var insets = this.getInsets();\n          this._getPlaceholderElement().setStyles({\n            paddingTop : insets.top + pixel,\n            paddingRight : insets.right + pixel,\n            paddingBottom : insets.bottom + pixel,\n            paddingLeft : insets.left + pixel\n          });\n        }\n      }\n\n      if (inner || changes.margin)\n      {\n        // we don't need to update dimensions on native placeholders\n        if (this.__useQxPlaceholder) {\n          var insets = this.getInsets();\n          this._getPlaceholderElement().setStyles({\n            \"width\": (innerWidth - insets.left - insets.right) + pixel,\n            \"height\": (innerHeight - insets.top - insets.bottom) + pixel\n          });\n        }\n\n        input.setStyles({\n          \"width\": innerWidth + pixel,\n          \"height\": innerHeight + pixel\n        });\n\n        this._renderContentElement(innerHeight, input);\n\n      }\n\n      if (changes.position) {\n        if (this.__useQxPlaceholder) {\n          this._getPlaceholderElement().setStyles({\n            \"left\": left + pixel,\n            \"top\": top + pixel\n          });\n        }\n      }\n    },\n\n\n    /**\n     * Hook into {@link qx.ui.form.AbstractField#renderLayout} method.\n     * Called after the contentElement has a width and an innerWidth.\n     *\n     * Note: This was introduced to fix BUG#1585\n     *\n     * @param innerHeight {Integer} The inner height of the element.\n     * @param element {Element} The element.\n     */\n    _renderContentElement : function(innerHeight, element) {\n      //use it in child classes\n    },\n\n\n    // overridden\n    _createContentElement : function()\n    {\n      // create and add the input element\n      var el = this._createInputElement();\n\n      // initialize the html input\n      el.setSelectable(this.getSelectable());\n      el.setEnabled(this.getEnabled());\n\n      // Add listener for input event\n      el.addListener(\"input\", this._onHtmlInput, this);\n\n      // Disable HTML5 spell checking\n      el.setAttribute(\"spellcheck\", \"false\");\n      el.addClass(\"qx-abstract-field\");\n\n      // IE8 in standard mode needs some extra love here to receive events.\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\") &&\n        (qx.core.Environment.get(\"browser.documentmode\") == 8)) {\n        el.setStyles({\n          backgroundImage: \"url(\" + qx.util.ResourceManager.getInstance().toUri(\"qx/static/blank.gif\") + \")\"\n        });\n      }\n\n      return el;\n    },\n\n\n    // overridden\n    _applyEnabled : function(value, old)\n    {\n      this.base(arguments, value, old);\n\n      this.getContentElement().setEnabled(value);\n\n      if (this.__useQxPlaceholder) {\n        if (value) {\n          this._showPlaceholder();\n        } else {\n          this._removePlaceholder();\n        }\n      } else {\n        var input = this.getContentElement();\n        // remove the placeholder on disabled input elements\n        input.setAttribute(\"placeholder\", value ? this.getPlaceholder() : \"\");\n      }\n    },\n\n\n    // default text sizes\n    /**\n     * @lint ignoreReferenceField(__textSize)\n     */\n    __textSize :\n    {\n      width : 16,\n      height : 16\n    },\n\n\n    // overridden\n    _getContentHint : function()\n    {\n      return {\n        width : this.__textSize.width * 10,\n        height : this.__textSize.height || 16\n      };\n    },\n\n\n    // overridden\n    _applyFont : function(value, old)\n    {\n      if (old && this.__font && this.__webfontListenerId) {\n        this.__font.removeListenerById(this.__webfontListenerId);\n        this.__webfontListenerId = null;\n      }\n\n      // Apply\n      var styles;\n      if (value)\n      {\n        this.__font = qx.theme.manager.Font.getInstance().resolve(value);\n        if (this.__font instanceof qx.bom.webfonts.WebFont) {\n          this.__webfontListenerId = this.__font.addListener(\"changeStatus\", this._onWebFontStatusChange, this);\n        }\n        styles = this.__font.getStyles();\n      }\n      else\n      {\n        styles = qx.bom.Font.getDefaultStyles();\n      }\n\n      // check if text color already set - if so this local value has higher priority\n      if (this.getTextColor() != null) {\n        delete styles[\"color\"];\n      }\n\n      // apply the font to the content element\n      // IE 8 - 10 (but not 11 Preview) will ignore the lineHeight value\n      // unless it's applied directly.\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 11)\n      {\n        qx.html.Element.flush();\n        this.getContentElement().setStyles(styles, true);\n      } else {\n        this.getContentElement().setStyles(styles);\n      }\n\n      // the font will adjust automatically on native placeholders\n      if (this.__useQxPlaceholder) {\n        // don't apply the color to the placeholder\n        delete styles[\"color\"];\n        // apply the font to the placeholder\n        this._getPlaceholderElement().setStyles(styles);\n      }\n\n      // Compute text size\n      if (value) {\n        this.__textSize = qx.bom.Label.getTextSize(\"A\", styles);\n      } else {\n        delete this.__textSize;\n      }\n\n      // Update layout\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    // overridden\n    _applyTextColor : function(value, old)\n    {\n      if (value) {\n        this.getContentElement().setStyle(\n          \"color\", qx.theme.manager.Color.getInstance().resolve(value)\n        );\n      } else {\n        this.getContentElement().removeStyle(\"color\");\n      }\n    },\n\n\n    // property apply\n    _applyMaxLength : function(value, old) {\n      if (value) {\n        this.getContentElement().setAttribute(\"maxLength\", value);\n      } else {\n        this.getContentElement().removeAttribute(\"maxLength\");\n      }\n    },\n\n\n    // overridden\n    tabFocus : function() {\n      this.base(arguments);\n\n      this.selectAllText();\n    },\n\n    /**\n     * Returns the text size.\n     * @return {Map} The text size.\n     */\n    _getTextSize : function() {\n      return this.__textSize;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENTS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Event listener for native input events. Redirects the event\n     * to the widget. Also checks for the filter and max length.\n     *\n     * @param e {qx.event.type.Data} Input event\n     */\n    _onHtmlInput : function(e)\n    {\n      var value = e.getData();\n      var fireEvents = true;\n\n      this.__nullValue = false;\n\n      // value unchanged; Firefox fires \"input\" when pressing ESC [BUG #5309]\n      if (this.__oldInputValue && this.__oldInputValue === value) {\n        fireEvents = false;\n      }\n\n      // check for the filter\n      if (this.getFilter() != null)\n      {\n        var filteredValue = this._validateInput(value);\n        if (filteredValue != value)\n        {\n          fireEvents = this.__oldInputValue !== filteredValue;\n          value = filteredValue;\n          this.getContentElement().setValue(value);\n        }\n      }\n      // fire the events, if necessary\n      if (fireEvents)\n      {\n        // store the old input value\n        this.fireDataEvent(\"input\", value, this.__oldInputValue);\n        this.__oldInputValue = value;\n\n        // check for the live change event\n        if (this.getLiveUpdate()) {\n          this.__fireChangeValueEvent(value);\n        }\n      }\n    },\n\n    /**\n     * Triggers text size recalculation after a web font was loaded\n     *\n     * @param ev {qx.event.type.Data} \"changeStatus\" event\n     */\n    _onWebFontStatusChange : function(ev)\n    {\n      if (ev.getData().valid === true) {\n        var styles = this.__font.getStyles();\n        this.__textSize = qx.bom.Label.getTextSize(\"A\", styles);\n        qx.ui.core.queue.Layout.add(this);\n      }\n    },\n\n\n    /**\n     * Handles the firing of the changeValue event including the local cache\n     * for sending the old value in the event.\n     *\n     * @param value {String} The new value.\n     */\n    __fireChangeValueEvent : function(value) {\n      var old = this.__oldValue;\n      this.__oldValue = value;\n      if (old != value) {\n        this.fireNonBubblingEvent(\n          \"changeValue\", qx.event.type.Data, [value, old]\n        );\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TEXTFIELD VALUE API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Sets the value of the textfield to the given value.\n     *\n     * @param value {String} The new value\n     */\n    setValue : function(value)\n    {\n      if (this.isDisposed()) {\n        return null;\n      }\n      \n      // handle null values\n      if (value === null) {\n        // just do nothing if null is already set\n        if (this.__nullValue) {\n          return value;\n        }\n        value = \"\";\n        this.__nullValue = true;\n      } else {\n        this.__nullValue = false;\n        // native placeholders will be removed by the browser\n        if (this.__useQxPlaceholder) {\n          this._removePlaceholder();\n        }\n      }\n\n      if (qx.lang.Type.isString(value))\n      {\n        var elem = this.getContentElement();\n        if (elem.getValue() != value)\n        {\n          var oldValue = elem.getValue();\n          elem.setValue(value);\n          var data = this.__nullValue ? null : value;\n          this.__oldValue = oldValue;\n          this.__fireChangeValueEvent(data);\n          // reset the input value on setValue calls [BUG #6892]\n          this.__oldInputValue = this.__oldValue;\n        }\n        // native placeholders will be shown by the browser\n        if (this.__useQxPlaceholder) {\n          this._showPlaceholder();\n        }\n        return value;\n      }\n      throw new Error(\"Invalid value type: \" + value);\n    },\n\n\n    /**\n     * Returns the current value of the textfield.\n     *\n     * @return {String|null} The current value\n     */\n    getValue : function() {\n      return (this.isDisposed() || this.__nullValue) ? null : this.getContentElement().getValue();\n    },\n\n\n    /**\n     * Resets the value to the default\n     */\n    resetValue : function() {\n      this.setValue(null);\n    },\n\n\n    /**\n     * Event listener for change event of content element\n     *\n     * @param e {qx.event.type.Data} Incoming change event\n     */\n    _onChangeContent : function(e)\n    {\n      this.__nullValue = e.getData() === null;\n      this.__fireChangeValueEvent(e.getData());\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TEXTFIELD SELECTION API\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Returns the current selection.\n     * This method only works if the widget is already created and\n     * added to the document.\n     *\n     * @return {String|null}\n     */\n    getTextSelection : function() {\n      return this.getContentElement().getTextSelection();\n    },\n\n\n    /**\n     * Returns the current selection length.\n     * This method only works if the widget is already created and\n     * added to the document.\n     *\n     * @return {Integer|null}\n     */\n    getTextSelectionLength : function() {\n      return this.getContentElement().getTextSelectionLength();\n    },\n\n\n    /**\n     * Returns the start of the text selection\n     *\n     * @return {Integer|null} Start of selection or null if not available\n     */\n    getTextSelectionStart : function() {\n      return this.getContentElement().getTextSelectionStart();\n    },\n\n\n    /**\n     * Returns the end of the text selection\n     *\n     * @return {Integer|null} End of selection or null if not available\n     */\n    getTextSelectionEnd : function() {\n      return this.getContentElement().getTextSelectionEnd();\n    },\n\n\n    /**\n     * Set the selection to the given start and end (zero-based).\n     * If no end value is given the selection will extend to the\n     * end of the textfield's content.\n     * This method only works if the widget is already created and\n     * added to the document.\n     *\n     * @param start {Integer} start of the selection (zero-based)\n     * @param end {Integer} end of the selection\n     */\n    setTextSelection : function(start, end) {\n      this.getContentElement().setTextSelection(start, end);\n    },\n\n\n    /**\n     * Clears the current selection.\n     * This method only works if the widget is already created and\n     * added to the document.\n     *\n     */\n    clearTextSelection : function() {\n      this.getContentElement().clearTextSelection();\n    },\n\n\n    /**\n     * Selects the whole content\n     *\n     */\n    selectAllText : function() {\n      this.setTextSelection(0);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PLACEHOLDER HELPERS\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    setLayoutParent : function(parent)\n    {\n      this.base(arguments, parent);\n      if (this.__useQxPlaceholder) {\n        if (parent) {\n          this.getLayoutParent().getContentElement().add(this._getPlaceholderElement());\n        } else {\n          var placeholder = this._getPlaceholderElement();\n          placeholder.getParent().remove(placeholder);\n        }\n      }\n    },\n\n\n    /**\n     * Helper to show the placeholder text in the field. It checks for all\n     * states and possible conditions and shows the placeholder only if allowed.\n     */\n    _showPlaceholder : function()\n    {\n      var fieldValue = this.getValue() || \"\";\n      var placeholder = this.getPlaceholder();\n      if (\n        placeholder != null &&\n        fieldValue == \"\" &&\n        !this.hasState(\"focused\") &&\n        !this.hasState(\"disabled\")\n      )\n      {\n        if (this.hasState(\"showingPlaceholder\"))\n        {\n          this._syncPlaceholder();\n        }\n        else\n        {\n          // the placeholder will be set as soon as the appearance is applied\n          this.addState(\"showingPlaceholder\");\n        }\n      }\n    },\n\n\n    /**\n     * Remove the fake placeholder\n     */\n    _onPointerDownPlaceholder : function() {\n      window.setTimeout(function() {\n        this.focus();\n      }.bind(this), 0);\n    },\n\n\n    /**\n     * Helper to remove the placeholder. Deletes the placeholder text from the\n     * field and removes the state.\n     */\n    _removePlaceholder: function() {\n      if (this.hasState(\"showingPlaceholder\")) {\n        if (this.__useQxPlaceholder) {\n          this._getPlaceholderElement().setStyle(\"visibility\", \"hidden\");\n        }\n        this.removeState(\"showingPlaceholder\");\n      }\n    },\n\n\n    /**\n     * Updates the placeholder text with the DOM\n     */\n    _syncPlaceholder : function ()\n    {\n      if (this.hasState(\"showingPlaceholder\") && this.__useQxPlaceholder) {\n        this._getPlaceholderElement().setStyle(\"visibility\", \"visible\");\n      }\n    },\n\n\n    /**\n     * Returns the placeholder label and creates it if necessary.\n     */\n    _getPlaceholderElement : function()\n    {\n      if (this._placeholder == null) {\n        // create the placeholder\n        this._placeholder = new qx.html.Label();\n        var colorManager = qx.theme.manager.Color.getInstance();\n        this._placeholder.setStyles({\n          \"zIndex\" : 11,\n          \"position\" : \"absolute\",\n          \"color\" : colorManager.resolve(\"text-placeholder\"),\n          \"whiteSpace\": \"normal\", // enable wrap by default\n          \"cursor\": \"text\",\n          \"visibility\" : \"hidden\"\n        });\n\n        this._placeholder.addListener(\"pointerdown\", this._onPointerDownPlaceholder, this);\n      }\n      return this._placeholder;\n    },\n\n\n    /**\n     * Locale change event handler\n     *\n     * @signature function(e)\n     * @param e {Event} the change event\n     */\n    _onChangeLocale : qx.core.Environment.select(\"qx.dynlocale\",\n    {\n      \"true\" : function(e)\n      {\n        var content = this.getPlaceholder();\n        if (content && content.translate) {\n          this.setPlaceholder(content.translate());\n        }\n      },\n\n      \"false\" : null\n    }),\n\n\n    // overridden\n    _onChangeTheme : function() {\n      this.base(arguments);\n      if (this._placeholder) {\n        // delete the placeholder element because it uses a theme dependent color\n        this._placeholder.dispose();\n        this._placeholder = null;\n      }\n      if (!this.__useQxPlaceholder && qx.ui.form.AbstractField.__stylesheet) {\n        qx.bom.Stylesheet.removeSheet(qx.ui.form.AbstractField.__stylesheet);\n        qx.ui.form.AbstractField.__stylesheet = null;\n        qx.ui.form.AbstractField.__addPlaceholderRules();\n      }\n    },\n\n    /**\n     * Validates the the input value.\n     * \n     * @param value {Object} The value to check\n     * @returns The checked value\n     */\n    _validateInput : function(value) {\n      var filteredValue = value;\n      var filter = this.getFilter();\n\n      // If no filter is set return just the value\n      if (filter !== null) {\n        filteredValue = \"\";\n        var index = value.search(filter);\n        var processedValue = value;\n\n        while((index >= 0) && (processedValue.length > 0)) {\n          filteredValue = filteredValue + (processedValue.charAt(index));\n          processedValue = processedValue.substring(index + 1, processedValue.length);\n          index = processedValue.search(filter);\n        }\n      }\n\n      return filteredValue;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY APPLY ROUTINES\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyPlaceholder : function(value, old)\n    {\n      if (this.__useQxPlaceholder) {\n        this._getPlaceholderElement().setValue(value);\n        if (value != null) {\n          this.addListener(\"focusin\", this._removePlaceholder, this);\n          this.addListener(\"focusout\", this._showPlaceholder, this);\n          this._showPlaceholder();\n        } else {\n          this.removeListener(\"focusin\", this._removePlaceholder, this);\n          this.removeListener(\"focusout\", this._showPlaceholder, this);\n          this._removePlaceholder();\n        }\n      } else {\n        // only apply if the widget is enabled\n        if (this.getEnabled()) {\n          this.getContentElement().setAttribute(\"placeholder\", value);\n\n          if (qx.core.Environment.get(\"browser.name\") === \"firefox\" &&\n              parseFloat(qx.core.Environment.get(\"browser.version\")) < 36 &&\n              this.getContentElement().getNodeName() === \"textarea\" &&\n              !this.getContentElement().getDomElement())\n          {\n            /* qx Bug #8870: Firefox 35 will not display a text area's\n               placeholder text if the attribute is set before the\n               element is added to the DOM. This is fixed in FF 36. */\n            this.addListenerOnce(\"appear\", function() {\n              this.getContentElement().getDomElement().removeAttribute(\"placeholder\");\n              this.getContentElement().getDomElement().setAttribute(\"placeholder\", value);\n            }, this);\n          }\n        }\n      }\n    },\n\n\n    // property apply\n    _applyTextAlign : function(value, old) {\n      this.getContentElement().setStyle(\"textAlign\", value);\n    },\n\n\n    // property apply\n    _applyReadOnly : function(value, old)\n    {\n      var element = this.getContentElement();\n\n      element.setAttribute(\"readOnly\", value);\n\n      if (value)\n      {\n        this.addState(\"readonly\");\n        this.setFocusable(false);\n      }\n      else\n      {\n        this.removeState(\"readonly\");\n        this.setFocusable(true);\n      }\n    }\n\n  },\n\n\n  defer : function(statics) {\n    var css = \"border: none;\" +\n      \"padding: 0;\" +\n      \"margin: 0;\" +\n      \"display : block;\" +\n      \"background : transparent;\" +\n      \"outline: none;\" +\n      \"appearance: none;\" +\n      \"position: absolute;\" +\n      \"autoComplete: off;\" +\n      \"resize: none;\" +\n      \"border-radius: 0;\";\n\n    qx.ui.style.Stylesheet.getInstance().addRule(\".qx-abstract-field\", css);\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n  destruct : function()\n  {\n    if (this._placeholder) {\n      this._placeholder.removeListener(\"pointerdown\", this._onPointerDownPlaceholder, this);\n      var parent = this._placeholder.getParent();\n      if (parent) {\n        parent.remove(this._placeholder);\n      }\n      this._placeholder.dispose();\n    }\n\n    this._placeholder = this.__font = null;\n\n    if (qx.core.Environment.get(\"qx.dynlocale\")) {\n      qx.locale.Manager.getInstance().removeListener(\"changeLocale\", this._onChangeLocale, this);\n    }\n\n    if (this.__font && this.__webfontListenerId) {\n      this.__font.removeListenerById(this.__webfontListenerId);\n    }\n\n    this.getContentElement().removeListener(\"input\", this._onHtmlInput, this);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n     * Adrian Olaru (adrianolaru)\n\n************************************************************************ */\n\n/**\n * The TextField is a single-line text input field.\n */\nqx.Class.define(\"qx.ui.form.TextField\",\n{\n  extend : qx.ui.form.AbstractField,\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    // overridden\n    appearance :\n    {\n      refine : true,\n      init : \"textfield\"\n    },\n\n    // overridden\n    allowGrowY :\n    {\n      refine : true,\n      init : false\n    },\n\n    // overridden\n    allowShrinkY :\n    {\n      refine : true,\n      init : false\n    }\n  },\n\n  members : {\n\n    // overridden\n    _renderContentElement : function(innerHeight, element) {\n     if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\") &&\n         (parseInt(qx.core.Environment.get(\"engine.version\"), 10) < 9\n         || qx.core.Environment.get(\"browser.documentmode\") < 9))\n     {\n       element.setStyles({\n         \"line-height\" : innerHeight + 'px'\n       });\n     }\n    },\n\n\n    // overridden\n    _createContentElement : function() {\n      var el = this.base(arguments);\n      var deviceType = qx.core.Environment.get(\"device.type\");\n      if (deviceType == \"tablet\" || deviceType == \"mobile\") {\n        el.addListener(\"keypress\", this._onKeyPress, this);\n      }\n\n      return el;\n    },\n\n\n    /**\n    * Close the virtual keyboard if the Enter key is pressed.\n    * @param evt {qx.event.type.KeySequence} the keypress event.\n    */\n    _onKeyPress : function(evt) {\n      // On return\n      if (evt.getKeyIdentifier() == \"Enter\") {\n        if (this.isFocusable()) {\n          this.blur();\n        }\n        else {\n           // When the text field is not focusable, blur() will raise an exception on\n           // touch devices and the virtual keyboard is not closed. To work around this\n           // issue, we're enabling the focus just for the blur() call.\n           this.setFocusable(true);\n           this.blur();\n           this.setFocusable(false);\n        }\n      }\n    }\n  },\n\n  destruct : function() {\n    this.getContentElement().removeListener(\"keypress\", this._onKeyPress, this);\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Form interface for all form widgets which use a numeric value as their\n * primary data type like a spinner.\n */\nqx.Interface.define(\"qx.ui.form.INumberForm\",\n{\n  extend : qx.ui.form.IField,\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /** Fired when the value was modified */\n    \"changeValue\" : \"qx.event.type.Data\"\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      VALUE PROPERTY\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Sets the element's value.\n     *\n     * @param value {Number|null} The new value of the element.\n     */\n    setValue : function(value) {\n      return arguments.length == 1;\n    },\n\n\n    /**\n     * Resets the element's value to its initial value.\n     */\n    resetValue : function() {},\n\n\n    /**\n     * The element's user set value.\n     *\n     * @return {Number|null} The value.\n     */\n    getValue : function() {}\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Form interface for all widgets which deal with ranges. The spinner is a good\n * example for a range using widget.\n */\nqx.Interface.define(\"qx.ui.form.IRange\",\n{\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      MINIMUM PROPERTY\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Set the minimum value of the range.\n     *\n     * @param min {Number} The minimum.\n     */\n    setMinimum : function(min) {\n      return arguments.length == 1;\n    },\n\n\n    /**\n     * Return the current set minimum of the range.\n     *\n     * @return {Number} The current set minimum.\n     */\n    getMinimum : function() {},\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MAXIMUM PROPERTY\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Set the maximum value of the range.\n     *\n     * @param max {Number} The maximum.\n     */\n    setMaximum : function(max) {\n      return arguments.length == 1;\n    },\n\n\n    /**\n     * Return the current set maximum of the range.\n     *\n     * @return {Number} The current set maximum.\n     */\n    getMaximum : function() {},\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SINGLESTEP PROPERTY\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Sets the value for single steps in the range.\n     *\n     * @param step {Number} The value of the step.\n     */\n    setSingleStep : function(step) {\n      return arguments.length == 1;\n    },\n\n\n    /**\n     * Returns the value which will be stepped in a single step in the range.\n     *\n     * @return {Number} The current value for single steps.\n     */\n    getSingleStep : function() {},\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PAGESTEP PROPERTY\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Sets the value for page steps in the range.\n     *\n     * @param step {Number} The value of the step.\n     */\n    setPageStep : function(step) {\n      return arguments.length == 1;\n    },\n\n\n    /**\n     * Returns the value which will be stepped in a page step in the range.\n     *\n     * @return {Number} The current value for page steps.\n     */\n    getPageStep : function() {}\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Martin Wittemann (martinwittemann)\n     * Jonathan Wei (jonathan_rass)\n\n************************************************************************ */\n\n/**\n * A *spinner* is a control that allows you to adjust a numerical value,\n * typically within an allowed range. An obvious example would be to specify the\n * month of a year as a number in the range 1 - 12.\n *\n * To do so, a spinner encompasses a field to display the current value (a\n * textfield) and controls such as up and down buttons to change that value. The\n * current value can also be changed by editing the display field directly, or\n * using mouse wheel and cursor keys.\n *\n * An optional {@link #numberFormat} property allows you to control the format of\n * how a value can be entered and will be displayed.\n *\n * A brief, but non-trivial example:\n *\n * <pre class='javascript'>\n * var s = new qx.ui.form.Spinner();\n * s.set({\n *   maximum: 3000,\n *   minimum: -3000\n * });\n * var nf = new qx.util.format.NumberFormat();\n * nf.setMaximumFractionDigits(2);\n * s.setNumberFormat(nf);\n * </pre>\n *\n * A spinner instance without any further properties specified in the\n * constructor or a subsequent *set* command will appear with default\n * values and behaviour.\n *\n * @childControl textfield {qx.ui.form.TextField} holds the current value of the spinner\n * @childControl upbutton {qx.ui.form.Button} button to increase the value\n * @childControl downbutton {qx.ui.form.Button} button to decrease the value\n *\n */\nqx.Class.define(\"qx.ui.form.Spinner\",\n{\n  extend : qx.ui.core.Widget,\n  implement : [\n    qx.ui.form.INumberForm,\n    qx.ui.form.IRange,\n    qx.ui.form.IForm\n  ],\n  include : [\n    qx.ui.core.MContentPadding,\n    qx.ui.form.MForm\n  ],\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param min {Number} Minimum value\n   * @param value {Number} Current value\n   * @param max {Number} Maximum value\n   */\n  construct : function(min, value, max)\n  {\n    this.base(arguments);\n\n    // MAIN LAYOUT\n    var layout = new qx.ui.layout.Grid();\n    layout.setColumnFlex(0, 1);\n    layout.setRowFlex(0,1);\n    layout.setRowFlex(1,1);\n    this._setLayout(layout);\n\n    // EVENTS\n    this.addListener(\"keydown\", this._onKeyDown, this);\n    this.addListener(\"keyup\", this._onKeyUp, this);\n    this.addListener(\"roll\", this._onRoll, this);\n\n    if (qx.core.Environment.get(\"qx.dynlocale\")) {\n      qx.locale.Manager.getInstance().addListener(\"changeLocale\", this._onChangeLocale, this);\n    }\n\n    // CREATE CONTROLS\n    var textField = this._createChildControl(\"textfield\");\n    this._createChildControl(\"upbutton\");\n    this._createChildControl(\"downbutton\");\n\n    // INITIALIZATION\n    if (min != null) {\n      this.setMinimum(min);\n    }\n\n    if (max != null) {\n      this.setMaximum(max);\n    }\n\n    if (value !== undefined) {\n      this.setValue(value);\n    } else {\n      this.initValue();\n    }\n\n    // forward the focusin and focusout events to the textfield. The textfield\n    // is not focusable so the events need to be forwarded manually.\n    this.addListener(\"focusin\", function(e) {\n      textField.fireNonBubblingEvent(\"focusin\", qx.event.type.Focus);\n    }, this);\n\n    this.addListener(\"focusout\", function(e) {\n      textField.fireNonBubblingEvent(\"focusout\", qx.event.type.Focus);\n    }, this);\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties:\n  {\n    // overridden\n    appearance:\n    {\n      refine : true,\n      init : \"spinner\"\n    },\n\n    // overridden\n    focusable :\n    {\n      refine : true,\n      init : true\n    },\n\n    /** The amount to increment on each event (keypress or pointerdown) */\n    singleStep:\n    {\n      check : \"Number\",\n      init : 1\n    },\n\n    /** The amount to increment on each pageup/pagedown keypress */\n    pageStep:\n    {\n      check : \"Number\",\n      init : 10\n    },\n\n    /** minimal value of the Range object */\n    minimum:\n    {\n      check : \"Number\",\n      apply : \"_applyMinimum\",\n      init : 0,\n      event: \"changeMinimum\"\n    },\n\n    /** The value of the spinner. */\n    value:\n    {\n      check : \"this._checkValue(value)\",\n      nullable : true,\n      apply : \"_applyValue\",\n      init : 0,\n      event : \"changeValue\"\n    },\n\n    /** maximal value of the Range object */\n    maximum:\n    {\n      check : \"Number\",\n      apply : \"_applyMaximum\",\n      init : 100,\n      event: \"changeMaximum\"\n    },\n\n    /** whether the value should wrap around */\n    wrap:\n    {\n      check : \"Boolean\",\n      init : false,\n      apply : \"_applyWrap\"\n    },\n\n    /** Controls whether the textfield of the spinner is editable or not */\n    editable :\n    {\n      check : \"Boolean\",\n      init : true,\n      apply : \"_applyEditable\"\n    },\n\n    /** Controls the display of the number in the textfield */\n    numberFormat :\n    {\n      check : \"qx.util.format.NumberFormat\",\n      apply : \"_applyNumberFormat\",\n      nullable : true\n    },\n\n    // overridden\n    allowShrinkY :\n    {\n      refine : true,\n      init : false\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /** Saved last value in case invalid text is entered */\n    __lastValidValue : null,\n\n    /** Whether the page-up button has been pressed */\n    __pageUpMode : false,\n\n    /** Whether the page-down button has been pressed */\n    __pageDownMode : false,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET INTERNALS\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _createChildControlImpl : function(id, hash)\n    {\n      var control;\n\n      switch(id)\n      {\n        case \"textfield\":\n          control = new qx.ui.form.TextField();\n          control.setFilter(this._getFilterRegExp());\n          control.addState(\"inner\");\n          control.setWidth(40);\n          control.setFocusable(false);\n          control.addListener(\"changeValue\", this._onTextChange, this);\n\n          this._add(control, {column: 0, row: 0, rowSpan: 2});\n          break;\n\n        case \"upbutton\":\n          control = new qx.ui.form.RepeatButton();\n          control.addState(\"inner\");\n          control.setFocusable(false);\n          control.addListener(\"execute\", this._countUp, this);\n          this._add(control, {column: 1, row: 0});\n          break;\n\n        case \"downbutton\":\n          control = new qx.ui.form.RepeatButton();\n          control.addState(\"inner\");\n          control.setFocusable(false);\n          control.addListener(\"execute\", this._countDown, this);\n          this._add(control, {column:1, row: 1});\n          break;\n      }\n\n      return control || this.base(arguments, id);\n    },\n\n\n    /**\n     * Returns the regular expression used as the text field's filter\n     *\n     * @return {RegExp} The filter RegExp.\n     */\n    _getFilterRegExp : function()\n    {\n      var decimalSeparator, groupSeparator, locale;\n\n      if (this.getNumberFormat() !== null) {\n        locale = this.getNumberFormat().getLocale();\n      } else {\n        locale = qx.locale.Manager.getInstance().getLocale();\n      }\n\n      decimalSeparator = qx.locale.Number.getDecimalSeparator(locale);\n      groupSeparator = qx.locale.Number.getGroupSeparator(locale);\n\n      var prefix = \"\";\n      var postfix = \"\";\n      if (this.getNumberFormat() !== null) {\n        prefix = this.getNumberFormat().getPrefix() || \"\";\n        postfix = this.getNumberFormat().getPostfix() || \"\";\n      }\n\n      var filterRegExp = new RegExp(\"[0-9\" +\n        qx.lang.String.escapeRegexpChars(decimalSeparator) +\n        qx.lang.String.escapeRegexpChars(groupSeparator) +\n        qx.lang.String.escapeRegexpChars(prefix) +\n        qx.lang.String.escapeRegexpChars(postfix) +\n        \"\\-]\"\n      );\n\n      return filterRegExp;\n    },\n\n\n    // overridden\n    /**\n     * @lint ignoreReferenceField(_forwardStates)\n     */\n    _forwardStates : {\n      focused : true,\n      invalid : true\n    },\n\n\n    // overridden\n    tabFocus : function()\n    {\n      var field = this.getChildControl(\"textfield\");\n\n      field.getFocusElement().focus();\n      field.selectAllText();\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      APPLY METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Apply routine for the minimum property.\n     *\n     * It sets the value of the spinner to the maximum of the current spinner\n     * value and the given min property value.\n     *\n     * @param value {Number} The new value of the min property\n     * @param old {Number} The old value of the min property\n     */\n    _applyMinimum : function(value, old)\n    {\n      if (this.getMaximum() < value) {\n        this.setMaximum(value);\n      }\n\n      if (this.getValue() < value) {\n        this.setValue(value);\n      } else {\n        this._updateButtons();\n      }\n    },\n\n\n    /**\n     * Apply routine for the maximum property.\n     *\n     * It sets the value of the spinner to the minimum of the current spinner\n     * value and the given max property value.\n     *\n     * @param value {Number} The new value of the max property\n     * @param old {Number} The old value of the max property\n     */\n    _applyMaximum : function(value, old)\n    {\n      if (this.getMinimum() > value) {\n        this.setMinimum(value);\n      }\n\n      if (this.getValue() > value) {\n        this.setValue(value);\n      } else {\n        this._updateButtons();\n      }\n    },\n\n\n    // overridden\n    _applyEnabled : function(value, old)\n    {\n      this.base(arguments, value, old);\n\n      this._updateButtons();\n    },\n\n\n    /**\n     * Check whether the value being applied is allowed.\n     *\n     * If you override this to change the allowed type, you will also\n     * want to override {@link #_applyValue}, {@link #_applyMinimum},\n     * {@link #_applyMaximum}, {@link #_countUp}, {@link #_countDown}, and\n     * {@link #_onTextChange} methods as those cater specifically to numeric\n     * values.\n     *\n     * @param value {var}\n     *   The value being set\n     * @return {Boolean}\n     *   <i>true</i> if the value is allowed;\n     *   <i>false> otherwise.\n     */\n    _checkValue : function(value) {\n      return typeof value === \"number\" && value >= this.getMinimum() && value <= this.getMaximum();\n    },\n\n\n    /**\n     * Apply routine for the value property.\n     *\n     * It disables / enables the buttons and handles the wrap around.\n     *\n     * @param value {Number} The new value of the spinner\n     * @param old {Number} The former value of the spinner\n     */\n    _applyValue: function(value, old)\n    {\n      var textField = this.getChildControl(\"textfield\");\n\n      this._updateButtons();\n\n      // save the last valid value of the spinner\n      this.__lastValidValue = value;\n\n      // write the value of the spinner to the textfield\n      if (value !== null) {\n        if (this.getNumberFormat()) {\n          textField.setValue(this.getNumberFormat().format(value));\n        } else {\n          textField.setValue(value + \"\");\n        }\n      } else {\n        textField.setValue(\"\");\n      }\n    },\n\n\n    /**\n     * Apply routine for the editable property.<br/>\n     * It sets the textfield of the spinner to not read only.\n     *\n     * @param value {Boolean} The new value of the editable property\n     * @param old {Boolean} The former value of the editable property\n     */\n    _applyEditable : function(value, old)\n    {\n      var textField = this.getChildControl(\"textfield\");\n\n      if (textField) {\n        textField.setReadOnly(!value);\n      }\n    },\n\n\n    /**\n     * Apply routine for the wrap property.<br/>\n     * Enables all buttons if the wrapping is enabled.\n     *\n     * @param value {Boolean} The new value of the wrap property\n     * @param old {Boolean} The former value of the wrap property\n     */\n    _applyWrap : function(value, old)\n    {\n      this._updateButtons();\n    },\n\n\n    /**\n     * Apply routine for the numberFormat property.<br/>\n     * When setting a number format, the display of the\n     * value in the text-field will be changed immediately.\n     *\n     * @param value {Boolean} The new value of the numberFormat property\n     * @param old {Boolean} The former value of the numberFormat property\n     */\n    _applyNumberFormat : function(value, old) {\n      var textField = this.getChildControl(\"textfield\");\n      textField.setFilter(this._getFilterRegExp());\n\n      if (old) {\n        old.removeListener(\"changeNumberFormat\", this._onChangeNumberFormat, this);\n      }\n\n      var numberFormat = this.getNumberFormat();\n      if (numberFormat !== null) {\n        numberFormat.addListener(\"changeNumberFormat\", this._onChangeNumberFormat, this);\n      }\n\n      this._applyValue(this.__lastValidValue, undefined);\n    },\n\n    /**\n     * Returns the element, to which the content padding should be applied.\n     *\n     * @return {qx.ui.core.Widget} The content padding target.\n     */\n    _getContentPaddingTarget : function() {\n      return this.getChildControl(\"textfield\");\n    },\n\n    /**\n     * Checks the min and max values, disables / enables the\n     * buttons and handles the wrap around.\n     */\n    _updateButtons : function() {\n      var upButton = this.getChildControl(\"upbutton\");\n      var downButton = this.getChildControl(\"downbutton\");\n      var value = this.getValue();\n\n      if (!this.getEnabled())\n      {\n        // If Spinner is disabled -> disable buttons\n        upButton.setEnabled(false);\n        downButton.setEnabled(false);\n      }\n      else\n      {\n        if (this.getWrap())\n        {\n          // If wraped -> always enable buttons\n          upButton.setEnabled(true);\n          downButton.setEnabled(true);\n        }\n        else\n        {\n          // check max value\n          if (value !== null && value < this.getMaximum()) {\n            upButton.setEnabled(true);\n          } else {\n            upButton.setEnabled(false);\n          }\n\n          // check min value\n          if (value !== null && value > this.getMinimum()) {\n            downButton.setEnabled(true);\n          } else {\n            downButton.setEnabled(false);\n          }\n        }\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      KEY EVENT-HANDLING\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Callback for \"keyDown\" event.<br/>\n     * Controls the interval mode (\"single\" or \"page\")\n     * and the interval increase by detecting \"Up\"/\"Down\"\n     * and \"PageUp\"/\"PageDown\" keys.<br/>\n     * The corresponding button will be pressed.\n     *\n     * @param e {qx.event.type.KeySequence} keyDown event\n     */\n    _onKeyDown: function(e)\n    {\n      switch(e.getKeyIdentifier())\n      {\n        case \"PageUp\":\n          // mark that the spinner is in page mode and process further\n          this.__pageUpMode = true;\n\n        case \"Up\":\n          this.getChildControl(\"upbutton\").press();\n          break;\n\n        case \"PageDown\":\n          // mark that the spinner is in page mode and process further\n          this.__pageDownMode = true;\n\n        case \"Down\":\n          this.getChildControl(\"downbutton\").press();\n          break;\n\n        default:\n          // Do not stop unused events\n          return;\n      }\n\n      e.stopPropagation();\n      e.preventDefault();\n    },\n\n\n    /**\n     * Callback for \"keyUp\" event.<br/>\n     * Detecting \"Up\"/\"Down\" and \"PageUp\"/\"PageDown\" keys.<br/>\n     * Releases the button and disabled the page mode, if necessary.\n     *\n     * @param e {qx.event.type.KeySequence} keyUp event\n     */\n    _onKeyUp: function(e)\n    {\n      switch(e.getKeyIdentifier())\n      {\n        case \"PageUp\":\n          this.getChildControl(\"upbutton\").release();\n          this.__pageUpMode = false;\n          break;\n\n        case \"Up\":\n          this.getChildControl(\"upbutton\").release();\n          break;\n\n        case \"PageDown\":\n          this.getChildControl(\"downbutton\").release();\n          this.__pageDownMode = false;\n          break;\n\n        case \"Down\":\n          this.getChildControl(\"downbutton\").release();\n          break;\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OTHER EVENT HANDLERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Callback method for the \"roll\" event.<br/>\n     * Increments or decrements the value of the spinner.\n     *\n     * @param e {qx.event.type.Roll} roll event\n     */\n    _onRoll: function(e)\n    {\n      // only wheel\n      if (e.getPointerType() != \"wheel\") {\n        return;\n      }\n      var delta = e.getDelta().y;\n      if (delta < 0) {\n        this._countUp();\n      } else if (delta > 0) {\n        this._countDown();\n      }\n\n      e.stop();\n    },\n\n\n    /**\n     * Callback method for the \"change\" event of the textfield.\n     *\n     * @param e {qx.event.type.Event} text change event or blur event\n     */\n    _onTextChange : function(e)\n    {\n      var textField = this.getChildControl(\"textfield\");\n      var value;\n\n      // if a number format is set\n      if (this.getNumberFormat())\n      {\n        // try to parse the current number using the number format\n        try {\n          value = this.getNumberFormat().parse(textField.getValue());\n        } catch(ex) {\n          // otherwise, process further\n        }\n      }\n\n      if (value === undefined)\n      {\n        // try to parse the number as a float\n        value = parseFloat(textField.getValue());\n      }\n\n      // if the result is a number\n      if (!isNaN(value))\n      {\n        // Fix value if invalid\n        if (value > this.getMaximum()) {\n          value = this.getMaximum();\n        } else if (value < this.getMinimum()) {\n          value = this.getMinimum();\n        }\n\n        // If value is the same than before, call directly _applyValue()\n        if (value === this.__lastValidValue) {\n          this._applyValue(this.__lastValidValue);\n        } else {\n          this.setValue(value);\n        }\n      }\n      else\n      {\n        // otherwise, reset the last valid value\n        this._applyValue(this.__lastValidValue, undefined);\n      }\n    },\n\n\n    /**\n     * Callback method for the locale Manager's \"changeLocale\" event.\n     *\n     * @param ev {qx.event.type.Event} locale change event\n     */\n\n    _onChangeLocale : function(ev)\n    {\n      if (this.getNumberFormat() !== null) {\n        this.setNumberFormat(this.getNumberFormat());\n        var textfield = this.getChildControl(\"textfield\");\n        textfield.setFilter(this._getFilterRegExp());\n        textfield.setValue(this.getNumberFormat().format(this.getValue()));\n      }\n    },\n\n\n    /**\n     * Callback method for the number format's \"changeNumberFormat\" event.\n     *\n     * @param ev {qx.event.type.Event} number format change event\n     */\n    _onChangeNumberFormat : function(ev) {\n      var textfield = this.getChildControl(\"textfield\");\n      textfield.setFilter(this._getFilterRegExp());\n      textfield.setValue(this.getNumberFormat().format(this.getValue()));\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      INTERVAL HANDLING\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Checks if the spinner is in page mode and counts either the single\n     * or page Step up.\n     *\n     */\n    _countUp: function()\n    {\n      if (this.__pageUpMode) {\n        var newValue = this.getValue() + this.getPageStep();\n      } else {\n        var newValue = this.getValue() + this.getSingleStep();\n      }\n\n      // handle the case where wrapping is enabled\n      if (this.getWrap())\n      {\n        if (newValue > this.getMaximum())\n        {\n          var diff = this.getMaximum() - newValue;\n          newValue = this.getMinimum() - diff - 1;\n        }\n      }\n\n      this.gotoValue(newValue);\n    },\n\n\n    /**\n     * Checks if the spinner is in page mode and counts either the single\n     * or page Step down.\n     *\n     */\n    _countDown: function()\n    {\n      if (this.__pageDownMode) {\n        var newValue = this.getValue() - this.getPageStep();\n      } else {\n        var newValue = this.getValue() - this.getSingleStep();\n      }\n\n      // handle the case where wrapping is enabled\n      if (this.getWrap())\n      {\n        if (newValue < this.getMinimum())\n        {\n          var diff = this.getMinimum() + newValue;\n          newValue = this.getMaximum() + diff + 1;\n        }\n      }\n\n      this.gotoValue(newValue);\n    },\n\n\n    /**\n     * Normalizes the incoming value to be in the valid range and\n     * applies it to the {@link #value} afterwards.\n     *\n     * @param value {Number} Any number\n     * @return {Number} The normalized number\n     */\n    gotoValue : function(value) {\n      return this.setValue(Math.min(this.getMaximum(), Math.max(this.getMinimum(), value)));\n    },\n\n    // overridden\n    focus : function()\n    {\n      this.base(arguments);\n      this.getChildControl(\"textfield\").getFocusElement().focus();\n    }\n  },\n\n\n  destruct : function()\n  {\n    var nf = this.getNumberFormat();\n    if (nf) {\n      nf.removeListener(\"changeNumberFormat\", this._onChangeNumberFormat, this);\n    }\n\n    if (qx.core.Environment.get(\"qx.dynlocale\")) {\n      qx.locale.Manager.getInstance().removeListener(\"changeLocale\", this._onChangeLocale, this);\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * A password input field, which hides the entered text.\n */\nqx.Class.define(\"qx.ui.form.PasswordField\",\n{\n  extend : qx.ui.form.TextField,\n\n  members :\n  {\n    // overridden\n    _createInputElement : function() {\n      return new qx.html.Input(\"password\");\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Jonathan Wei (jonathan_rass)\n     * Tristan Koch (tristankoch)\n\n************************************************************************ */\n\n/**\n * The TextField is a multi-line text input field.\n */\nqx.Class.define(\"qx.ui.form.TextArea\",\n{\n  extend : qx.ui.form.AbstractField,\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param value {String?\"\"} The text area's initial value\n   */\n  construct : function(value)\n  {\n    this.base(arguments, value);\n    this.initWrap();\n\n    this.addListener(\"roll\", this._onRoll, this);\n    this.addListener(\"resize\", this._onResize, this);\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** Controls whether text wrap is activated or not. */\n    wrap :\n    {\n      check : \"Boolean\",\n      init : true,\n      apply : \"_applyWrap\"\n    },\n\n    // overridden\n    appearance :\n    {\n      refine : true,\n      init : \"textarea\"\n    },\n\n    /** Factor for scrolling the <code>TextArea</code> with the mouse wheel. */\n    singleStep :\n    {\n      check : \"Integer\",\n      init : 20\n    },\n\n    /** Minimal line height. On default this is set to four lines. */\n    minimalLineHeight :\n    {\n      check : \"Integer\",\n      apply : \"_applyMinimalLineHeight\",\n      init : 4\n    },\n\n    /**\n    * Whether the <code>TextArea</code> should automatically adjust to\n    * the height of the content.\n    *\n    * To set the initial height, modify {@link #minHeight}. If you wish\n    * to set a minHeight below four lines of text, also set\n    * {@link #minimalLineHeight}. In order to limit growing to a certain\n    * height, set {@link #maxHeight} respectively. Please note that\n    * autoSize is ignored when the {@link #height} property is in use.\n    */\n    autoSize :\n    {\n      check : \"Boolean\",\n      apply : \"_applyAutoSize\",\n      init : false\n    }\n\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __areaClone : null,\n    __areaHeight : null,\n    __originalAreaHeight : null,\n\n    // overridden\n    setValue : function(value)\n    {\n      value = this.base(arguments, value);\n      this.__autoSize();\n\n      return value;\n    },\n\n    /**\n     * Handles the roll for scrolling the <code>TextArea</code>.\n     *\n     * @param e {qx.event.type.Roll} roll event.\n     */\n    _onRoll : function(e) {\n      // only wheel\n      if (e.getPointerType() != \"wheel\") {\n        return;\n      }\n      var contentElement = this.getContentElement();\n      var scrollY = contentElement.getScrollY();\n\n      contentElement.scrollToY(scrollY + (e.getDelta().y / 30) * this.getSingleStep());\n\n      var newScrollY = contentElement.getScrollY();\n\n      if (newScrollY != scrollY) {\n        e.stop();\n      }\n    },\n\t\n\t\n    /**\n     * When the element resizes we throw away the clone and trigger autosize again, otherwise the clone would have\n     * another width and the autosize calculation would be faulty.\n     * \n     * @param e {qx.event.type.Data} resize event.\n     */\n    _onResize : function(e) {\n      if (this.__areaClone) {\n        this.__areaClone.dispose();\n        this.__areaClone = null;\n        this.__autoSize();\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      AUTO SIZE\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n    * Adjust height of <code>TextArea</code> so that content fits without scroll bar.\n    *\n    */\n    __autoSize: function() {\n      if (this.isAutoSize()) {\n        var clone = this.__getAreaClone();\n\n        if (clone && this.getBounds()) {\n\n          // Remember original area height\n          this.__originalAreaHeight = this.__originalAreaHeight || this._getAreaHeight();\n\n          var scrolledHeight = this._getScrolledAreaHeight();\n\n          // Show scroll-bar when above maxHeight, if defined\n          if (this.getMaxHeight()) {\n            var insets = this.getInsets();\n            var innerMaxHeight = -insets.top + this.getMaxHeight() - insets.bottom;\n            if (scrolledHeight > innerMaxHeight) {\n                this.getContentElement().setStyle(\"overflowY\", \"auto\");\n            } else {\n                this.getContentElement().setStyle(\"overflowY\", \"hidden\");\n            }\n          }\n\n          // Never shrink below original area height\n          var desiredHeight = Math.max(scrolledHeight, this.__originalAreaHeight);\n\n          // Set new height\n          this._setAreaHeight(desiredHeight);\n\n        // On init, the clone is not yet present. Try again on appear.\n        } else {\n          this.getContentElement().addListenerOnce(\"appear\", function() {\n            this.__autoSize();\n          }, this);\n        }\n      }\n    },\n\n    /**\n    * Get actual height of <code>TextArea</code>\n    *\n    * @return {Integer} Height of <code>TextArea</code>\n    */\n    _getAreaHeight: function() {\n      return this.getInnerSize().height;\n    },\n\n    /**\n    * Set actual height of <code>TextArea</code>\n    *\n    * @param height {Integer} Desired height of <code>TextArea</code>\n    */\n    _setAreaHeight: function(height) {\n      if (this._getAreaHeight() !== height) {\n        this.__areaHeight = height;\n\n        qx.ui.core.queue.Layout.add(this);\n\n        // Apply height directly. This works-around a visual glitch in WebKit\n        // browsers where a line-break causes the text to be moved upwards\n        // for one line. Since this change appears instantly whereas the queue\n        // is computed later, a flicker is visible.\n        qx.ui.core.queue.Manager.flush();\n\n        this.__forceRewrap();\n      }\n    },\n\n    /**\n    * Get scrolled area height. Equals the total height of the <code>TextArea</code>,\n    * as if no scroll-bar was visible.\n    *\n    * @return {Integer} Height of scrolled area\n    */\n    _getScrolledAreaHeight: function() {\n      var clone = this.__getAreaClone();\n      var cloneDom = clone.getDomElement();\n\n      if (cloneDom) {\n\n        // Clone created but not yet in DOM. Try again.\n        if (!cloneDom.parentNode) {\n          qx.html.Element.flush();\n          return this._getScrolledAreaHeight();\n        }\n\n        // In WebKit and IE8, \"wrap\" must have been \"soft\" on DOM level before setting\n        // \"off\" can disable wrapping. To fix, make sure wrap is toggled.\n        // Otherwise, the height of an auto-size text area with wrapping\n        // disabled initially is incorrectly computed as if wrapping was enabled.\n        if (qx.core.Environment.get(\"engine.name\") === \"webkit\" ||\n            (qx.core.Environment.get(\"engine.name\") == \"mshtml\")) {\n          clone.setWrap(!this.getWrap(), true);\n        }\n\n        clone.setWrap(this.getWrap(), true);\n\n        // Webkit needs overflow \"hidden\" in order to correctly compute height\n        if (qx.core.Environment.get(\"engine.name\") === \"webkit\" ||\n            (qx.core.Environment.get(\"engine.name\") == \"mshtml\")) {\n          cloneDom.style.overflow = \"hidden\";\n        }\n\n        // IE >= 8 needs overflow \"visible\" in order to correctly compute height\n        if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n          qx.core.Environment.get(\"browser.documentmode\") >= 8) {\n          cloneDom.style.overflow = \"visible\";\n          cloneDom.style.overflowX = \"hidden\";\n        }\n\n        // Update value\n        clone.setValue(this.getValue() || \"\");\n\n        // Force IE > 8 to update size measurements\n        if (qx.core.Environment.get(\"engine.name\") == \"mshtml\") {\n          cloneDom.style.height = \"auto\";\n          qx.html.Element.flush();\n          cloneDom.style.height = \"0\";\n        }\n\n        // Recompute\n        this.__scrollCloneToBottom(clone);\n\n        if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n            qx.core.Environment.get(\"browser.documentmode\") == 8) {\n          // Flush required for scrollTop to return correct value\n          // when initial value should be taken into consideration\n          if (!cloneDom.scrollTop) {\n            qx.html.Element.flush();\n          }\n        }\n\n        return cloneDom.scrollTop;\n      }\n    },\n\n    /**\n    * Returns the area clone.\n    *\n    * @return {Element|null} DOM Element or <code>null</code> if there is no\n    * original element\n    */\n    __getAreaClone: function() {\n      this.__areaClone = this.__areaClone || this.__createAreaClone();\n      return this.__areaClone;\n    },\n\n    /**\n    * Creates and prepares the area clone.\n    *\n    * @return {Element} Element\n    */\n    __createAreaClone: function() {\n      var orig,\n          clone,\n          cloneDom,\n          cloneHtml;\n\n      orig = this.getContentElement();\n\n      // An existing DOM element is required\n      if (!orig.getDomElement()) {\n        return null;\n      }\n\n      // Create DOM clone\n      cloneDom = qx.bom.Element.clone(orig.getDomElement());\n\n      // Convert to qx.html Element\n      cloneHtml = new qx.html.Input(\"textarea\");\n      cloneHtml.useElement(cloneDom);\n      clone = cloneHtml;\n\n      // Push out of view\n      // Zero height (i.e. scrolled area equals height)\n      clone.setStyles({\n        position: \"absolute\",\n        top: 0,\n        left: \"-9999px\",\n        height: 0,\n        overflow: \"hidden\"\n      }, true);\n\n      // Fix attributes\n      clone.removeAttribute('id');\n      clone.removeAttribute('name');\n      clone.setAttribute(\"tabIndex\", \"-1\");\n\n      // Copy value\n      clone.setValue(orig.getValue() || \"\");\n\n      // Attach to DOM\n      clone.insertBefore(orig);\n\n      // Make sure scrollTop is actual height\n      this.__scrollCloneToBottom(clone);\n\n      return clone;\n    },\n\n    /**\n    * Scroll <code>TextArea</code> to bottom. That way, scrollTop reflects the height\n    * of the <code>TextArea</code>.\n    *\n    * @param clone {Element} The <code>TextArea</code> to scroll\n    */\n    __scrollCloneToBottom: function(clone) {\n      clone = clone.getDomElement();\n      if (clone) {\n        clone.scrollTop = 10000;\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      FIELD API\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _createInputElement : function()\n    {\n      return new qx.html.Input(\"textarea\", {\n        overflowX: \"auto\",\n        overflowY: \"auto\"\n      });\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      APPLY ROUTINES\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyWrap : function(value, old) {\n      this.getContentElement().setWrap(value);\n      if (this._placeholder) {\n        var whiteSpace = value ? \"normal\" : \"nowrap\";\n        this._placeholder.setStyle(\"whiteSpace\", whiteSpace);\n      }\n      this.__autoSize();\n    },\n\n    // property apply\n    _applyMinimalLineHeight : function() {\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n    // property apply\n    _applyAutoSize: function(value, old) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.__warnAutoSizeAndHeight();\n      }\n\n      if (value) {\n        this.__autoSize();\n        this.addListener(\"input\", this.__autoSize, this);\n\n        // This is done asynchronously on purpose. The style given would\n        // otherwise be overridden by the DOM changes queued in the\n        // property apply for wrap. See [BUG #4493] for more details.\n        if (!this.getBounds()) {\n          this.addListenerOnce(\"appear\", function() {\n            this.getContentElement().setStyle(\"overflowY\", \"hidden\");\n          });\n        } else {\n          this.getContentElement().setStyle(\"overflowY\", \"hidden\");\n        }\n\n      } else {\n        this.removeListener(\"input\", this.__autoSize);\n        this.getContentElement().setStyle(\"overflowY\", \"auto\");\n      }\n    },\n\n\n    // property apply\n    _applyDimension : function(value) {\n      this.base(arguments);\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.__warnAutoSizeAndHeight();\n      }\n\n      if (value === this.getMaxHeight()) {\n        this.__autoSize();\n      }\n    },\n\n    /**\n     * Force rewrapping of text.\n     *\n     * The distribution of characters depends on the space available.\n     * Unfortunately, browsers do not reliably (or not at all) rewrap text when\n     * the size of the text area changes.\n     *\n     * This method is called on change of the area's size.\n     */\n    __forceRewrap : function() {\n      var content = this.getContentElement();\n      var element = content.getDomElement();\n\n      // Temporarily increase width\n      var width = content.getStyle(\"width\");\n      content.setStyle(\"width\", parseInt(width, 10) + 1000 + \"px\", true);\n\n      // Force browser to render\n      if (element) {\n        qx.bom.element.Dimension.getWidth(element);\n      }\n\n      // Restore width\n      content.setStyle(\"width\", width, true);\n    },\n\n    /**\n     * Warn when both autoSize and height property are set.\n     *\n     */\n    __warnAutoSizeAndHeight: function() {\n      if (this.isAutoSize() && this.getHeight()) {\n        this.warn(\"autoSize is ignored when the height property is set. \" +\n                  \"If you want to set an initial height, use the minHeight \" +\n                  \"property instead.\");\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      LAYOUT\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _getContentHint : function()\n    {\n      var hint = this.base(arguments);\n\n      // lines of text\n      hint.height = hint.height * this.getMinimalLineHeight();\n\n      // 20 character wide\n      hint.width = this._getTextSize().width * 20;\n\n      if (this.isAutoSize()) {\n        hint.height = this.__areaHeight || hint.height;\n      }\n\n      return hint;\n    }\n  },\n\n\n  destruct : function() {\n    this.setAutoSize(false);\n    if (this.__areaClone) {\n      this.__areaClone.dispose();\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Form interface for all form widgets which have boolean as their primary\n * data type like a checkbox.\n */\nqx.Interface.define(\"qx.ui.form.IBooleanForm\",\n{\n  extend : qx.ui.form.IField,\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /** Fired when the value was modified */\n    \"changeValue\" : \"qx.event.type.Data\"\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      VALUE PROPERTY\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Sets the element's value.\n     *\n     * @param value {Boolean|null} The new value of the element.\n     */\n    setValue : function(value) {\n      return arguments.length == 1;\n    },\n\n\n    /**\n     * Resets the element's value to its initial value.\n     */\n    resetValue : function() {},\n\n\n    /**\n     * The element's user set value.\n     *\n     * @return {Boolean|null} The value.\n     */\n    getValue : function() {}\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Each object, which should be managed by a {@link RadioGroup} have to\n * implement this interface.\n */\nqx.Interface.define(\"qx.ui.form.IRadioItem\",\n{\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /** Fired when the item was checked or unchecked */\n    \"changeValue\" : \"qx.event.type.Data\"\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /**\n     * Set whether the item is checked\n     *\n     * @param value {Boolean} whether the item should be checked\n     */\n    setValue : function(value) {},\n\n\n    /**\n     * Get whether the item is checked\n     *\n     * @return {Boolean} whether the item it checked\n     */\n    getValue : function() {},\n\n\n    /**\n     * Set the radiogroup, which manages this item\n     *\n     * @param value {qx.ui.form.RadioGroup} The radiogroup, which should\n     *     manage the item.\n     */\n    setGroup : function(value) {\n      this.assertInstance(value, qx.ui.form.RadioGroup);\n    },\n\n\n    /**\n     * Get the radiogroup, which manages this item\n     *\n     * @return {qx.ui.form.RadioGroup} The radiogroup, which manages the item.\n     */\n    getGroup : function() {}\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * A toggle Button widget\n *\n * If the user presses the button by tapping on it pressing the enter or\n * space key, the button toggles between the pressed an not pressed states.\n */\nqx.Class.define(\"qx.ui.form.ToggleButton\",\n{\n  extend : qx.ui.basic.Atom,\n  include : [\n    qx.ui.core.MExecutable\n  ],\n  implement : [\n    qx.ui.form.IBooleanForm,\n    qx.ui.form.IExecutable,\n    qx.ui.form.IRadioItem\n  ],\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Creates a ToggleButton.\n   *\n   * @param label {String} The text on the button.\n   * @param icon {String} An URI to the icon of the button.\n   */\n  construct : function(label, icon)\n  {\n    this.base(arguments, label, icon);\n\n    // register pointer events\n    this.addListener(\"pointerover\", this._onPointerOver);\n    this.addListener(\"pointerout\", this._onPointerOut);\n    this.addListener(\"pointerdown\", this._onPointerDown);\n    this.addListener(\"pointerup\", this._onPointerUp);\n\n    // register keyboard events\n    this.addListener(\"keydown\", this._onKeyDown);\n    this.addListener(\"keyup\", this._onKeyUp);\n\n    // register execute event\n    this.addListener(\"execute\", this._onExecute, this);\n\n  },\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties:\n  {\n    // overridden\n    appearance:\n    {\n      refine: true,\n      init: \"button\"\n    },\n\n    // overridden\n    focusable :\n    {\n      refine : true,\n      init : true\n    },\n\n    /** The value of the widget. True, if the widget is checked. */\n    value :\n    {\n      check : \"Boolean\",\n      nullable : true,\n      event : \"changeValue\",\n      apply : \"_applyValue\",\n      init : false\n    },\n\n    /** The assigned qx.ui.form.RadioGroup which handles the switching between registered buttons. */\n    group :\n    {\n      check  : \"qx.ui.form.RadioGroup\",\n      nullable : true,\n      apply : \"_applyGroup\"\n    },\n\n    /**\n    * Whether the button has a third state. Use this for tri-state checkboxes.\n    *\n    * When enabled, the value null of the property value stands for \"undetermined\",\n    * while true is mapped to \"enabled\" and false to \"disabled\" as usual. Note\n    * that the value property is set to false initially.\n    *\n    */\n    triState :\n    {\n      check : \"Boolean\",\n      apply : \"_applyTriState\",\n      nullable : true,\n      init : null\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /** The assigned {@link qx.ui.form.RadioGroup} which handles the switching between registered buttons */\n    _applyGroup : function(value, old)\n    {\n      if (old) {\n        old.remove(this);\n      }\n\n      if (value) {\n        value.add(this);\n      }\n    },\n\n\n    /**\n     * Changes the state of the button dependent on the checked value.\n     *\n     * @param value {Boolean} Current value\n     * @param old {Boolean} Previous value\n     */\n    _applyValue : function(value, old) {\n      value ? this.addState(\"checked\") : this.removeState(\"checked\");\n\n      if (this.isTriState()) {\n        if (value === null) {\n          this.addState(\"undetermined\");\n        } else if (old === null) {\n          this.removeState(\"undetermined\");\n        }\n      }\n    },\n\n    /**\n    * Apply value property when triState property is modified.\n    *\n    * @param value {Boolean} Current value\n    * @param old {Boolean} Previous value\n    */\n    _applyTriState : function(value, old) {\n      this._applyValue(this.getValue());\n    },\n\n\n    /**\n     * Handler for the execute event.\n     *\n     * @param e {qx.event.type.Event} The execute event.\n     */\n    _onExecute : function(e) {\n      this.toggleValue();\n    },\n\n\n    /**\n     * Listener method for \"pointerover\" event.\n     * <ul>\n     * <li>Adds state \"hovered\"</li>\n     * <li>Removes \"abandoned\" and adds \"pressed\" state (if \"abandoned\" state is set)</li>\n     * </ul>\n     *\n     * @param e {qx.event.type.Pointer} Pointer event\n     */\n    _onPointerOver : function(e)\n    {\n      if (e.getTarget() !== this) {\n        return;\n      }\n\n      this.addState(\"hovered\");\n\n      if (this.hasState(\"abandoned\"))\n      {\n        this.removeState(\"abandoned\");\n        this.addState(\"pressed\");\n      }\n    },\n\n\n    /**\n     * Listener method for \"pointerout\" event.\n     * <ul>\n     * <li>Removes \"hovered\" state</li>\n     * <li>Adds \"abandoned\" state (if \"pressed\" state is set)</li>\n     * <li>Removes \"pressed\" state (if \"pressed\" state is set and button is not checked)\n     * </ul>\n     *\n     * @param e {qx.event.type.Pointer} pointer event\n     */\n    _onPointerOut : function(e)\n    {\n      if (e.getTarget() !== this) {\n        return;\n      }\n\n      this.removeState(\"hovered\");\n\n      if (this.hasState(\"pressed\"))\n      {\n        if (!this.getValue()) {\n          this.removeState(\"pressed\");\n        }\n\n        this.addState(\"abandoned\");\n      }\n    },\n\n\n    /**\n     * Listener method for \"pointerdown\" event.\n     * <ul>\n     * <li>Activates capturing</li>\n     * <li>Removes \"abandoned\" state</li>\n     * <li>Adds \"pressed\" state</li>\n     * </ul>\n     *\n     * @param e {qx.event.type.Pointer} pointer event\n     */\n    _onPointerDown : function(e)\n    {\n      if (!e.isLeftPressed()) {\n        return;\n      }\n\n      // Activate capturing if the button get a pointerout while\n      // the button is pressed.\n      this.capture();\n\n      this.removeState(\"abandoned\");\n      this.addState(\"pressed\");\n      e.stopPropagation();\n    },\n\n\n    /**\n     * Listener method for \"pointerup\" event.\n     * <ul>\n     * <li>Releases capturing</li>\n     * <li>Removes \"pressed\" state (if not \"abandoned\" state is set and \"pressed\" state is set)</li>\n     * <li>Removes \"abandoned\" state (if set)</li>\n     * <li>Toggles {@link #value} (if state \"abandoned\" is not set and state \"pressed\" is set)</li>\n     * </ul>\n     *\n     * @param e {qx.event.type.Pointer} pointer event\n     */\n    _onPointerUp : function(e)\n    {\n      this.releaseCapture();\n\n      if (this.hasState(\"abandoned\")) {\n        this.removeState(\"abandoned\");\n      } else if (this.hasState(\"pressed\")) {\n        this.execute();\n      }\n\n      this.removeState(\"pressed\");\n      e.stopPropagation();\n    },\n\n\n    /**\n     * Listener method for \"keydown\" event.<br/>\n     * Removes \"abandoned\" and adds \"pressed\" state\n     * for the keys \"Enter\" or \"Space\"\n     *\n     * @param e {Event} Key event\n     */\n    _onKeyDown : function(e)\n    {\n      switch(e.getKeyIdentifier())\n      {\n        case \"Enter\":\n        case \"Space\":\n          this.removeState(\"abandoned\");\n          this.addState(\"pressed\");\n\n          e.stopPropagation();\n      }\n    },\n\n\n    /**\n     * Listener method for \"keyup\" event.<br/>\n     * Removes \"abandoned\" and \"pressed\" state (if \"pressed\" state is set)\n     * for the keys \"Enter\" or \"Space\". It also toggles the {@link #value} property.\n     *\n     * @param e {Event} Key event\n     */\n    _onKeyUp : function(e)\n    {\n      if (!this.hasState(\"pressed\")) {\n        return;\n      }\n\n      switch(e.getKeyIdentifier())\n      {\n        case \"Enter\":\n        case \"Space\":\n          this.removeState(\"abandoned\");\n          this.execute();\n\n          this.removeState(\"pressed\");\n          e.stopPropagation();\n      }\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * A check box widget with an optional label.\n */\nqx.Class.define(\"qx.ui.form.CheckBox\",\n{\n  extend : qx.ui.form.ToggleButton,\n  include : [\n    qx.ui.form.MForm,\n    qx.ui.form.MModelProperty\n  ],\n  implement : [\n    qx.ui.form.IForm,\n    qx.ui.form.IModel\n  ],\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param label {String?null} An optional label for the check box.\n   */\n  construct : function(label)\n  {\n    if (qx.core.Environment.get(\"qx.debug\")) {\n      this.assertArgumentsCount(arguments, 0, 1);\n    }\n\n    this.base(arguments, label);\n\n    // Initialize the checkbox to a valid value (the default is null which\n    // is invalid)\n    this.setValue(false);\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    // overridden\n    appearance :\n    {\n      refine : true,\n      init : \"checkbox\"\n    },\n\n    // overridden\n    allowGrowX :\n    {\n      refine : true,\n      init : false\n    }\n  },\n\n  members :\n  {\n    /**\n     * @lint ignoreReferenceField(_forwardStates)\n     */\n    _forwardStates :\n    {\n      invalid : true,\n      focused : true,\n      undetermined : true,\n      checked : true,\n      hovered : true\n    },\n\n    /**\n     * overridden (from MExecutable to keep the icon out of the binding)\n     * @lint ignoreReferenceField(_bindableProperties)\n     */\n    _bindableProperties :\n    [\n      \"enabled\",\n      \"label\",\n      \"toolTipText\",\n      \"value\",\n      \"menu\"\n    ]\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Sebastian Werner (wpbasti)\n     * Jonathan Wei (jonathan_rass)\n\n************************************************************************ */\n\n/**\n * Basic class for a selectbox like lists. Basically supports a popup\n * with a list and the whole children management.\n *\n * @childControl list {qx.ui.form.List} list component of the selectbox\n * @childControl popup {qx.ui.popup.Popup} popup which shows the list\n *\n */\nqx.Class.define(\"qx.ui.form.AbstractSelectBox\",\n{\n  extend  : qx.ui.core.Widget,\n  include : [\n    qx.ui.core.MRemoteChildrenHandling,\n    qx.ui.form.MForm\n  ],\n  implement : [\n    qx.ui.form.IForm\n  ],\n  type : \"abstract\",\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    // set the layout\n    var layout = new qx.ui.layout.HBox();\n    this._setLayout(layout);\n    layout.setAlignY(\"middle\");\n\n    // Register listeners\n    this.addListener(\"keypress\", this._onKeyPress);\n    this.addListener(\"blur\", this._onBlur, this);\n\n    // register the resize listener\n    this.addListener(\"resize\", this._onResize, this);\n  },\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    // overridden\n    focusable :\n    {\n      refine : true,\n      init : true\n    },\n\n    // overridden\n    width :\n    {\n      refine : true,\n      init : 120\n    },\n\n    /**\n     * The maximum height of the list popup. Setting this value to\n     * <code>null</code> will set cause the list to be auto-sized.\n     */\n    maxListHeight :\n    {\n      check : \"Number\",\n      apply : \"_applyMaxListHeight\",\n      nullable: true,\n      init : 200\n    },\n\n    /**\n     * Formatter which format the value from the selected <code>ListItem</code>.\n     * Uses the default formatter {@link #_defaultFormat}.\n     */\n    format :\n    {\n      check : \"Function\",\n      init : function(item) {\n        return this._defaultFormat(item);\n      },\n      nullable : true\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    // overridden\n    _createChildControlImpl : function(id, hash)\n    {\n      var control;\n\n      switch(id)\n      {\n        case \"list\":\n          control = new qx.ui.form.List().set({\n            focusable: false,\n            keepFocus: true,\n            height: null,\n            width: null,\n            maxHeight: this.getMaxListHeight(),\n            selectionMode: \"one\",\n            quickSelection: true\n          });\n\n          control.addListener(\"changeSelection\", this._onListChangeSelection, this);\n          control.addListener(\"pointerdown\", this._onListPointerDown, this);\n          control.getChildControl(\"pane\").addListener(\"tap\", this.close, this);\n          break;\n\n        case \"popup\":\n          control = new qx.ui.popup.Popup(new qx.ui.layout.VBox());\n          control.setAutoHide(false);\n          control.setKeepActive(true);\n          control.add(this.getChildControl(\"list\"));\n\n          control.addListener(\"changeVisibility\", this._onPopupChangeVisibility, this);\n          break;\n      }\n\n      return control || this.base(arguments, id);\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      APPLY ROUTINES\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyMaxListHeight : function(value, old) {\n      this.getChildControl(\"list\").setMaxHeight(value);\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the list widget.\n     * @return {qx.ui.form.List} the list\n     */\n    getChildrenContainer : function() {\n      return this.getChildControl(\"list\");\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LIST STUFF\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Shows the list popup.\n     */\n    open : function()\n    {\n      var popup = this.getChildControl(\"popup\");\n\n      popup.placeToWidget(this, true);\n      popup.show();\n    },\n\n\n    /**\n     * Hides the list popup.\n     */\n    close : function() {\n      this.getChildControl(\"popup\").hide();\n    },\n\n\n    /**\n     * Toggles the popup's visibility.\n     */\n    toggle : function()\n    {\n      var isListOpen = this.getChildControl(\"popup\").isVisible();\n      if (isListOpen) {\n        this.close();\n      } else {\n        this.open();\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FORMAT HANDLING\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Return the formatted label text from the <code>ListItem</code>.\n     * The formatter removes all HTML tags and converts all HTML entities\n     * to string characters when the rich property is <code>true</code>.\n     *\n     * @param item {qx.ui.form.ListItem} The list item to format.\n     * @return {String} The formatted text.\n     */\n    _defaultFormat : function(item)\n    {\n      var valueLabel = item ? item.getLabel() : \"\";\n      var rich = item ? item.getRich() : false;\n\n      if (rich) {\n        valueLabel = valueLabel.replace(/<[^>]+?>/g, \"\");\n        valueLabel = qx.bom.String.unescape(valueLabel);\n      }\n\n      return valueLabel;\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT LISTENERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Handler for the blur event of the current widget.\n     *\n     * @param e {qx.event.type.Focus} The blur event.\n     */\n    _onBlur : function(e)\n    {\n      this.close();\n    },\n\n\n    /**\n     * Reacts on special keys and forwards other key events to the list widget.\n     *\n     * @param e {qx.event.type.KeySequence} Keypress event\n     */\n    _onKeyPress : function(e)\n    {\n      // get the key identifier\n      var identifier = e.getKeyIdentifier();\n      var listPopup = this.getChildControl(\"popup\");\n\n      // disabled pageUp and pageDown keys\n      if (listPopup.isHidden() && (identifier == \"PageDown\" || identifier == \"PageUp\")) {\n        e.stopPropagation();\n      }\n\n      // hide the list always on escape\n      else if (!listPopup.isHidden() && identifier == \"Escape\")\n      {\n        this.close();\n        e.stop();\n      }\n\n      // forward the rest of the events to the list\n      else\n      {\n        this.getChildControl(\"list\").handleKeyPress(e);\n      }\n    },\n\n\n    /**\n     * Updates list minimum size.\n     *\n     * @param e {qx.event.type.Data} Data event\n     */\n    _onResize : function(e){\n      this.getChildControl(\"popup\").setMinWidth(e.getData().width);\n    },\n\n\n    /**\n     * Syncs the own property from the list change\n     *\n     * @param e {qx.event.type.Data} Data Event\n     */\n    _onListChangeSelection : function(e) {\n      throw new Error(\"Abstract method: _onListChangeSelection()\");\n    },\n\n\n    /**\n     * Redirects pointerdown event from the list to this widget.\n     *\n     * @param e {qx.event.type.Pointer} Pointer Event\n     */\n    _onListPointerDown : function(e) {\n      throw new Error(\"Abstract method: _onListPointerDown()\");\n    },\n\n\n    /**\n     * Redirects changeVisibility event from the list to this widget.\n     *\n     * @param e {qx.event.type.Data} Property change event\n     */\n    _onPopupChangeVisibility : function(e) {\n      e.getData() == \"visible\" ? this.addState(\"popupOpen\") : this.removeState(\"popupOpen\");\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christian Hagendorn (chris_schmidt)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Each object, which should support single selection have to\n * implement this interface.\n */\nqx.Interface.define(\"qx.ui.core.ISingleSelection\",\n{\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n\n  events :\n  {\n    /** Fires after the selection was modified */\n    \"changeSelection\" : \"qx.event.type.Data\"\n  },\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n\n  members :\n  {\n    /**\n     * Returns an array of currently selected items.\n     *\n     * Note: The result is only a set of selected items, so the order can\n     * differ from the sequence in which the items were added.\n     *\n     * @return {qx.ui.core.Widget[]} List of items.\n     */\n    getSelection : function() {\n      return true;\n    },\n\n    /**\n     * Replaces current selection with the given items.\n     *\n     * @param items {qx.ui.core.Widget[]} Items to select.\n     * @throws {Error} if the item is not a child element.\n     */\n    setSelection : function(items) {\n      return arguments.length == 1;\n    },\n\n    /**\n     * Clears the whole selection at once.\n     */\n    resetSelection : function() {\n      return true;\n    },\n\n    /**\n     * Detects whether the given item is currently selected.\n     *\n     * @param item {qx.ui.core.Widget} Any valid selectable item\n     * @return {Boolean} Whether the item is selected.\n     * @throws {Error} if the item is not a child element.\n     */\n    isSelected : function(item) {\n      return arguments.length == 1;\n    },\n\n    /**\n     * Whether the selection is empty.\n     *\n     * @return {Boolean} Whether the selection is empty.\n     */\n    isSelectionEmpty : function() {\n      return true;\n    },\n\n    /**\n     * Returns all elements which are selectable.\n     *\n     * @param all {Boolean} true for all selectables, false for the\n     *   selectables the user can interactively select\n     * @return {qx.ui.core.Widget[]} The contained items.\n     */\n    getSelectables: function(all) {\n      return arguments.length == 1;\n    }\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This interface should be used in all objects managing a set of items\n * implementing {@link qx.ui.form.IModel}.\n */\nqx.Interface.define(\"qx.ui.form.IModelSelection\",\n{\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /**\n     * Tries to set the selection using the given array containing the\n     * representative models for the selectables.\n     *\n     * @param value {Array} An array of models.\n     */\n    setModelSelection : function(value) {},\n\n\n    /**\n     * Returns an array of the selected models.\n     *\n     * @return {Array} An array containing the models of the currently selected\n     *   items.\n     */\n    getModelSelection : function() {}\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * This mixin links all methods to manage the single selection.\n *\n * The class which includes the mixin has to implements two methods:\n *\n * <ul>\n * <li><code>_getItems</code>, this method has to return a <code>Array</code>\n *    of <code>qx.ui.core.Widget</code> that should be managed from the manager.\n * </li>\n * <li><code>_isAllowEmptySelection</code>, this method has to return a\n *    <code>Boolean</code> value for allowing empty selection or not.\n * </li>\n * </ul>\n */\nqx.Mixin.define(\"qx.ui.core.MSingleSelectionHandling\",\n{\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /** Fires after the value was modified */\n    \"changeValue\" : \"qx.event.type.Data\",\n\n    /** Fires after the selection was modified */\n    \"changeSelection\" : \"qx.event.type.Data\"\n  },\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n\n  members :\n  {\n    /** @type {qx.ui.core.SingleSelectionManager} the single selection manager */\n    __manager : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * setValue implements part of the {@link qx.ui.form.IField} interface.\n     *\n     * @param item {null|qx.ui.core.Widget} Item to set as selected value.\n     * @returns {null|TypeError} The status of this operation.\n     */\n    setValue : function(item) {\n      if (null === item) {\n        this.resetSelection();\n        return null;\n      }\n\n      if (item instanceof qx.ui.core.Widget) {\n        this.__getManager().setSelected(item);\n        return null;\n\n      } else {\n        return new TypeError(\"Given argument is not null or a {qx.ui.core.Widget}.\");\n      }\n    },\n\n    /**\n     * getValue implements part of the {@link qx.ui.form.IField} interface.\n     *\n     * @returns {null|qx.ui.core.Widget} The currently selected widget or null if there is none.\n     */\n    getValue : function() {\n      return this.__getManager().getSelected() || null;\n    },\n\n    /**\n     * resetValue implements part of the {@link qx.ui.form.IField} interface.\n     */\n    resetValue : function() {\n      this.__getManager().resetSelected();\n    },\n\n    /**\n     * Returns an array of currently selected items.\n     *\n     * Note: The result is only a set of selected items, so the order can\n     * differ from the sequence in which the items were added.\n     *\n     * @return {qx.ui.core.Widget[]} List of items.\n     */\n    getSelection : function() {\n      var selected = this.__getManager().getSelected();\n\n      if (selected) {\n        return [selected];\n      } else {\n        return [];\n      }\n    },\n\n    /**\n     * Replaces current selection with the given items.\n     *\n     * @param items {qx.ui.core.Widget[]} Items to select.\n     * @throws {Error} if one of the items is not a child element and if\n     *    items contains more than one elements.\n     */\n    setSelection : function(items) {\n      switch(items.length)\n      {\n        case 0:\n          this.resetSelection();\n          break;\n        case 1:\n          this.__getManager().setSelected(items[0]);\n          break;\n        default:\n          throw new Error(\"Could only select one item, but the selection\" +\n            \" array contains \" + items.length + \" items!\");\n      }\n    },\n\n    /**\n     * Clears the whole selection at once.\n     */\n    resetSelection : function() {\n      this.__getManager().resetSelected();\n    },\n\n    /**\n     * Detects whether the given item is currently selected.\n     *\n     * @param item {qx.ui.core.Widget} Any valid selectable item.\n     * @return {Boolean} Whether the item is selected.\n     * @throws {Error} if one of the items is not a child element.\n     */\n    isSelected : function(item) {\n      return this.__getManager().isSelected(item);\n    },\n\n    /**\n     * Whether the selection is empty.\n     *\n     * @return {Boolean} Whether the selection is empty.\n     */\n    isSelectionEmpty : function() {\n      return this.__getManager().isSelectionEmpty();\n    },\n\n\n    /**\n     * Returns all elements which are selectable.\n     *\n     * @param all {Boolean} true for all selectables, false for the\n     *   selectables the user can interactively select\n     * @return {qx.ui.core.Widget[]} The contained items.\n     */\n    getSelectables: function(all) {\n      return this.__getManager().getSelectables(all);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Event listener for <code>changeSelected</code> event on single\n     * selection manager.\n     *\n     * @param e {qx.event.type.Data} Data event.\n     */\n    _onChangeSelected : function(e) {\n      var newValue = e.getData();\n      var oldValue = e.getOldData();\n      this.fireDataEvent(\"changeValue\", newValue, oldValue);\n\n      newValue == null ? newValue = [] : newValue = [newValue];\n      oldValue == null ? oldValue = [] : oldValue = [oldValue];\n      this.fireDataEvent(\"changeSelection\", newValue, oldValue);\n    },\n\n    /**\n     * Return the selection manager if it is already exists, otherwise creates\n     * the manager.\n     *\n     * @return {qx.ui.core.SingleSelectionManager} Single selection manager.\n     */\n    __getManager : function()\n    {\n      if (this.__manager == null)\n      {\n        var that = this;\n        this.__manager = new qx.ui.core.SingleSelectionManager(\n        {\n          getItems : function() {\n            return that._getItems();\n          },\n\n          isItemSelectable : function(item) {\n            if (that._isItemSelectable) {\n              return that._isItemSelectable(item);\n            } else {\n              return item.isVisible();\n            }\n          }\n        });\n        this.__manager.addListener(\"changeSelected\", this._onChangeSelected, this);\n      }\n      this.__manager.setAllowEmptySelection(this._isAllowEmptySelection());\n\n      return this.__manager;\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n\n  destruct : function() {\n    this._disposeObjects(\"__manager\");\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * This mixin offers the selection of the model properties.\n * It can only be included if the object including it implements the\n * {@link qx.ui.core.ISingleSelection} interface and the selectables implement\n * the {@link qx.ui.form.IModel} interface.\n */\nqx.Mixin.define(\"qx.ui.form.MModelSelection\",\n{\n\n  construct : function() {\n    // create the selection array\n    this.__modelSelection = new qx.data.Array();\n\n    // listen to the changes\n    this.__modelSelection.addListener(\"change\", this.__onModelSelectionArrayChange, this);\n    this.addListener(\"changeSelection\", this.__onModelSelectionChange, this);\n  },\n\n\n  events :\n  {\n    /**\n     * Pseudo event. It will never be fired because the array itself can not\n     * be changed. But the event description is needed for the data binding.\n     */\n    changeModelSelection : \"qx.event.type.Data\"\n  },\n\n\n  members :\n  {\n\n    __modelSelection : null,\n    __inSelectionChange : false,\n\n\n    /**\n     * Handler for the selection change of the including class e.g. SelectBox,\n     * List, ...\n     * It sets the new modelSelection via {@link #setModelSelection}.\n     */\n    __onModelSelectionChange : function() {\n      if (this.__inSelectionChange) {\n        return;\n      }\n      var data = this.getSelection();\n\n      // create the array with the modes inside\n      var modelSelection = [];\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        // fallback if getModel is not implemented\n        var model = item.getModel ? item.getModel() : null;\n        if (model !== null) {\n          modelSelection.push(model);\n        }\n      }\n\n      try {\n        this.setModelSelection(modelSelection);\n      } catch (e) {\n        throw new Error(\n          \"Could not set the model selection. Maybe your models are not unique? \" + e\n        );\n      }\n    },\n\n\n    /**\n     * Listener for the change of the internal model selection data array.\n     */\n    __onModelSelectionArrayChange : function() {\n      this.__inSelectionChange = true;\n      var selectables = this.getSelectables(true);\n      var itemSelection = [];\n\n      var modelSelection = this.__modelSelection.toArray();\n      for (var i = 0; i < modelSelection.length; i++) {\n        var model = modelSelection[i];\n        for (var j = 0; j < selectables.length; j++) {\n          var selectable = selectables[j];\n          // fallback if getModel is not implemented\n          var selectableModel = selectable.getModel ? selectable.getModel() : null;\n          if (model === selectableModel) {\n            itemSelection.push(selectable);\n            break;\n          }\n        }\n      }\n      this.setSelection(itemSelection);\n      this.__inSelectionChange = false;\n\n      // check if the setting has worked\n      var currentSelection = this.getSelection();\n      if (!qx.lang.Array.equals(currentSelection, itemSelection)) {\n        // if not, set the actual selection\n        this.__onModelSelectionChange();\n      }\n    },\n\n\n    /**\n     * Returns always an array of the models of the selected items. If no\n     * item is selected or no model is given, the array will be empty.\n     *\n     * *CAREFUL!* The model selection can only work if every item item in the\n     * selection providing widget has a model property!\n     *\n     * @return {qx.data.Array} An array of the models of the selected items.\n     */\n    getModelSelection : function()\n    {\n      return this.__modelSelection;\n    },\n\n\n    /**\n     * Takes the given models in the array and searches for the corresponding\n     * selectables. If an selectable does have that model attached, it will be\n     * selected.\n     *\n     * *Attention:* This method can have a time complexity of O(n^2)!\n     *\n     * *CAREFUL!* The model selection can only work if every item item in the\n     * selection providing widget has a model property!\n     *\n     * @param modelSelection {Array} An array of models, which should be\n     *   selected.\n     */\n    setModelSelection : function(modelSelection)\n    {\n      // check for null values\n      if (!modelSelection)\n      {\n        this.__modelSelection.removeAll();\n        return;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertArray(modelSelection, \"Please use an array as parameter.\");\n      }\n\n      // add the first two parameter\n      modelSelection.unshift(this.__modelSelection.getLength()); // remove index\n      modelSelection.unshift(0);  // start index\n\n      var returnArray = this.__modelSelection.splice.apply(this.__modelSelection, modelSelection);\n      returnArray.dispose();\n    }\n  },\n\n  destruct : function() {\n    this._disposeObjects(\"__modelSelection\");\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Sebastian Werner (wpbasti)\n     * Jonathan Wei (jonathan_rass)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * A form widget which allows a single selection. Looks somewhat like\n * a normal button, but opens a list of items to select when tapping on it.\n *\n * Keep in mind that the SelectBox widget has always a selected item (due to the\n * single selection mode). Right after adding the first item a <code>changeSelection</code>\n * event is fired.\n *\n * <pre class='javascript'>\n * var selectBox = new qx.ui.form.SelectBox();\n *\n * selectBox.addListener(\"changeSelection\", function(e) {\n *   // ...\n * });\n *\n * // now the 'changeSelection' event is fired\n * selectBox.add(new qx.ui.form.ListItem(\"Item 1\"));\n * </pre>\n *\n * @childControl spacer {qx.ui.core.Spacer} flexible spacer widget\n * @childControl atom {qx.ui.basic.Atom} shows the text and icon of the content\n * @childControl arrow {qx.ui.basic.Image} shows the arrow to open the popup\n */\nqx.Class.define(\"qx.ui.form.SelectBox\",\n{\n  extend : qx.ui.form.AbstractSelectBox,\n  implement : [\n    qx.ui.core.ISingleSelection,\n    qx.ui.form.IModelSelection,\n    qx.ui.form.IField\n  ],\n  include : [qx.ui.core.MSingleSelectionHandling, qx.ui.form.MModelSelection],\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    this._createChildControl(\"atom\");\n    this._createChildControl(\"spacer\");\n    this._createChildControl(\"arrow\");\n\n    // Register listener\n    this.addListener(\"pointerover\", this._onPointerOver, this);\n    this.addListener(\"pointerout\", this._onPointerOut, this);\n    this.addListener(\"tap\", this._onTap, this);\n\n    this.addListener(\"keyinput\", this._onKeyInput, this);\n    this.addListener(\"changeSelection\", this.__onChangeSelection, this);\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n\n  properties :\n  {\n    // overridden\n    appearance :\n    {\n      refine : true,\n      init : \"selectbox\"\n    },\n    \n    rich: {\n      init: false,\n      check: \"Boolean\",\n      apply: \"_applyRich\"\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n\n  members :\n  {\n    /** @type {qx.ui.form.ListItem} instance */\n    __preSelectedItem : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET API\n    ---------------------------------------------------------------------------\n    */\n\n    _applyRich: function(value, oldValue) {\n      this.getChildControl(\"atom\").setRich(value);\n    },\n    \n    // overridden\n    _defaultFormat: function(item) {\n      if (item) {\n        if (typeof item.isRich == \"function\" && item.isRich()) {\n          this.setRich(true);\n        }\n        return item.getLabel();\n      }\n      return null;\n    },\n\n    // overridden\n    _createChildControlImpl : function(id, hash)\n    {\n      var control;\n\n      switch(id)\n      {\n        case \"spacer\":\n          control = new qx.ui.core.Spacer();\n          this._add(control, {flex: 1});\n          break;\n\n        case \"atom\":\n          control = new qx.ui.basic.Atom(\" \");\n          control.setCenter(false);\n          control.setAnonymous(true);\n\n          this._add(control, {flex:1});\n          break;\n\n        case \"arrow\":\n          control = new qx.ui.basic.Image();\n          control.setAnonymous(true);\n\n          this._add(control);\n          break;\n      }\n\n      return control || this.base(arguments, id);\n    },\n\n    // overridden\n    /**\n     * @lint ignoreReferenceField(_forwardStates)\n     */\n    _forwardStates : {\n      focused : true\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPER METHODS FOR SELECTION API\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Returns the list items for the selection.\n     *\n     * @return {qx.ui.form.ListItem[]} List items to select.\n     */\n    _getItems : function() {\n      return this.getChildrenContainer().getChildren();\n    },\n\n    /**\n     * Returns if the selection could be empty or not.\n     *\n     * @return {Boolean} <code>true</code> If selection could be empty,\n     *    <code>false</code> otherwise.\n     */\n    _isAllowEmptySelection: function() {\n      return this.getChildrenContainer().getSelectionMode() !== \"one\";\n    },\n\n    /**\n     * Event handler for <code>changeSelection</code>.\n     *\n     * @param e {qx.event.type.Data} Data event.\n     */\n    __onChangeSelection : function(e)\n    {\n      var listItem = e.getData()[0];\n\n      var list = this.getChildControl(\"list\");\n      if (list.getSelection()[0] != listItem) {\n        if(listItem) {\n          list.setSelection([listItem]);\n        } else {\n          list.resetSelection();\n        }\n      }\n\n      this.__updateIcon();\n      this.__updateLabel();\n    },\n\n\n    /**\n     * Sets the icon inside the list to match the selected ListItem.\n     */\n    __updateIcon : function()\n    {\n      var listItem = this.getChildControl(\"list\").getSelection()[0];\n      var atom = this.getChildControl(\"atom\");\n      var icon = listItem ? listItem.getIcon() : \"\";\n      icon == null ? atom.resetIcon() : atom.setIcon(icon);\n    },\n\n    /**\n     * Sets the label inside the list to match the selected ListItem.\n     */\n    __updateLabel : function()\n    {\n      var listItem = this.getChildControl(\"list\").getSelection()[0];\n      var atom = this.getChildControl(\"atom\");\n      var label = listItem ? listItem.getLabel() : \"\";\n      var format = this.getFormat();\n      if (format != null && listItem) {\n        label = format.call(this, listItem);\n      }\n\n      // check for translation\n      if (label && label.translate) {\n        label = label.translate();\n      }\n      label == null ? atom.resetLabel() : atom.setLabel(label);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT LISTENERS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Listener method for \"pointerover\" event\n     * <ul>\n     * <li>Adds state \"hovered\"</li>\n     * <li>Removes \"abandoned\" and adds \"pressed\" state (if \"abandoned\" state is set)</li>\n     * </ul>\n     *\n     * @param e {qx.event.type.Pointer} Pointer event\n     */\n    _onPointerOver : function(e)\n    {\n      if (!this.isEnabled() || e.getTarget() !== this) {\n        return;\n      }\n\n      if (this.hasState(\"abandoned\"))\n      {\n        this.removeState(\"abandoned\");\n        this.addState(\"pressed\");\n      }\n\n      this.addState(\"hovered\");\n    },\n\n\n    /**\n     * Listener method for \"pointerout\" event\n     * <ul>\n     * <li>Removes \"hovered\" state</li>\n     * <li>Adds \"abandoned\" and removes \"pressed\" state (if \"pressed\" state is set)</li>\n     * </ul>\n     *\n     * @param e {qx.event.type.Pointer} Pointer event\n     */\n    _onPointerOut : function(e)\n    {\n      if (!this.isEnabled() || e.getTarget() !== this) {\n        return;\n      }\n\n      this.removeState(\"hovered\");\n\n      if (this.hasState(\"pressed\"))\n      {\n        this.removeState(\"pressed\");\n        this.addState(\"abandoned\");\n      }\n    },\n\n\n    /**\n     * Toggles the popup's visibility.\n     *\n     * @param e {qx.event.type.Pointer} Pointer event\n     */\n    _onTap : function(e) {\n      this.toggle();\n    },\n\n\n    // overridden\n    _onKeyPress : function(e)\n    {\n      var iden = e.getKeyIdentifier();\n      if(iden == \"Enter\" || iden == \"Space\")\n      {\n        // Apply pre-selected item (translate quick selection to real selection)\n        if (this.__preSelectedItem)\n        {\n          this.setSelection([this.__preSelectedItem]);\n          this.__preSelectedItem = null;\n        }\n\n        this.toggle();\n      }\n      else\n      {\n        this.base(arguments, e);\n      }\n    },\n\n    /**\n     * Forwards key event to list widget.\n     *\n     * @param e {qx.event.type.KeyInput} Key event\n     */\n    _onKeyInput : function(e)\n    {\n      // clone the event and re-calibrate the event\n      var clone = e.clone();\n      clone.setTarget(this._list);\n      clone.setBubbles(false);\n\n      // forward it to the list\n      this.getChildControl(\"list\").dispatchEvent(clone);\n    },\n\n\n    // overridden\n    _onListPointerDown : function(e)\n    {\n      // Apply pre-selected item (translate quick selection to real selection)\n      if (this.__preSelectedItem)\n      {\n        this.setSelection([this.__preSelectedItem]);\n        this.__preSelectedItem = null;\n      }\n    },\n\n\n    // overridden\n    _onListChangeSelection : function(e)\n    {\n      var current = e.getData();\n      var old = e.getOldData();\n\n      // Remove old listeners for icon and label changes.\n      if (old && old.length > 0)\n      {\n        old[0].removeListener(\"changeIcon\", this.__updateIcon, this);\n        old[0].removeListener(\"changeLabel\", this.__updateLabel, this);\n      }\n\n\n      if (current.length > 0)\n      {\n        // Ignore quick context (e.g. pointerover)\n        // and configure the new value when closing the popup afterwards\n        var popup = this.getChildControl(\"popup\");\n        var list = this.getChildControl(\"list\");\n        var context = list.getSelectionContext();\n\n        if (popup.isVisible() && (context == \"quick\" || context == \"key\"))\n        {\n          this.__preSelectedItem = current[0];\n        }\n        else\n        {\n          this.setSelection([current[0]]);\n          this.__preSelectedItem = null;\n        }\n\n        // Add listeners for icon and label changes\n        current[0].addListener(\"changeIcon\", this.__updateIcon, this);\n        current[0].addListener(\"changeLabel\", this.__updateLabel, this);\n      }\n      else\n      {\n        this.resetSelection();\n      }\n    },\n\n    // overridden\n    _onPopupChangeVisibility : function(e)\n    {\n      this.base(arguments, e);\n\n      // Synchronize the current selection to the list selection\n      // when the popup is closed. The list selection may be invalid\n      // because of the quick selection handling which is not\n      // directly applied to the selectbox\n      var popup = this.getChildControl(\"popup\");\n      if (!popup.isVisible())\n      {\n        var list = this.getChildControl(\"list\");\n\n        // check if the list has any children before selecting\n        if (list.hasChildren()) {\n          list.setSelection(this.getSelection());\n        }\n      } else {\n        // ensure that the list is never bigger that the max list height and\n        // the available space in the viewport\n        var distance = popup.getLayoutLocation(this);\n        var viewPortHeight = qx.bom.Viewport.getHeight();\n        // distance to the bottom and top borders of the viewport\n        var toTop = distance.top;\n        var toBottom = viewPortHeight - distance.bottom;\n        var availableHeigth = toTop > toBottom ? toTop : toBottom;\n\n        var maxListHeight = this.getMaxListHeight();\n        var list = this.getChildControl(\"list\");\n        if (maxListHeight == null || maxListHeight > availableHeigth) {\n          list.setMaxHeight(availableHeigth);\n        } else if (maxListHeight < availableHeigth) {\n          list.setMaxHeight(maxListHeight);\n        }\n      }\n    }\n\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCT\n  *****************************************************************************\n  */\n\n\n  destruct : function() {\n    this.__preSelectedItem = null;\n  }\n});\n",
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Sebastian Werner (wpbasti)\n     * Jonathan Wei (jonathan_rass)\n\n************************************************************************ */\n\n/**\n * Basically a text fields which allows a selection from a list of\n * preconfigured options. Allows custom user input. Public API is value\n * oriented.\n *\n * To work with selections without custom input the ideal candidates are\n * the {@link SelectBox} or the {@link RadioGroup}.\n *\n * @childControl textfield {qx.ui.form.TextField} textfield component of the combobox\n * @childControl button {qx.ui.form.Button} button to open the list popup\n * @childControl list {qx.ui.form.List} list inside the popup\n */\nqx.Class.define(\"qx.ui.form.ComboBox\",\n{\n  extend  : qx.ui.form.AbstractSelectBox,\n  implement : [qx.ui.form.IStringForm],\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    var textField = this._createChildControl(\"textfield\");\n    this._createChildControl(\"button\");\n\n    this.addListener(\"tap\", this._onTap);\n\n    // forward the focusin and focusout events to the textfield. The textfield\n    // is not focusable so the events need to be forwarded manually.\n    this.addListener(\"focusin\", function(e) {\n      textField.fireNonBubblingEvent(\"focusin\", qx.event.type.Focus);\n    }, this);\n\n    this.addListener(\"focusout\", function(e) {\n      textField.fireNonBubblingEvent(\"focusout\", qx.event.type.Focus);\n    }, this);\n  },\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    // overridden\n    appearance :\n    {\n      refine : true,\n      init : \"combobox\"\n    },\n\n\n    /**\n     * String value which will be shown as a hint if the field is all of:\n     * unset, unfocused and enabled. Set to null to not show a placeholder\n     * text.\n     */\n    placeholder :\n    {\n      check : \"String\",\n      nullable : true,\n      apply : \"_applyPlaceholder\"\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /** Whenever the value is changed this event is fired\n     *\n     *  Event data: The new text value of the field.\n     */\n    \"changeValue\" : \"qx.event.type.Data\"\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __preSelectedItem : null,\n    __onInputId : null,\n\n\n    // property apply\n    _applyPlaceholder : function(value, old) {\n      this.getChildControl(\"textfield\").setPlaceholder(value);\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET API\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _createChildControlImpl : function(id, hash)\n    {\n      var control;\n\n      switch(id)\n      {\n        case \"textfield\":\n          control = new qx.ui.form.TextField();\n          control.setFocusable(false);\n          control.addState(\"inner\");\n          control.addListener(\"changeValue\", this._onTextFieldChangeValue, this);\n          control.addListener(\"blur\", this.close, this);\n          this._add(control, {flex: 1});\n          break;\n\n        case \"button\":\n          control = new qx.ui.form.Button();\n          control.setFocusable(false);\n          control.setKeepActive(true);\n          control.addState(\"inner\");\n          control.addListener(\"execute\", this.toggle, this);\n          this._add(control);\n          break;\n\n        case \"list\":\n          // Get the list from the AbstractSelectBox\n          control = this.base(arguments, id);\n\n          // Change selection mode\n          control.setSelectionMode(\"single\");\n          break;\n      }\n\n      return control || this.base(arguments, id);\n    },\n\n\n    // overridden\n    /**\n     * @lint ignoreReferenceField(_forwardStates)\n     */\n    _forwardStates : {\n      focused : true,\n      invalid : true\n    },\n\n\n    // overridden\n    tabFocus : function()\n    {\n      var field = this.getChildControl(\"textfield\");\n\n      field.getFocusElement().focus();\n      field.selectAllText();\n    },\n\n\n    // overridden\n    focus : function()\n    {\n      this.base(arguments);\n      this.getChildControl(\"textfield\").getFocusElement().focus();\n    },\n\n\n    // interface implementation\n    setValue : function(value)\n    {\n      var textfield = this.getChildControl(\"textfield\");\n      if (textfield.getValue() == value) {\n        return;\n      }\n\n      // Apply to text field\n      textfield.setValue(value);\n    },\n\n\n    // interface implementation\n    getValue : function() {\n      return this.getChildControl(\"textfield\").getValue();\n    },\n\n\n    // interface implementation\n    resetValue : function() {\n      this.getChildControl(\"textfield\").setValue(null);\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT LISTENERS\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _onKeyPress : function(e)\n    {\n      var popup = this.getChildControl(\"popup\");\n      var iden = e.getKeyIdentifier();\n\n      if (iden == \"Down\" && e.isAltPressed())\n      {\n        this.getChildControl(\"button\").addState(\"selected\");\n        this.toggle();\n        e.stopPropagation();\n      }\n      else if (iden == \"Enter\")\n      {\n        if (popup.isVisible())\n        {\n          this._setPreselectedItem();\n          this.resetAllTextSelection();\n          this.close();\n          e.stop();\n        }\n      }\n      else if (popup.isVisible())\n      {\n        this.base(arguments, e);\n      }\n    },\n\n\n    /**\n     * Toggles the popup's visibility.\n     *\n     * @param e {qx.event.type.Pointer} Pointer tap event\n     */\n    _onTap : function(e) {\n      this.close();\n    },\n\n\n    // overridden\n    _onListPointerDown : function(e) {\n      this._setPreselectedItem();\n    },\n\n\n    /**\n     * Apply pre-selected item\n     */\n    _setPreselectedItem: function() {\n      if (this.__preSelectedItem)\n      {\n        var label = this.__preSelectedItem.getLabel();\n\n        if (this.getFormat()!= null) {\n          label = this.getFormat().call(this, this.__preSelectedItem);\n        }\n\n        // check for translation\n        if (label && label.translate) {\n          label = label.translate();\n        }\n        this.setValue(label);\n        this.__preSelectedItem = null;\n      }\n    },\n\n\n    // overridden\n    _onListChangeSelection : function(e)\n    {\n      var current = e.getData();\n      if (current.length > 0)\n      {\n        // Ignore quick context (e.g. pointerover)\n        // and configure the new value when closing the popup afterwards\n        var list = this.getChildControl(\"list\");\n        var ctx = list.getSelectionContext();\n        if (ctx == \"quick\" || ctx == \"key\" )\n        {\n          this.__preSelectedItem = current[0];\n        }\n        else\n        {\n          var label = current[0].getLabel();\n\n          if (this.getFormat()!= null) {\n            label = this.getFormat().call(this, current[0]);\n          }\n\n          // check for translation\n          if (label && label.translate) {\n            label = label.translate();\n          }\n          this.setValue(label);\n          this.__preSelectedItem = null;\n        }\n      }\n    },\n\n\n    // overridden\n    _onPopupChangeVisibility : function(e)\n    {\n      this.base(arguments, e);\n\n      // Synchronize the list with the current value on every\n      // opening of the popup. This is useful because through\n      // the quick selection mode, the list may keep an invalid\n      // selection on close or the user may enter text while\n      // the combobox is closed and reopen it afterwards.\n      var popup = this.getChildControl(\"popup\");\n      if (popup.isVisible())\n      {\n        var list = this.getChildControl(\"list\");\n        var value = this.getValue();\n        var item = null;\n\n        if (value) {\n          item = list.findItem(value);\n        }\n\n        if (item) {\n          list.setSelection([item]);\n        } else {\n          list.resetSelection();\n        }\n      }\n      else\n      {\n        // When closing the popup text should selected and field should\n        // have the focus. Identical to when reaching the field using the TAB key.\n        //\n        // Only focus if popup was visible before. Fixes [BUG #4453].\n        if (e.getOldData() == \"visible\") {\n          this.tabFocus();\n        }\n      }\n\n      // In all cases: Remove focused state from button\n      this.getChildControl(\"button\").removeState(\"selected\");\n    },\n\n\n    /**\n     * Reacts on value changes of the text field and syncs the\n     * value to the combobox.\n     *\n     * @param e {qx.event.type.Data} Change event\n     */\n    _onTextFieldChangeValue : function(e)\n    {\n      var value = e.getData();\n\n      var list = this.getChildControl(\"list\");\n      if (value != null) {\n        // Select item when possible\n        var item = list.findItem(value, false);\n        if (item) {\n          list.setSelection([item]);\n        } else {\n          list.resetSelection();\n        }\n      } else {\n        list.resetSelection();\n      }\n\n      // Fire event\n      this.fireDataEvent(\"changeValue\", value, e.getOldData());\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TEXTFIELD SELECTION API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the current selection.\n     * This method only works if the widget is already created and\n     * added to the document.\n     *\n     * @return {String|null}\n     */\n    getTextSelection : function() {\n      return this.getChildControl(\"textfield\").getTextSelection();\n    },\n\n\n    /**\n     * Returns the current selection length.\n     * This method only works if the widget is already created and\n     * added to the document.\n     *\n     * @return {Integer|null}\n     */\n    getTextSelectionLength : function() {\n      return this.getChildControl(\"textfield\").getTextSelectionLength();\n    },\n\n\n    /**\n     * Set the selection to the given start and end (zero-based).\n     * If no end value is given the selection will extend to the\n     * end of the textfield's content.\n     * This method only works if the widget is already created and\n     * added to the document.\n     *\n     * @param start {Integer} start of the selection (zero-based)\n     * @param end {Integer} end of the selection\n     */\n    setTextSelection : function(start, end) {\n      this.getChildControl(\"textfield\").setTextSelection(start, end);\n    },\n\n\n    /**\n     * Clears the current selection.\n     * This method only works if the widget is already created and\n     * added to the document.\n     *\n     */\n    clearTextSelection : function() {\n      this.getChildControl(\"textfield\").clearTextSelection();\n    },\n\n\n    /**\n     * Selects the whole content\n     *\n     */\n    selectAllText : function() {\n      this.getChildControl(\"textfield\").selectAllText();\n    },\n\n\n    /**\n     * Clear any text selection, then select all text\n     *\n     */\n    resetAllTextSelection: function() {\n      this.clearTextSelection();\n      this.selectAllText();\n    }\n  }\n});\n"
  ]
}